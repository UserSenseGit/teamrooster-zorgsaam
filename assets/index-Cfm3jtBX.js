(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function d0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Cd={exports:{}},gl={};var N_;function fS(){if(N_)return gl;N_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return gl.Fragment=t,gl.jsx=i,gl.jsxs=i,gl}var O_;function dS(){return O_||(O_=1,Cd.exports=fS()),Cd.exports}var Y=dS(),Id={exports:{}},Tt={};var M_;function mS(){if(M_)return Tt;M_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),D=Symbol.iterator;function Q(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,tt={};function ft(M,F,nt){this.props=M,this.context=F,this.refs=tt,this.updater=nt||Z}ft.prototype.isReactComponent={},ft.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},ft.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function yt(){}yt.prototype=ft.prototype;function _t(M,F,nt){this.props=M,this.context=F,this.refs=tt,this.updater=nt||Z}var te=_t.prototype=new yt;te.constructor=_t,it(te,ft.prototype),te.isPureReactComponent=!0;var fe=Array.isArray;function kt(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(M,F,nt){var st=nt.ref;return{$$typeof:r,type:M,key:F,ref:st!==void 0?st:null,props:nt}}function V(M,F){return C(M.type,F,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function k(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return F[nt]})}var w=/\/+/g;function Xt(M,F){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):F.toString(36)}function me(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(kt,kt):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function q(M,F,nt,st,gt){var Et=typeof M;(Et==="undefined"||Et==="boolean")&&(M=null);var It=!1;if(M===null)It=!0;else switch(Et){case"bigint":case"string":case"number":It=!0;break;case"object":switch(M.$$typeof){case r:case t:It=!0;break;case S:return It=M._init,q(It(M._payload),F,nt,st,gt)}}if(It)return gt=gt(M),It=st===""?"."+Xt(M,0):st,fe(gt)?(nt="",It!=null&&(nt=It.replace(w,"$&/")+"/"),q(gt,F,nt,"",function(Li){return Li})):gt!=null&&(O(gt)&&(gt=V(gt,nt+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(w,"$&/")+"/")+It)),F.push(gt)),1;It=0;var ue=st===""?".":st+":";if(fe(M))for(var ne=0;ne<M.length;ne++)st=M[ne],Et=ue+Xt(st,ne),It+=q(st,F,nt,Et,gt);else if(ne=Q(M),typeof ne=="function")for(M=ne.call(M),ne=0;!(st=M.next()).done;)st=st.value,Et=ue+Xt(st,ne++),It+=q(st,F,nt,Et,gt);else if(Et==="object"){if(typeof M.then=="function")return q(me(M),F,nt,st,gt);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return It}function et(M,F,nt){if(M==null)return M;var st=[],gt=0;return q(M,st,"","",function(Et){return F.call(nt,Et,gt++)}),st}function ct(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var Ut=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},qt={map:et,forEach:function(M,F,nt){et(M,function(){F.apply(this,arguments)},nt)},count:function(M){var F=0;return et(M,function(){F++}),F},toArray:function(M){return et(M,function(F){return F})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Tt.Activity=b,Tt.Children=qt,Tt.Component=ft,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=_t,Tt.StrictMode=a,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Tt.cache=function(M){return function(){return M.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(M,F,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=it({},M.props),gt=M.key;if(F!=null)for(Et in F.key!==void 0&&(gt=""+F.key),F)!A.call(F,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&F.ref===void 0||(st[Et]=F[Et]);var Et=arguments.length-2;if(Et===1)st.children=nt;else if(1<Et){for(var It=Array(Et),ue=0;ue<Et;ue++)It[ue]=arguments[ue+2];st.children=It}return C(M.type,gt,st)},Tt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Tt.createElement=function(M,F,nt){var st,gt={},Et=null;if(F!=null)for(st in F.key!==void 0&&(Et=""+F.key),F)A.call(F,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(gt[st]=F[st]);var It=arguments.length-2;if(It===1)gt.children=nt;else if(1<It){for(var ue=Array(It),ne=0;ne<It;ne++)ue[ne]=arguments[ne+2];gt.children=ue}if(M&&M.defaultProps)for(st in It=M.defaultProps,It)gt[st]===void 0&&(gt[st]=It[st]);return C(M,Et,gt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(M){return{$$typeof:p,render:M}},Tt.isValidElement=O,Tt.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:ct}},Tt.memo=function(M,F){return{$$typeof:y,type:M,compare:F===void 0?null:F}},Tt.startTransition=function(M){var F=I.T,nt={};I.T=nt;try{var st=M(),gt=I.S;gt!==null&&gt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(kt,Ut)}catch(Et){Ut(Et)}finally{F!==null&&nt.types!==null&&(F.types=nt.types),I.T=F}},Tt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Tt.use=function(M){return I.H.use(M)},Tt.useActionState=function(M,F,nt){return I.H.useActionState(M,F,nt)},Tt.useCallback=function(M,F){return I.H.useCallback(M,F)},Tt.useContext=function(M){return I.H.useContext(M)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(M,F){return I.H.useDeferredValue(M,F)},Tt.useEffect=function(M,F){return I.H.useEffect(M,F)},Tt.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Tt.useId=function(){return I.H.useId()},Tt.useImperativeHandle=function(M,F,nt){return I.H.useImperativeHandle(M,F,nt)},Tt.useInsertionEffect=function(M,F){return I.H.useInsertionEffect(M,F)},Tt.useLayoutEffect=function(M,F){return I.H.useLayoutEffect(M,F)},Tt.useMemo=function(M,F){return I.H.useMemo(M,F)},Tt.useOptimistic=function(M,F){return I.H.useOptimistic(M,F)},Tt.useReducer=function(M,F,nt){return I.H.useReducer(M,F,nt)},Tt.useRef=function(M){return I.H.useRef(M)},Tt.useState=function(M){return I.H.useState(M)},Tt.useSyncExternalStore=function(M,F,nt){return I.H.useSyncExternalStore(M,F,nt)},Tt.useTransition=function(){return I.H.useTransition()},Tt.version="19.2.4",Tt}var V_;function Em(){return V_||(V_=1,Id.exports=mS()),Id.exports}var Yt=Em();const gS=d0(Yt);var Dd={exports:{}},pl={},Nd={exports:{}},Od={};var x_;function pS(){return x_||(x_=1,(function(r){function t(q,et){var ct=q.length;q.push(et);t:for(;0<ct;){var Ut=ct-1>>>1,qt=q[Ut];if(0<l(qt,et))q[Ut]=et,q[ct]=qt,ct=Ut;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var et=q[0],ct=q.pop();if(ct!==et){q[0]=ct;t:for(var Ut=0,qt=q.length,M=qt>>>1;Ut<M;){var F=2*(Ut+1)-1,nt=q[F],st=F+1,gt=q[st];if(0>l(nt,ct))st<qt&&0>l(gt,nt)?(q[Ut]=gt,q[st]=ct,Ut=st):(q[Ut]=nt,q[F]=ct,Ut=F);else if(st<qt&&0>l(gt,ct))q[Ut]=gt,q[st]=ct,Ut=st;else break t}}return et}function l(q,et){var ct=q.sortIndex-et.sortIndex;return ct!==0?ct:q.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],y=[],S=1,b=null,D=3,Q=!1,Z=!1,it=!1,tt=!1,ft=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function te(q){for(var et=i(y);et!==null;){if(et.callback===null)a(y);else if(et.startTime<=q)a(y),et.sortIndex=et.expirationTime,t(v,et);else break;et=i(y)}}function fe(q){if(it=!1,te(q),!Z)if(i(v)!==null)Z=!0,kt||(kt=!0,k());else{var et=i(y);et!==null&&me(fe,et.startTime-q)}}var kt=!1,I=-1,A=5,C=-1;function V(){return tt?!0:!(r.unstable_now()-C<A)}function O(){if(tt=!1,kt){var q=r.unstable_now();C=q;var et=!0;try{t:{Z=!1,it&&(it=!1,yt(I),I=-1),Q=!0;var ct=D;try{e:{for(te(q),b=i(v);b!==null&&!(b.expirationTime>q&&V());){var Ut=b.callback;if(typeof Ut=="function"){b.callback=null,D=b.priorityLevel;var qt=Ut(b.expirationTime<=q);if(q=r.unstable_now(),typeof qt=="function"){b.callback=qt,te(q),et=!0;break e}b===i(v)&&a(v),te(q)}else a(v);b=i(v)}if(b!==null)et=!0;else{var M=i(y);M!==null&&me(fe,M.startTime-q),et=!1}}break t}finally{b=null,D=ct,Q=!1}et=void 0}}finally{et?k():kt=!1}}}var k;if(typeof _t=="function")k=function(){_t(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Xt=w.port2;w.port1.onmessage=O,k=function(){Xt.postMessage(null)}}else k=function(){ft(O,0)};function me(q,et){I=ft(function(){q(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(q){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var ct=D;D=et;try{return q()}finally{D=ct}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(q,et){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ct=D;D=q;try{return et()}finally{D=ct}},r.unstable_scheduleCallback=function(q,et,ct){var Ut=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Ut+ct:Ut):ct=Ut,q){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ct+qt,q={id:S++,callback:et,priorityLevel:q,startTime:ct,expirationTime:qt,sortIndex:-1},ct>Ut?(q.sortIndex=ct,t(y,q),i(v)===null&&q===i(y)&&(it?(yt(I),I=-1):it=!0,me(fe,ct-Ut))):(q.sortIndex=qt,t(v,q),Z||Q||(Z=!0,kt||(kt=!0,k()))),q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(q){var et=D;return function(){var ct=D;D=et;try{return q.apply(this,arguments)}finally{D=ct}}}})(Od)),Od}var k_;function yS(){return k_||(k_=1,Nd.exports=pS()),Nd.exports}var Md={exports:{}},tn={};var U_;function _S(){if(U_)return tn;U_=1;var r=Em();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:v,containerInfo:y,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tn.createPortal=function(v,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,S)},tn.flushSync=function(v){var y=d.T,S=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=S,a.d.f()}},tn.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},tn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},tn.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var S=y.as,b=p(S,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:D,fetchPriority:Q}):S==="script"&&a.d.X(v,{crossOrigin:b,integrity:D,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=p(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},tn.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,b=p(S,y.crossOrigin);a.d.L(v,S,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(v,y){if(typeof v=="string")if(y){var S=p(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},tn.requestFormReset=function(v){a.d.r(v)},tn.unstable_batchedUpdates=function(v,y){return v(y)},tn.useFormState=function(v,y,S){return d.H.useFormState(v,y,S)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var L_;function vS(){if(L_)return Md.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=_S(),Md.exports}var P_;function ES(){if(P_)return pl;P_=1;var r=yS(),t=Em(),i=vS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,D=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case ft:return"Profiler";case tt:return"StrictMode";case fe:return"Suspense";case kt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case _t:return e.displayName||"Context";case yt:return(e._context.displayName||"Context")+".Consumer";case te:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Xt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Xt(e(n))}catch{}}return null}var me=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Ut=[],qt=-1;function M(e){return{current:e}}function F(e){0>qt||(e.current=Ut[qt],Ut[qt]=null,qt--)}function nt(e,n){qt++,Ut[qt]=e.current,e.current=n}var st=M(null),gt=M(null),Et=M(null),It=M(null);function ue(e,n){switch(nt(Et,n),nt(gt,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Wy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Wy(n),e=t_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(st),nt(st,e)}function ne(){F(st),F(gt),F(Et)}function Li(e){e.memoizedState!==null&&nt(It,e);var n=st.current,s=t_(n,e.type);n!==s&&(nt(gt,e),nt(st,s))}function J(e){gt.current===e&&(F(st),F(gt)),It.current===e&&(F(It),hl._currentValue=ct)}var Ht,Se;function Ae(e){if(Ht===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ht=n&&n[1]||"",Se=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ht+e+Se}var on=!1;function ke(e,n){if(!e||on)return"";on=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){z=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{on=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ae(s):""}function We(e,n){switch(e.tag){case 26:case 27:case 5:return Ae(e.type);case 16:return Ae("Lazy");case 13:return e.child!==n&&n!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return ke(e.type,!1);case 11:return ke(e.type.render,!1);case 1:return ke(e.type,!0);case 31:return Ae("Activity");default:return""}}function Ue(e){try{var n="",s=null;do n+=We(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ie=Object.prototype.hasOwnProperty,se=r.unstable_scheduleCallback,ds=r.unstable_cancelCallback,Ih=r.unstable_shouldYield,Xl=r.unstable_requestPaint,ln=r.unstable_now,dr=r.unstable_getCurrentPriorityLevel,mo=r.unstable_ImmediatePriority,go=r.unstable_UserBlockingPriority,ms=r.unstable_NormalPriority,Dh=r.unstable_LowPriority,$l=r.unstable_IdlePriority,Jl=r.log,Zl=r.unstable_setDisableYieldValue,Qn=null,Ge=null;function Nn(e){if(typeof Jl=="function"&&Zl(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Qn,e)}catch{}}var ye=Math.clz32?Math.clz32:tu,Wl=Math.log,ta=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Wl(e)/ta|0)|0}var oi=256,mr=262144,be=4194304;function li(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ui(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=li(o):(g&=E,g!==0?h=li(g):s||(s=E&~e,s!==0&&(h=li(s))))):(E=o&~f,E!==0?h=li(E):g!==0?h=li(g):s||(s=o&~e,s!==0&&(h=li(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function ci(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function gr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var H=31-ye(s),K=1<<H;E[H]=0,R[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var B=z[H];B!==null&&(B.lane&=-536870913)}s&=~K}o!==0&&pr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function pr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ye(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function po(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ye(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function yo(e,n){var s=n&-n;return s=(s&42)!==0?1:yr(s),(s&(e.suspendedLanes|n))!==0?0:s}function yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:A_(e.type))}function Yn(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var Xn=Math.random().toString(36).slice(2),we="__reactFiber$"+Xn,je="__reactProps$"+Xn,hi="__reactContainer$"+Xn,ea="__reactEvents$"+Xn,Mh="__reactListeners$"+Xn,iu="__reactHandles$"+Xn,su="__reactResources$"+Xn,fi="__reactMarker$"+Xn;function na(e){delete e[we],delete e[je],delete e[ea],delete e[Mh],delete e[iu]}function di(e){var n=e[we];if(n)return n;for(var s=e.parentNode;s;){if(n=s[hi]||s[we]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=o_(e);e!==null;){if(s=e[we])return s;e=o_(e)}return n}e=s,s=e.parentNode}return null}function On(e){if(e=e[we]||e[hi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function En(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function mi(e){var n=e[su];return n||(n=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Re(e){e[fi]=!0}var _o=new Set,vo={};function gi(e,n){pi(e,n),pi(e+"Capture",n)}function pi(e,n){for(vo[e]=n,e=0;e<n.length;e++)_o.add(n[e])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},So={};function ru(e){return ie.call(So,e)?!0:ie.call(To,e)?!1:Eo.test(e)?So[e]=!0:(To[e]=!0,!1)}function ia(e,n,s){if(ru(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Tn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ce(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ao(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=gs(e)?"checked":"value";e._valueTracker=Ao(e,n,""+e[n])}}function _r(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=gs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vr=/[\n"\\]/g;function hn(e){return e.replace(vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sa(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Be(n)):e.value!==""+Be(n)&&(e.value=""+Be(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?bo(e,g,Be(n)):s!=null?bo(e,g,Be(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Be(E):e.removeAttribute("name")}function au(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}s=s!=null?""+Be(s):"",n=n!=null?""+Be(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ft(e)}function bo(e,n,s){n==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ps(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Be(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ou(e,n,s){if(n!=null&&(n=""+Be(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Be(s):""}function ys(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(me(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Be(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Ft(e)}function fn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||lu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ro(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&wo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&wo(e,f,n[f])}function ra(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return _s.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var Co=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vs=null,_i=null;function Er(e){var n=On(e);if(n&&(e=n.stateNode)){var s=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(sa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[je]||null;if(!h)throw Error(a(90));sa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&_r(o)}break t;case"textarea":ou(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ps(e,!!s.multiple,n,!1)}}}var oa=!1;function Es(e,n,s){if(oa)return e(n,s);oa=!0;try{var o=e(n);return o}finally{if(oa=!1,(vs!==null||_i!==null)&&(nc(),vs&&(n=vs,e=_i,_i=vs=null,Er(n),e)))for(n=0;n<e.length;n++)Er(e[n])}}function Jn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[je]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(Vn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Tr=!1}var vi=null,Io=null,Sr=null;function Do(){if(Sr)return Sr;var e,n=Io,s=n.length,o,h="value"in vi?vi.value:vi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Sr=h.slice(e,1<o?1-o:void 0)}function Ar(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Zn(){return!1}function Fe(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:Zn,this.isPropagationStopped=Zn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Fe(ji),Ts=b({},ji,{view:0,detail:0}),No=Fe(Ts),Ss,la,Ti,ua=b({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(Ss=e.screenX-Ti.screenX,la=e.screenY-Ti.screenY):la=Ss=0,Ti=e),Ss)},movementY:function(e){return"movementY"in e?e.movementY:la}}),Oo=Fe(ua),br=b({},ua,{dataTransfer:0}),cu=Fe(br),hu=b({},Ts,{relatedTarget:0}),wr=Fe(hu),Mo=b({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=Fe(Mo),ca=b({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=Fe(ca),mu=b({},ji,{data:0}),Si=Fe(mu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function As(){return _u}var un=b({},Ts,{key:function(e){if(e.key){var n=gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=Fe(un),Eu=b({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Fe(Eu),u=b({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),m=Fe(u),_=b({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Fe(_),U=b({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Fe(U),W=b({},ji,{newState:0,oldState:0}),At=Fe(W),_e=[9,13,27,32],jt=Vn&&"CompositionEvent"in window,ce=null;Vn&&"documentMode"in document&&(ce=document.documentMode);var xn=Vn&&"TextEvent"in window&&!ce,Ai=Vn&&(!jt||ce&&8<ce&&11>=ce),Wn=" ",ti=!1;function Rr(e,n){switch(e){case"keyup":return _e.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function UT(e,n){switch(e){case"compositionend":return ha(n);case"keypress":return n.which!==32?null:(ti=!0,Wn);case"textInput":return e=n.data,e===Wn&&ti?null:e;default:return null}}function LT(e,n){if(fa)return e==="compositionend"||!jt&&Rr(e,n)?(e=Do(),Sr=Io=vi=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!PT[e.type]:n==="textarea"}function hg(e,n,s,o){vs?_i?_i.push(o):_i=[o]:vs=o,n=uc(n,"onChange"),0<n.length&&(s=new Ei("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Vo=null,xo=null;function zT(e){Ky(e,0)}function Tu(e){var n=En(e);if(_r(n))return e}function fg(e,n){if(e==="change")return n}var dg=!1;if(Vn){var Vh;if(Vn){var xh="oninput"in document;if(!xh){var mg=document.createElement("div");mg.setAttribute("oninput","return;"),xh=typeof mg.oninput=="function"}Vh=xh}else Vh=!1;dg=Vh&&(!document.documentMode||9<document.documentMode)}function gg(){Vo&&(Vo.detachEvent("onpropertychange",pg),xo=Vo=null)}function pg(e){if(e.propertyName==="value"&&Tu(xo)){var n=[];hg(n,xo,e,Mn(e)),Es(zT,n)}}function jT(e,n,s){e==="focusin"?(gg(),Vo=n,xo=s,Vo.attachEvent("onpropertychange",pg)):e==="focusout"&&gg()}function BT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(xo)}function qT(e,n){if(e==="click")return Tu(n)}function HT(e,n){if(e==="input"||e==="change")return Tu(n)}function GT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:GT;function ko(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ie.call(n,h)||!Sn(e[h],n[h]))return!1}return!0}function yg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _g(e,n){var s=yg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=yg(s)}}function vg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?vg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Eg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=yi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=yi(e.document)}return n}function kh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var FT=Vn&&"documentMode"in document&&11>=document.documentMode,da=null,Uh=null,Uo=null,Lh=!1;function Tg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Lh||da==null||da!==yi(o)||(o=da,"selectionStart"in o&&kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&ko(Uo,o)||(Uo=o,o=uc(Uh,"onSelect"),0<o.length&&(n=new Ei("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=da)))}function Cr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ma={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},Ph={},Sg={};Vn&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Ir(e){if(Ph[e])return Ph[e];if(!ma[e])return e;var n=ma[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Sg)return Ph[e]=n[s];return e}var Ag=Ir("animationend"),bg=Ir("animationiteration"),wg=Ir("animationstart"),QT=Ir("transitionrun"),KT=Ir("transitionstart"),YT=Ir("transitioncancel"),Rg=Ir("transitionend"),Cg=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function ei(e,n){Cg.set(e,n),gi(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],ga=0,jh=0;function Au(){for(var e=ga,n=jh=ga=0;n<e;){var s=kn[n];kn[n++]=null;var o=kn[n];kn[n++]=null;var h=kn[n];kn[n++]=null;var f=kn[n];if(kn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Ig(s,h,f)}}function bu(e,n,s,o){kn[ga++]=e,kn[ga++]=n,kn[ga++]=s,kn[ga++]=o,jh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Bh(e,n,s,o){return bu(e,n,s,o),wu(e)}function Dr(e,n){return bu(e,null,null,n),wu(e)}function Ig(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ye(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function wu(e){if(50<sl)throw sl=0,Jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function XT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,n,s,o){return new XT(e,n,s,o)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,n){var s=e.alternate;return s===null?(s=An(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Dg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")qh(e)&&(g=1);else if(typeof e=="string")g=tS(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=An(31,s,n,h),e.elementType=C,e.lanes=f,e;case it:return Nr(s.children,h,f,n);case tt:g=8,h|=24;break;case ft:return e=An(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case fe:return e=An(13,s,n,h),e.elementType=fe,e.lanes=f,e;case kt:return e=An(19,s,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break t;case yt:g=9;break t;case te:g=11;break t;case I:g=14;break t;case A:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=An(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Nr(e,n,s,o){return e=An(7,e,o,n),e.lanes=s,e}function Hh(e,n,s){return e=An(6,e,null,n),e.lanes=s,e}function Ng(e){var n=An(18,null,null,0);return n.stateNode=e,n}function Gh(e,n,s){return n=An(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Og=new WeakMap;function Un(e,n){if(typeof e=="object"&&e!==null){var s=Og.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Ue(n)},Og.set(e,n),n)}return{value:e,source:n,stack:Ue(n)}}var ya=[],_a=0,Cu=null,Lo=0,Ln=[],Pn=0,bs=null,bi=1,wi="";function Hi(e,n){ya[_a++]=Lo,ya[_a++]=Cu,Cu=e,Lo=n}function Mg(e,n,s){Ln[Pn++]=bi,Ln[Pn++]=wi,Ln[Pn++]=bs,bs=e;var o=bi;e=wi;var h=32-ye(o)-1;o&=~(1<<h),s+=1;var f=32-ye(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,bi=1<<32-ye(n)+h|s<<h|o,wi=f+e}else bi=1<<f|s<<h|o,wi=e}function Fh(e){e.return!==null&&(Hi(e,1),Mg(e,1,0))}function Qh(e){for(;e===Cu;)Cu=ya[--_a],ya[_a]=null,Lo=ya[--_a],ya[_a]=null;for(;e===bs;)bs=Ln[--Pn],Ln[Pn]=null,wi=Ln[--Pn],Ln[Pn]=null,bi=Ln[--Pn],Ln[Pn]=null}function Vg(e,n){Ln[Pn++]=bi,Ln[Pn++]=wi,Ln[Pn++]=bs,bi=n.id,wi=n.overflow,bs=e}var Qe=null,re=null,xt=!1,ws=null,zn=!1,Kh=Error(a(519));function Rs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Un(n,e)),Kh}function xg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[we]=e,n[je]=o,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<al.length;s++)Ct(al[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ys(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Jy(n.textContent,s)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=$n),n=!0):n=!1,n||Rs(e,!0)}function kg(e){for(Qe=e.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Qe=Qe.return}}function va(e){if(e!==Qe)return!1;if(!xt)return kg(e),xt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||fd(e.type,e.memoizedProps)),s=!s),s&&re&&Rs(e),kg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));re=a_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));re=a_(e)}else n===27?(n=re,js(e.type)?(e=yd,yd=null,re=e):re=n):re=Qe?Bn(e.stateNode.nextSibling):null;return!0}function Or(){re=Qe=null,xt=!1}function Yh(){var e=ws;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),ws=null),e}function Po(e){ws===null?ws=[e]:ws.push(e)}var Xh=M(null),Mr=null,Gi=null;function Cs(e,n,s){nt(Xh,n._currentValue),n._currentValue=s}function Fi(e){e._currentValue=Xh.current,F(Xh)}function $h(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Jh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),$h(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),$h(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ea(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Sn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===It.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&Jh(n,e,s,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vr(e){Mr=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return Ug(Mr,e)}function Du(e,n){return Mr===null&&Vr(e),Ug(e,n)}function Ug(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Gi===null){if(e===null)throw Error(a(308));Gi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Gi=Gi.next=n;return s}var $T=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},JT=r.unstable_scheduleCallback,ZT=r.unstable_NormalPriority,Ie={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new $T,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&JT(ZT,function(){e.controller.abort()})}var jo=null,Wh=0,Ta=0,Sa=null;function WT(e,n){if(jo===null){var s=jo=[];Wh=0,Ta=id(),Sa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Wh++,n.then(Lg,Lg),n}function Lg(){if(--Wh===0&&jo!==null){Sa!==null&&(Sa.status="fulfilled");var e=jo;jo=null,Ta=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function t1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Pg=q.S;q.S=function(e,n){Ty=ln(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&WT(e,n),Pg!==null&&Pg(e,n)};var xr=M(null);function tf(){var e=xr.current;return e!==null?e:ee.pooledCache}function Nu(e,n){n===null?nt(xr,xr.current):nt(xr,n.pool)}function zg(){var e=tf();return e===null?null:{parent:Ie._currentValue,pool:e}}var Aa=Error(a(460)),ef=Error(a(474)),Ou=Error(a(542)),Mu={then:function(){}};function jg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then($n,$n),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hg(e),e;default:if(typeof n.status=="string")n.then($n,$n);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hg(e),e}throw Ur=n,Aa}}function kr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ur=s,Aa):s}}var Ur=null;function qg(){if(Ur===null)throw Error(a(459));var e=Ur;return Ur=null,e}function Hg(e){if(e===Aa||e===Ou)throw Error(a(483))}var ba=null,Bo=0;function Vu(e){var n=Bo;return Bo+=1,ba===null&&(ba=[]),Bg(ba,e,n)}function qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xu(e,n){throw n.$$typeof===D?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Gg(e){function n(x,N){if(e){var L=x.deletions;L===null?(x.deletions=[N],x.flags|=16):L.push(N)}}function s(x,N){if(!e)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function o(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=qi(x,N),x.index=0,x.sibling=null,x}function f(x,N,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<N?(x.flags|=67108866,N):L):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,N,L,G){return N===null||N.tag!==6?(N=Hh(L,x.mode,G),N.return=x,N):(N=h(N,L),N.return=x,N)}function R(x,N,L,G){var ut=L.type;return ut===it?H(x,N,L.props.children,G,L.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&kr(ut)===N.type)?(N=h(N,L.props),qo(N,L),N.return=x,N):(N=Ru(L.type,L.key,L.props,null,x.mode,G),qo(N,L),N.return=x,N)}function P(x,N,L,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Gh(L,x.mode,G),N.return=x,N):(N=h(N,L.children||[]),N.return=x,N)}function H(x,N,L,G,ut){return N===null||N.tag!==7?(N=Nr(L,x.mode,G,ut),N.return=x,N):(N=h(N,L),N.return=x,N)}function K(x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Hh(""+N,x.mode,L),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Q:return L=Ru(N.type,N.key,N.props,null,x.mode,L),qo(L,N),L.return=x,L;case Z:return N=Gh(N,x.mode,L),N.return=x,N;case A:return N=kr(N),K(x,N,L)}if(me(N)||k(N))return N=Nr(N,x.mode,L,null),N.return=x,N;if(typeof N.then=="function")return K(x,Vu(N),L);if(N.$$typeof===_t)return K(x,Du(x,N),L);xu(x,N)}return null}function z(x,N,L,G){var ut=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ut!==null?null:E(x,N,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return L.key===ut?R(x,N,L,G):null;case Z:return L.key===ut?P(x,N,L,G):null;case A:return L=kr(L),z(x,N,L,G)}if(me(L)||k(L))return ut!==null?null:H(x,N,L,G,null);if(typeof L.then=="function")return z(x,N,Vu(L),G);if(L.$$typeof===_t)return z(x,N,Du(x,L),G);xu(x,L)}return null}function B(x,N,L,G,ut){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(L)||null,E(N,x,""+G,ut);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:return x=x.get(G.key===null?L:G.key)||null,R(N,x,G,ut);case Z:return x=x.get(G.key===null?L:G.key)||null,P(N,x,G,ut);case A:return G=kr(G),B(x,N,L,G,ut)}if(me(G)||k(G))return x=x.get(L)||null,H(N,x,G,ut,null);if(typeof G.then=="function")return B(x,N,L,Vu(G),ut);if(G.$$typeof===_t)return B(x,N,L,Du(N,G),ut);xu(N,G)}return null}function at(x,N,L,G){for(var ut=null,Pt=null,ot=N,wt=N=0,Nt=null;ot!==null&&wt<L.length;wt++){ot.index>wt?(Nt=ot,ot=null):Nt=ot.sibling;var zt=z(x,ot,L[wt],G);if(zt===null){ot===null&&(ot=Nt);break}e&&ot&&zt.alternate===null&&n(x,ot),N=f(zt,N,wt),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt,ot=Nt}if(wt===L.length)return s(x,ot),xt&&Hi(x,wt),ut;if(ot===null){for(;wt<L.length;wt++)ot=K(x,L[wt],G),ot!==null&&(N=f(ot,N,wt),Pt===null?ut=ot:Pt.sibling=ot,Pt=ot);return xt&&Hi(x,wt),ut}for(ot=o(ot);wt<L.length;wt++)Nt=B(ot,x,wt,L[wt],G),Nt!==null&&(e&&Nt.alternate!==null&&ot.delete(Nt.key===null?wt:Nt.key),N=f(Nt,N,wt),Pt===null?ut=Nt:Pt.sibling=Nt,Pt=Nt);return e&&ot.forEach(function(Fs){return n(x,Fs)}),xt&&Hi(x,wt),ut}function dt(x,N,L,G){if(L==null)throw Error(a(151));for(var ut=null,Pt=null,ot=N,wt=N=0,Nt=null,zt=L.next();ot!==null&&!zt.done;wt++,zt=L.next()){ot.index>wt?(Nt=ot,ot=null):Nt=ot.sibling;var Fs=z(x,ot,zt.value,G);if(Fs===null){ot===null&&(ot=Nt);break}e&&ot&&Fs.alternate===null&&n(x,ot),N=f(Fs,N,wt),Pt===null?ut=Fs:Pt.sibling=Fs,Pt=Fs,ot=Nt}if(zt.done)return s(x,ot),xt&&Hi(x,wt),ut;if(ot===null){for(;!zt.done;wt++,zt=L.next())zt=K(x,zt.value,G),zt!==null&&(N=f(zt,N,wt),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt);return xt&&Hi(x,wt),ut}for(ot=o(ot);!zt.done;wt++,zt=L.next())zt=B(ot,x,wt,zt.value,G),zt!==null&&(e&&zt.alternate!==null&&ot.delete(zt.key===null?wt:zt.key),N=f(zt,N,wt),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt);return e&&ot.forEach(function(hS){return n(x,hS)}),xt&&Hi(x,wt),ut}function Wt(x,N,L,G){if(typeof L=="object"&&L!==null&&L.type===it&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:t:{for(var ut=L.key;N!==null;){if(N.key===ut){if(ut=L.type,ut===it){if(N.tag===7){s(x,N.sibling),G=h(N,L.props.children),G.return=x,x=G;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&kr(ut)===N.type){s(x,N.sibling),G=h(N,L.props),qo(G,L),G.return=x,x=G;break t}s(x,N);break}else n(x,N);N=N.sibling}L.type===it?(G=Nr(L.props.children,x.mode,G,L.key),G.return=x,x=G):(G=Ru(L.type,L.key,L.props,null,x.mode,G),qo(G,L),G.return=x,x=G)}return g(x);case Z:t:{for(ut=L.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){s(x,N.sibling),G=h(N,L.children||[]),G.return=x,x=G;break t}else{s(x,N);break}else n(x,N);N=N.sibling}G=Gh(L,x.mode,G),G.return=x,x=G}return g(x);case A:return L=kr(L),Wt(x,N,L,G)}if(me(L))return at(x,N,L,G);if(k(L)){if(ut=k(L),typeof ut!="function")throw Error(a(150));return L=ut.call(L),dt(x,N,L,G)}if(typeof L.then=="function")return Wt(x,N,Vu(L),G);if(L.$$typeof===_t)return Wt(x,N,Du(x,L),G);xu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(s(x,N.sibling),G=h(N,L),G.return=x,x=G):(s(x,N),G=Hh(L,x.mode,G),G.return=x,x=G),g(x)):s(x,N)}return function(x,N,L,G){try{Bo=0;var ut=Wt(x,N,L,G);return ba=null,ut}catch(ot){if(ot===Aa||ot===Ou)throw ot;var Pt=An(29,ot,null,x.mode);return Pt.lanes=G,Pt.return=x,Pt}}}var Lr=Gg(!0),Fg=Gg(!1),Is=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wu(e),Ig(e,null,s),n}return bu(e,o,n,s),wu(e)}function Ho(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,po(e,s)}}function rf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var af=!1;function Go(){if(af){var e=Sa;if(e!==null)throw e}}function Fo(e,n,s,o){af=!1;var h=e.updateQueue;Is=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;g=0,H=P=R=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Dt&z)===z:(o&z)===z){z!==0&&z===Ta&&(af=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,dt=E;z=n;var Wt=s;switch(dt.tag){case 1:if(at=dt.payload,typeof at=="function"){K=at.call(Wt,K,z);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=dt.payload,z=typeof at=="function"?at.call(Wt,K,z):at,z==null)break t;K=b({},K,z);break t;case 2:Is=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=B,R=K):H=H.next=B,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);H===null&&(R=K),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),ks|=g,e.lanes=g,e.memoizedState=K}}function Qg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Kg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Qg(s[e],n)}var wa=M(null),ku=M(0);function Yg(e,n){e=ts,nt(ku,e),nt(wa,n),ts=e|n.baseLanes}function of(){nt(ku,ts),nt(wa,wa.current)}function lf(){ts=ku.current,F(wa),F(ku)}var bn=M(null),jn=null;function Os(e){var n=e.alternate;nt(ve,ve.current&1),nt(bn,e),jn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(jn=e)}function uf(e){nt(ve,ve.current),nt(bn,e),jn===null&&(jn=e)}function Xg(e){e.tag===22?(nt(ve,ve.current),nt(bn,e),jn===null&&(jn=e)):Ms()}function Ms(){nt(ve,ve.current),nt(bn,bn.current)}function wn(e){F(bn),jn===e&&(jn=null),F(ve)}var ve=M(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||gd(s)||pd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qi=0,bt=null,Jt=null,De=null,Lu=!1,Ra=!1,Pr=!1,Pu=0,Qo=0,Ca=null,e1=0;function ge(){throw Error(a(321))}function cf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Sn(e[s],n[s]))return!1;return!0}function hf(e,n,s,o,h,f){return Qi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?Mp:Rf,Pr=!1,f=s(o,h),Pr=!1,Ra&&(f=Jg(n,s,o,h)),$g(e),f}function $g(e){q.H=Xo;var n=Jt!==null&&Jt.next!==null;if(Qi=0,De=Jt=bt=null,Lu=!1,Qo=0,Ca=null,n)throw Error(a(300));e===null||Ne||(e=e.dependencies,e!==null&&Iu(e)&&(Ne=!0))}function Jg(e,n,s,o){bt=e;var h=0;do{if(Ra&&(Ca=null),Qo=0,Ra=!1,25<=h)throw Error(a(301));if(h+=1,De=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Vp,f=n(s,o)}while(Ra);return f}function n1(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Ko(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(bt.flags|=1024),n}function ff(){var e=Pu!==0;return Pu=0,e}function df(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function mf(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}Qi=0,De=Jt=bt=null,Ra=!1,Qo=Pu=0,Ca=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?bt.memoizedState=De=e:De=De.next=e,De}function Ee(){if(Jt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=De===null?bt.memoizedState:De.next;if(n!==null)De=n,Jt=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},De===null?bt.memoizedState=De=e:De=De.next=e}return De}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var n=Qo;return Qo+=1,Ca===null&&(Ca=[]),e=Bg(Ca,e,n),n=bt,(De===null?n.memoizedState:De.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Mp:Rf),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===_t)return Ke(e)}throw Error(a(438,String(e)))}function gf(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=zu(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Ki(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=Ee();return pf(n,Jt,e)}function pf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,P=n,H=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(Dt&K)===K:(Qi&K)===K){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===Ta&&(H=!0);else if((Qi&z)===z){P=P.next,z===Ta&&(H=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=K,g=f):R=R.next=K,bt.lanes|=z,ks|=z;K=P.action,Pr&&s(f,K),f=P.hasEagerState?P.eagerState:s(f,K)}else z={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,bt.lanes|=K,ks|=K;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=E,!Sn(f,e.memoizedState)&&(Ne=!0,H&&(s=Sa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function yf(e){var n=Ee(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Sn(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Zg(e,n,s){var o=bt,h=Ee(),f=xt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Sn((Jt||h).memoizedState,s);if(g&&(h.memoizedState=s,Ne=!0),h=h.queue,Ef(ep.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||De!==null&&De.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},tp.bind(null,o,h,s,n),null),ee===null)throw Error(a(349));f||(Qi&127)!==0||Wg(o,n,s)}return s}function Wg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=zu(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function tp(e,n,s,o){n.value=s,n.getSnapshot=o,np(n)&&ip(e)}function ep(e,n,s){return s(function(){np(n)&&ip(e)})}function np(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Sn(e,s)}catch{return!0}}function ip(e){var n=Dr(e,2);n!==null&&yn(n,e,2)}function _f(e){var n=cn();if(typeof e=="function"){var s=e;if(e=s(),Pr){Nn(!0);try{s()}finally{Nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},n}function sp(e,n,s,o){return e.baseState=s,pf(e,Jt,typeof o=="function"?o:Ki)}function i1(e,n,s,o,h){if(Gu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,rp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function rp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=s(h,o),R=q.S;R!==null&&R(g,E),ap(e,n,E)}catch(P){vf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=s(h,o),ap(e,n,f)}catch(P){vf(e,n,P)}}function ap(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){op(e,n,o)},function(o){return vf(e,n,o)}):op(e,n,s)}function op(e,n,s){n.status="fulfilled",n.value=s,lp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,rp(e,s)))}function vf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,lp(n),n=n.next;while(n!==o)}e.action=null}function lp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function up(e,n){return n}function cp(e,n){if(xt){var s=ee.formState;if(s!==null){t:{var o=bt;if(xt){if(re){e:{for(var h=re,f=zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){re=Bn(h.nextSibling),o=h.data==="F!";break t}}Rs(o)}o=!1}o&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:n},s.queue=o,s=Dp.bind(null,bt,o),o.dispatch=s,o=_f(!1),f=wf.bind(null,bt,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=i1.bind(null,bt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function hp(e){var n=Ee();return fp(n,Jt,e)}function fp(e,n,s){if(n=pf(e,n,up)[0],e=Bu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ko(n)}catch(g){throw g===Aa?Ou:g}else o=n;n=Ee();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,Ia(9,{destroy:void 0},s1.bind(null,h,s),null)),[o,f,e]}function s1(e,n){e.action=n}function dp(e){var n=Ee(),s=Jt;if(s!==null)return fp(n,s,e);Ee(),n=n.memoizedState,s=Ee();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ia(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=zu(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function mp(){return Ee().memoizedState}function qu(e,n,s,o){var h=cn();bt.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},s,o===void 0?null:o)}function Hu(e,n,s,o){var h=Ee();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&cf(o,Jt.memoizedState.deps)?h.memoizedState=Ia(n,f,s,o):(bt.flags|=e,h.memoizedState=Ia(1|n,f,s,o))}function gp(e,n){qu(8390656,8,e,n)}function Ef(e,n){Hu(2048,8,e,n)}function r1(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=zu(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function pp(e){var n=Ee().memoizedState;return r1({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function yp(e,n){return Hu(4,2,e,n)}function _p(e,n){return Hu(4,4,e,n)}function vp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ep(e,n,s){s=s!=null?s.concat([e]):null,Hu(4,4,vp.bind(null,n,e),s)}function Tf(){}function Tp(e,n){var s=Ee();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&cf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Sp(e,n){var s=Ee();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&cf(n,o[1]))return o[0];if(o=e(),Pr){Nn(!0);try{e()}finally{Nn(!1)}}return s.memoizedState=[o,n],o}function Sf(e,n,s){return s===void 0||(Qi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ay(),bt.lanes|=e,ks|=e,s)}function Ap(e,n,s,o){return Sn(s,n)?s:wa.current!==null?(e=Sf(e,s,o),Sn(e,n)||(Ne=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(Dt&261930)===0?(Ne=!0,e.memoizedState=s):(e=Ay(),bt.lanes|=e,ks|=e,n)}function bp(e,n,s,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,wf(e,!1,n,s);try{var R=h(),P=q.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=t1(R,o);Yo(e,n,H,In(e))}else Yo(e,n,o,In(e))}catch(K){Yo(e,n,{then:function(){},status:"rejected",reason:K},In())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function a1(){}function Af(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=wp(e).queue;bp(e,h,n,ct,s===null?a1:function(){return Rp(e),s(o)})}function wp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Rp(e){var n=wp(e);n.next===null&&(n=e.alternate.memoizedState),Yo(e,n.next.queue,{},In())}function bf(){return Ke(hl)}function Cp(){return Ee().memoizedState}function Ip(){return Ee().memoizedState}function o1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=In();e=Ds(s);var o=Ns(n,e,s);o!==null&&(yn(o,n,s),Ho(o,n,s)),n={cache:Zh()},e.payload=n;return}n=n.return}}function l1(e,n,s){var o=In();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Np(n,s):(s=Bh(e,n,s,o),s!==null&&(yn(s,e,o),Op(s,n,o)))}function Dp(e,n,s){var o=In();Yo(e,n,s,o)}function Yo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Np(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,Sn(E,g))return bu(e,n,h,0),ee===null&&Au(),!1}catch{}if(s=Bh(e,n,h,o),s!==null)return yn(s,e,o),Op(s,n,o),!0}return!1}function wf(e,n,s,o){if(o={lane:2,revertLane:id(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(a(479))}else n=Bh(e,s,o,2),n!==null&&yn(n,e,2)}function Gu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Np(e,n){Ra=Lu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Op(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,po(e,s)}}var Xo={readContext:Ke,use:ju,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};Xo.useEffectEvent=ge;var Mp={readContext:Ke,use:ju,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Ke,useEffect:gp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,qu(4194308,4,vp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var s=cn();n=n===void 0?null:n;var o=e();if(Pr){Nn(!0);try{e()}finally{Nn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=cn();if(s!==void 0){var h=s(n);if(Pr){Nn(!0);try{s(n)}finally{Nn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=l1.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=_f(e);var n=e.queue,s=Dp.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Tf,useDeferredValue:function(e,n){var s=cn();return Sf(s,e,n)},useTransition:function(){var e=_f(!1);return e=bp.bind(null,bt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=bt,h=cn();if(xt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ee===null)throw Error(a(349));(Dt&127)!==0||Wg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,gp(ep.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},tp.bind(null,o,f,s,n),null),s},useId:function(){var e=cn(),n=ee.identifierPrefix;if(xt){var s=wi,o=bi;s=(o&~(1<<32-ye(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Pu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=e1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:bf,useFormState:cp,useActionState:cp,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:gf,useCacheRefresh:function(){return cn().memoizedState=o1.bind(null,bt)},useEffectEvent:function(e){var n=cn(),s={impl:e};return n.memoizedState=s,function(){if((Bt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Rf={readContext:Ke,use:ju,useCallback:Tp,useContext:Ke,useEffect:Ef,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:_p,useMemo:Sp,useReducer:Bu,useRef:mp,useState:function(){return Bu(Ki)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=Ee();return Ap(s,Jt.memoizedState,e,n)},useTransition:function(){var e=Bu(Ki)[0],n=Ee().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:Zg,useId:Cp,useHostTransitionStatus:bf,useFormState:hp,useActionState:hp,useOptimistic:function(e,n){var s=Ee();return sp(s,Jt,e,n)},useMemoCache:gf,useCacheRefresh:Ip};Rf.useEffectEvent=pp;var Vp={readContext:Ke,use:ju,useCallback:Tp,useContext:Ke,useEffect:Ef,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:_p,useMemo:Sp,useReducer:yf,useRef:mp,useState:function(){return yf(Ki)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=Ee();return Jt===null?Sf(s,e,n):Ap(s,Jt.memoizedState,e,n)},useTransition:function(){var e=yf(Ki)[0],n=Ee().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:Zg,useId:Cp,useHostTransitionStatus:bf,useFormState:dp,useActionState:dp,useOptimistic:function(e,n){var s=Ee();return Jt!==null?sp(s,Jt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:gf,useCacheRefresh:Ip};Vp.useEffectEvent=pp;function Cf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var If={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=In(),h=Ds(o);h.payload=n,s!=null&&(h.callback=s),n=Ns(e,h,o),n!==null&&(yn(n,e,o),Ho(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=In(),h=Ds(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ns(e,h,o),n!==null&&(yn(n,e,o),Ho(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=In(),o=Ds(s);o.tag=2,n!=null&&(o.callback=n),n=Ns(e,o,s),n!==null&&(yn(n,e,s),Ho(n,e,s))}};function xp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!ko(s,o)||!ko(h,f):!0}function kp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&If.enqueueReplaceState(n,n.state,null)}function zr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Up(e){Su(e)}function Lp(e){console.error(e)}function Pp(e){Su(e)}function Fu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function zp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(e,n,s){return s=Ds(s),s.tag=3,s.payload={element:null},s.callback=function(){Fu(e,n)},s}function jp(e){return e=Ds(e),e.tag=3,e}function Bp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){zp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){zp(n,s,o),typeof h!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function u1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ea(n,s,h,!0),s=bn.current,s!==null){switch(s.tag){case 31:case 13:return jn===null?ic():s.alternate===null&&pe===0&&(pe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),td(e,o,h)),!1;case 22:return s.flags|=65536,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),td(e,o,h)),!1}throw Error(a(435,s.tag))}return td(e,o,h),ic(),!1}if(xt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Kh&&(e=Error(a(422),{cause:o}),Po(Un(e,s)))):(o!==Kh&&(n=Error(a(423),{cause:o}),Po(Un(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Un(o,s),h=Df(e.stateNode,o,h),rf(e,h),pe!==4&&(pe=2)),!1;var f=Error(a(520),{cause:o});if(f=Un(f,s),il===null?il=[f]:il.push(f),pe!==4&&(pe=2),n===null)return!0;o=Un(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Df(s.stateNode,o,e),rf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Us===null||!Us.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=jp(h),Bp(h,e,s,o),rf(s,h),!1}s=s.return}while(s!==null);return!1}var Nf=Error(a(461)),Ne=!1;function Ye(e,n,s,o){n.child=e===null?Fg(n,null,s,o):Lr(n,e.child,s,o)}function qp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Vr(n),o=hf(e,n,s,g,f,h),E=ff(),e!==null&&!Ne?(df(e,n,h),Yi(e,n,h)):(xt&&E&&Fh(n),n.flags|=1,Ye(e,n,o,h),n.child)}function Hp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Gp(e,n,f,o,h)):(e=Ru(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Pf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:ko,s(g,o)&&e.ref===n.ref)return Yi(e,n,h)}return n.flags|=1,e=qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Gp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(ko(f,o)&&e.ref===n.ref)if(Ne=!1,n.pendingProps=o=f,Pf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return n.lanes=e.lanes,Yi(e,n,h)}return Of(e,n,s,o,h)}function Fp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Qp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?Yg(n,f):of(),Xg(n);else return o=n.lanes=536870912,Qp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Nu(n,f.cachePool),Yg(n,f),Ms(),n.memoizedState=null):(e!==null&&Nu(n,null),of(),Ms());return Ye(e,n,h,s),n.child}function $o(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Qp(e,n,s,o,h){var f=tf();return f=f===null?null:{parent:Ie._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Nu(n,null),of(),Xg(n),e!==null&&Ea(e,n,o,!0),n.childLanes=h,null}function Qu(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Kp(e,n,s){return Lr(n,e.child,null,s),e=Qu(n,n.pendingProps),e.flags|=2,wn(n),n.memoizedState=null,e}function c1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(xt){if(o.mode==="hidden")return e=Qu(n,o),n.lanes=536870912,$o(null,e);if(uf(n),(e=re)?(e=r_(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},s=Ng(e),s.return=n,n.child=s,Qe=n,re=null)):e=null,e===null)throw Rs(n);return n.lanes=536870912,null}return Qu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=Kp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ne||Ea(e,n,s,!1),h=(s&e.childLanes)!==0,Ne||h){if(o=ee,o!==null&&(g=yo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Dr(e,g),yn(o,e,g),Nf;ic(),n=Kp(e,n,s)}else e=f.treeContext,re=Bn(g.nextSibling),Qe=n,xt=!0,ws=null,zn=!1,e!==null&&Vg(n,e),n=Qu(n,o),n.flags|=4096;return n}return e=qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Of(e,n,s,o,h){return Vr(n),s=hf(e,n,s,o,void 0,h),o=ff(),e!==null&&!Ne?(df(e,n,h),Yi(e,n,h)):(xt&&o&&Fh(n),n.flags|=1,Ye(e,n,s,h),n.child)}function Yp(e,n,s,o,h,f){return Vr(n),n.updateQueue=null,s=Jg(n,o,s,h),$g(e),o=ff(),e!==null&&!Ne?(df(e,n,f),Yi(e,n,f)):(xt&&o&&Fh(n),n.flags|=1,Ye(e,n,s,f),n.child)}function Xp(e,n,s,o,h){if(Vr(n),n.stateNode===null){var f=pa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ke(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},nf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ke(g):pa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Cf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&If.enqueueReplaceState(f,f.state,null),Fo(n,o,f,h),Go(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=zr(s,E);f.props=R;var P=f.context,H=s.contextType;g=pa,typeof H=="object"&&H!==null&&(g=Ke(H));var K=s.getDerivedStateFromProps;H=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&kp(n,f,o,g),Is=!1;var z=n.memoizedState;f.state=z,Fo(n,o,f,h),Go(),P=n.memoizedState,E||z!==P||Is?(typeof K=="function"&&(Cf(n,s,K,o),P=n.memoizedState),(R=Is||xp(n,s,R,o,z,P,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,sf(e,n),g=n.memoizedProps,H=zr(s,g),f.props=H,K=n.pendingProps,z=f.context,P=s.contextType,R=pa,typeof P=="object"&&P!==null&&(R=Ke(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==R)&&kp(n,f,o,R),Is=!1,z=n.memoizedState,f.state=z,Fo(n,o,f,h),Go();var B=n.memoizedState;g!==K||z!==B||Is||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(Cf(n,s,E,o),B=n.memoizedState),(H=Is||xp(n,s,H,o,z,B,R)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Lr(n,e.child,null,h),n.child=Lr(n,null,s,h)):Ye(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Yi(e,n,h),e}function $p(e,n,s,o){return Or(),n.flags|=256,Ye(e,n,s,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(e){return{baseLanes:e,cachePool:zg()}}function xf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Cn),e}function Jp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ve.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(xt){if(h?Os(n):Ms(),(e=re)?(e=r_(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},s=Ng(e),s.return=n,n.child=s,Qe=n,re=null)):e=null,e===null)throw Rs(n);return pd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ms(),h=n.mode,E=Yu({mode:"hidden",children:E},h),o=Nr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Vf(s),o.childLanes=xf(e,g,s),n.memoizedState=Mf,$o(null,o)):(Os(n),kf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Os(n),n.flags&=-257,n=Uf(e,n,s)):n.memoizedState!==null?(Ms(),n.child=e.child,n.flags|=128,n=null):(Ms(),E=o.fallback,h=n.mode,o=Yu({mode:"visible",children:o.children},h),E=Nr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Lr(n,e.child,null,s),o=n.child,o.memoizedState=Vf(s),o.childLanes=xf(e,g,s),n.memoizedState=Mf,n=$o(null,o));else if(Os(n),pd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Po({value:o,source:null,stack:null}),n=Uf(e,n,s)}else if(Ne||Ea(e,n,s,!1),g=(s&e.childLanes)!==0,Ne||g){if(g=ee,g!==null&&(o=yo(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,Dr(e,o),yn(g,e,o),Nf;gd(E)||ic(),n=Uf(e,n,s)}else gd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,re=Bn(E.nextSibling),Qe=n,xt=!0,ws=null,zn=!1,e!==null&&Vg(n,e),n=kf(n,o.children),n.flags|=4096);return n}return h?(Ms(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=qi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=qi(P,E):(E=Nr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,$o(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Vf(s):(h=E.cachePool,h!==null?(R=Ie._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=zg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=xf(e,g,s),n.memoizedState=Mf,$o(e.child,o)):(Os(n),s=e.child,e=s.sibling,s=qi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function kf(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=An(22,e,null,n),e.lanes=0,e}function Uf(e,n,s){return Lr(n,e.child,null,s),e=kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),$h(e.return,n,s)}function Lf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Wp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ve.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(ve,g),Ye(e,n,o,s),o=xt?Lo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zp(e,s,n);else if(e.tag===19)Zp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Uu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Lf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Lf(n,!0,s,null,f,o);break;case"together":Lf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Yi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ks|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ea(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=qi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=qi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function h1(e,n,s){switch(n.tag){case 3:ue(n,n.stateNode.containerInfo),Cs(n,Ie,e.memoizedState.cache),Or();break;case 27:case 5:Li(n);break;case 4:ue(n,n.stateNode.containerInfo);break;case 10:Cs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Os(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Jp(e,n,s):(Os(n),e=Yi(e,n,s),e!==null?e.sibling:null);Os(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ea(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Wp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(ve,ve.current),o)break;return null;case 22:return n.lanes=0,Fp(e,n,s,n.pendingProps);case 24:Cs(n,Ie,e.memoizedState.cache)}return Yi(e,n,s)}function ty(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Pf(e,s)&&(n.flags&128)===0)return Ne=!1,h1(e,n,s);Ne=(e.flags&131072)!==0}else Ne=!1,xt&&(n.flags&1048576)!==0&&Mg(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=kr(n.elementType),n.type=e,typeof e=="function")qh(e)?(o=zr(e,o),n.tag=1,n=Xp(null,n,e,o,s)):(n.tag=0,n=Of(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===te){n.tag=11,n=qp(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=Hp(null,n,e,o,s);break t}}throw n=Xt(e)||e,Error(a(306,n,""))}}return n;case 0:return Of(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=zr(o,n.pendingProps),Xp(e,n,o,h,s);case 3:t:{if(ue(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,sf(e,n),Fo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Cs(n,Ie,o),o!==f.cache&&Jh(n,[Ie],s,!0),Go(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=$p(e,n,o,s);break t}else if(o!==h){h=Un(Error(a(424)),n),Po(h),n=$p(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,re=Bn(e.firstChild),Qe=n,xt=!0,ws=null,zn=!0,s=Fg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Or(),o===h){n=Yi(e,n,s);break t}Ye(e,n,o,s)}n=n.child}return n;case 26:return Ku(e,n),e===null?(s=h_(n.type,null,n.pendingProps,null))?n.memoizedState=s:xt||(s=n.type,e=n.pendingProps,o=cc(Et.current).createElement(s),o[we]=n,o[je]=e,Xe(o,s,e),Re(o),n.stateNode=o):n.memoizedState=h_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Li(n),e===null&&xt&&(o=n.stateNode=l_(n.type,n.pendingProps,Et.current),Qe=n,zn=!0,h=re,js(n.type)?(yd=h,re=Bn(o.firstChild)):re=h),Ye(e,n,n.pendingProps.children,s),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&xt&&((h=o=re)&&(o=B1(o,n.type,n.pendingProps,zn),o!==null?(n.stateNode=o,Qe=n,re=Bn(o.firstChild),zn=!1,h=!0):h=!1),h||Rs(n)),Li(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,fd(h,f)?o=null:g!==null&&fd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(e,n,n1,null,null,s),hl._currentValue=h),Ku(e,n),Ye(e,n,o,s),n.child;case 6:return e===null&&xt&&((e=s=re)&&(s=q1(s,n.pendingProps,zn),s!==null?(n.stateNode=s,Qe=n,re=null,e=!0):e=!1),e||Rs(n)),null;case 13:return Jp(e,n,s);case 4:return ue(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Lr(n,null,o,s):Ye(e,n,o,s),n.child;case 11:return qp(e,n,n.type,n.pendingProps,s);case 7:return Ye(e,n,n.pendingProps,s),n.child;case 8:return Ye(e,n,n.pendingProps.children,s),n.child;case 12:return Ye(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Cs(n,n.type,o.value),Ye(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Vr(n),h=Ke(h),o=o(h),n.flags|=1,Ye(e,n,o,s),n.child;case 14:return Hp(e,n,n.type,n.pendingProps,s);case 15:return Gp(e,n,n.type,n.pendingProps,s);case 19:return Wp(e,n,s);case 31:return c1(e,n,s);case 22:return Fp(e,n,s,n.pendingProps);case 24:return Vr(n),o=Ke(Ie),e===null?(h=tf(),h===null&&(h=ee,f=Zh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},nf(n),Cs(n,Ie,h)):((e.lanes&s)!==0&&(sf(e,n),Fo(n,null,null,s),Go()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Cs(n,Ie,o)):(o=f.cache,Cs(n,Ie,o),o!==h.cache&&Jh(n,[Ie],s,!0))),Ye(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Xi(e){e.flags|=4}function zf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Cy())e.flags|=8192;else throw Ur=Mu,ef}else e.flags&=-16777217}function ey(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p_(n))if(Cy())e.flags|=8192;else throw Ur=Mu,ef}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Ma|=n)}function Jo(e,n){if(!xt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ae(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function f1(e,n,s){var o=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Fi(Ie),ne(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(va(n)?Xi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),ae(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Xi(n),f!==null?(ae(n),ey(n,f)):(ae(n),zf(n,h,null,o,s))):f?f!==e.memoizedState?(Xi(n),ae(n),ey(n,f)):(ae(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Xi(n),ae(n),zf(n,h,e,o,s)),null;case 27:if(J(n),s=Et.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ae(n),null}e=st.current,va(n)?xg(n):(e=l_(h,o,s),n.stateNode=e,Xi(n))}return ae(n),null;case 5:if(J(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ae(n),null}if(f=st.current,va(n))xg(n);else{var g=cc(Et.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[we]=n,f[je]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Xe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Xi(n)}}return ae(n),zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Et.current,va(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[we]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Jy(e.nodeValue,s)),e||Rs(n,!0)}else e=cc(e).createTextNode(o),e[we]=n,n.stateNode=e}return ae(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=va(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[we]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),e=!1}else s=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(wn(n),n):(wn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ae(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=va(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[we]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(wn(n),n):(wn(n),null)}return wn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Xu(n,n.updateQueue),ae(n),null);case 4:return ne(),e===null&&od(n.stateNode.containerInfo),ae(n),null;case 10:return Fi(n.type),ae(n),null;case 19:if(F(ve),o=n.memoizedState,o===null)return ae(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Jo(o,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Uu(e),f!==null){for(n.flags|=128,Jo(o,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Dg(s,e),s=s.sibling;return nt(ve,ve.current&1|2),xt&&Hi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ln()>tc&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Uu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),Jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!xt)return ae(n),null}else 2*ln()-o.renderingStartTime>tc&&s!==536870912&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ln(),e.sibling=null,s=ve.current,nt(ve,h?s&1|2:s&1),xt&&Hi(n,o.treeForkCount),e):(ae(n),null);case 22:case 23:return wn(n),lf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),s=n.updateQueue,s!==null&&Xu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&F(xr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Fi(Ie),ae(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function d1(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fi(Ie),ne(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return J(n),null;case 31:if(n.memoizedState!==null){if(wn(n),n.alternate===null)throw Error(a(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(wn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return F(ve),null;case 4:return ne(),null;case 10:return Fi(n.type),null;case 22:case 23:return wn(n),lf(),e!==null&&F(xr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fi(Ie),null;case 25:return null;default:return null}}function ny(e,n){switch(Qh(n),n.tag){case 3:Fi(Ie),ne();break;case 26:case 27:case 5:J(n);break;case 4:ne();break;case 31:n.memoizedState!==null&&wn(n);break;case 13:wn(n);break;case 19:F(ve);break;case 10:Fi(n.type);break;case 22:case 23:wn(n),lf(),e!==null&&F(xr);break;case 24:Fi(Ie)}}function Zo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Kt(n,n.return,E)}}function Vs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,P=E;try{P()}catch(H){Kt(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){Kt(n,n.return,H)}}function iy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Kg(n,s)}catch(o){Kt(e,e.return,o)}}}function sy(e,n,s){s.props=zr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Kt(e,n,o)}}function Wo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Kt(e,n,h)}}function Ri(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Kt(e,n,h)}else s.current=null}function ry(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Kt(e,e.return,h)}}function jf(e,n,s){try{var o=e.stateNode;k1(o,e.type,s,n),o[je]=n}catch(h){Kt(e,e.return,h)}}function ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&js(e.type)||e.tag===4}function Bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&js(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=$n));else if(o!==4&&(o===27&&js(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(qf(e,n,s),e=e.sibling;e!==null;)qf(e,n,s),e=e.sibling}function $u(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&js(e.type)&&(s=e.stateNode),e=e.child,e!==null))for($u(e,n,s),e=e.sibling;e!==null;)$u(e,n,s),e=e.sibling}function oy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xe(n,o,s),n[we]=e,n[je]=s}catch(f){Kt(e,e.return,f)}}var $i=!1,Oe=!1,Hf=!1,ly=typeof WeakSet=="function"?WeakSet:Set,qe=null;function m1(e,n){if(e=e.containerInfo,cd=yc,e=Eg(e),kh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,P=0,H=0,K=e,z=null;e:for(;;){for(var B;K!==s||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(R=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===e)break e;if(z===s&&++P===h&&(E=g),z===f&&++H===o&&(R=g),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:e,selectionRange:s},yc=!1,qe=n;qe!==null;)if(n=qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qe=e;else for(;qe!==null;){switch(n=qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=zr(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Kt(s,s.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)md(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,qe=e;break}qe=n.return}}function uy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Zi(e,s),o&4&&Zo(5,s);break;case 1:if(Zi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Kt(s,s.return,g)}else{var h=zr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(s,s.return,g)}}o&64&&iy(s),o&512&&Wo(s,s.return);break;case 3:if(Zi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Kg(e,n)}catch(g){Kt(s,s.return,g)}}break;case 27:n===null&&o&4&&oy(s);case 26:case 5:Zi(e,s),n===null&&o&4&&ry(s),o&512&&Wo(s,s.return);break;case 12:Zi(e,s);break;case 31:Zi(e,s),o&4&&fy(e,s);break;case 13:Zi(e,s),o&4&&dy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=A1.bind(null,s),H1(e,s))));break;case 22:if(o=s.memoizedState!==null||$i,!o){n=n!==null&&n.memoizedState!==null||Oe,h=$i;var f=Oe;$i=o,(Oe=n)&&!f?Wi(e,s,(s.subtreeFlags&8772)!==0):Zi(e,s),$i=h,Oe=f}break;case 30:break;default:Zi(e,s)}}function cy(e){var n=e.alternate;n!==null&&(e.alternate=null,cy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&na(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,dn=!1;function Ji(e,n,s){for(s=s.child;s!==null;)hy(e,n,s),s=s.sibling}function hy(e,n,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Qn,s)}catch{}switch(s.tag){case 26:Oe||Ri(s,n),Ji(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Oe||Ri(s,n);var o=he,h=dn;js(s.type)&&(he=s.stateNode,dn=!1),Ji(e,n,s),ll(s.stateNode),he=o,dn=h;break;case 5:Oe||Ri(s,n);case 6:if(o=he,h=dn,he=null,Ji(e,n,s),he=o,dn=h,he!==null)if(dn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(s.stateNode)}catch(f){Kt(s,n,f)}else try{he.removeChild(s.stateNode)}catch(f){Kt(s,n,f)}break;case 18:he!==null&&(dn?(e=he,i_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ja(e)):i_(he,s.stateNode));break;case 4:o=he,h=dn,he=s.stateNode.containerInfo,dn=!0,Ji(e,n,s),he=o,dn=h;break;case 0:case 11:case 14:case 15:Vs(2,s,n),Oe||Vs(4,s,n),Ji(e,n,s);break;case 1:Oe||(Ri(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&sy(s,n,o)),Ji(e,n,s);break;case 21:Ji(e,n,s);break;case 22:Oe=(o=Oe)||s.memoizedState!==null,Ji(e,n,s),Oe=o;break;default:Ji(e,n,s)}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(s){Kt(n,n.return,s)}}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(s){Kt(n,n.return,s)}}function g1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ly),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ly),n;default:throw Error(a(435,e.tag))}}function Ju(e,n){var s=g1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=b1.bind(null,e,o);o.then(h,h)}})}function mn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(js(E.type)){he=E.stateNode,dn=!1;break t}break;case 5:he=E.stateNode,dn=!1;break t;case 3:case 4:he=E.stateNode.containerInfo,dn=!0;break t}E=E.return}if(he===null)throw Error(a(160));hy(f,g,h),he=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)my(n,e),n=n.sibling}var ni=null;function my(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),gn(e),o&4&&(Vs(3,e,e.return),Zo(3,e),Vs(5,e,e.return));break;case 1:mn(n,e),gn(e),o&512&&(Oe||s===null||Ri(s,s.return)),o&64&&$i&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ni;if(mn(n,e),gn(e),o&512&&(Oe||s===null||Ri(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fi]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Xe(f,o,s),f[we]=e,Re(f),o=f;break t;case"link":var g=m_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Xe(f,o,s),h.head.appendChild(f);break;case"meta":if(g=m_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Xe(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[we]=e,Re(f),o=f}e.stateNode=o}else g_(h,e.type,e.stateNode);else e.stateNode=d_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?g_(h,e.type,e.stateNode):d_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&jf(e,e.memoizedProps,s.memoizedProps)}break;case 27:mn(n,e),gn(e),o&512&&(Oe||s===null||Ri(s,s.return)),s!==null&&o&4&&jf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(mn(n,e),gn(e),o&512&&(Oe||s===null||Ri(s,s.return)),e.flags&32){h=e.stateNode;try{fn(h,"")}catch(at){Kt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,jf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Hf=!0);break;case 6:if(mn(n,e),gn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Kt(e,e.return,at)}}break;case 3:if(dc=null,h=ni,ni=hc(n.containerInfo),mn(n,e),ni=h,gn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(at){Kt(e,e.return,at)}Hf&&(Hf=!1,gy(e));break;case 4:o=ni,ni=hc(e.stateNode.containerInfo),mn(n,e),gn(e),ni=o;break;case 12:mn(n,e),gn(e);break;case 31:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 13:mn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wu=ln()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=$i,H=Oe;if($i=P||h,Oe=H||R,mn(n,e),Oe=H,$i=P,gn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||$i||Oe||jr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Kt(R,R.return,at)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Kt(R,R.return,at)}}}else if(n.tag===18){if(s===null){R=n;try{var B=R.stateNode;h?s_(B,!0):s_(R.stateNode,!1)}catch(at){Kt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Ju(e,s))));break;case 19:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 30:break;case 21:break;default:mn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ay(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Bf(e);$u(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(fn(g,""),s.flags&=-33);var E=Bf(e);$u(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,P=Bf(e);qf(e,P,R);break;default:throw Error(a(161))}}catch(H){Kt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function gy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Zi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)uy(e,n.alternate,n),n=n.sibling}function jr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Vs(4,n,n.return),jr(n);break;case 1:Ri(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&sy(n,n.return,s),jr(n);break;case 27:ll(n.stateNode);case 26:case 5:Ri(n,n.return),jr(n);break;case 22:n.memoizedState===null&&jr(n);break;case 30:jr(n);break;default:jr(n)}e=e.sibling}}function Wi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(h,f,s),Zo(4,f);break;case 1:if(Wi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Kt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Qg(R[h],E)}catch(P){Kt(o,o.return,P)}}s&&g&64&&iy(f),Wo(f,f.return);break;case 27:oy(f);case 26:case 5:Wi(h,f,s),s&&o===null&&g&4&&ry(f),Wo(f,f.return);break;case 12:Wi(h,f,s);break;case 31:Wi(h,f,s),s&&g&4&&fy(h,f);break;case 13:Wi(h,f,s),s&&g&4&&dy(h,f);break;case 22:f.memoizedState===null&&Wi(h,f,s),Wo(f,f.return);break;case 30:break;default:Wi(h,f,s)}n=n.sibling}}function Gf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&zo(s))}function Ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function ii(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(e,n,s,o),n=n.sibling}function py(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n,s,o),h&2048&&Zo(9,n);break;case 1:ii(e,n,s,o);break;case 3:ii(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){ii(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else ii(e,n,s,o);break;case 31:ii(e,n,s,o);break;case 13:ii(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ii(e,n,s,o):tl(e,n):f._visibility&2?ii(e,n,s,o):(f._visibility|=2,Da(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(g,n);break;case 24:ii(e,n,s,o),h&2048&&Ff(n.alternate,n);break;default:ii(e,n,s,o)}}function Da(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Da(f,g,E,R,h),Zo(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Da(f,g,E,R,h):tl(f,g):(H._visibility|=2,Da(f,g,E,R,h)),h&&P&2048&&Gf(g.alternate,g);break;case 24:Da(f,g,E,R,h),h&&P&2048&&Ff(g.alternate,g);break;default:Da(f,g,E,R,h)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:tl(s,o),h&2048&&Gf(o.alternate,o);break;case 24:tl(s,o),h&2048&&Ff(o.alternate,o);break;default:tl(s,o)}n=n.sibling}}var el=8192;function Na(e,n,s){if(e.subtreeFlags&el)for(e=e.child;e!==null;)yy(e,n,s),e=e.sibling}function yy(e,n,s){switch(e.tag){case 26:Na(e,n,s),e.flags&el&&e.memoizedState!==null&&eS(s,ni,e.memoizedState,e.memoizedProps);break;case 5:Na(e,n,s);break;case 3:case 4:var o=ni;ni=hc(e.stateNode.containerInfo),Na(e,n,s),ni=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=el,el=16777216,Na(e,n,s),el=o):Na(e,n,s));break;default:Na(e,n,s)}}function _y(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,Ey(o,e)}_y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vy(e),e=e.sibling}function vy(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&Vs(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):nl(e);break;default:nl(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,Ey(o,e)}_y(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Vs(8,n,n.return),Zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function Ey(e,n){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:Vs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,qe=o;else t:for(s=e;qe!==null;){o=qe;var h=o.sibling,f=o.return;if(cy(o),o===s){qe=null;break t}if(h!==null){h.return=f,qe=h;break t}qe=f}}}var p1={getCacheForType:function(e){var n=Ke(Ie),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ke(Ie).controller.signal}},y1=typeof WeakMap=="function"?WeakMap:Map,Bt=0,ee=null,Rt=null,Dt=0,Qt=0,Rn=null,xs=!1,Oa=!1,Qf=!1,ts=0,pe=0,ks=0,Br=0,Kf=0,Cn=0,Ma=0,il=null,pn=null,Yf=!1,Wu=0,Ty=0,tc=1/0,ec=null,Us=null,Le=0,Ls=null,Va=null,es=0,Xf=0,$f=null,Sy=null,sl=0,Jf=null;function In(){return(Bt&2)!==0&&Dt!==0?Dt&-Dt:q.T!==null?id():nu()}function Ay(){if(Cn===0)if((Dt&536870912)===0||xt){var e=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),Cn=e}else Cn=536870912;return e=bn.current,e!==null&&(e.flags|=32),Cn}function yn(e,n,s){(e===ee&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Ps(e,Dt,Cn,!1)),gr(e,s),((Bt&2)===0||e!==ee)&&(e===ee&&((Bt&2)===0&&(Br|=s),pe===4&&Ps(e,Dt,Cn,!1)),Ci(e))}function by(e,n,s){if((Bt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Kn(e,n),h=o?E1(e,n):Wf(e,n,!0),f=o;do{if(h===0){Oa&&!o&&Ps(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!_1(s)){h=Wf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=il;var R=E.current.memoizedState.isDehydrated;if(R&&(xa(E,g).flags|=256),g=Wf(E,g,!1),g!==2){if(Qf&&!R){E.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break t}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){xa(e,0),Ps(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ps(o,n,Cn,!xs);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-ln(),10<h)){if(Ps(o,n,Cn,!xs),ui(o,0,!0)!==0)break t;es=n,o.timeoutHandle=e_(wy.bind(null,o,s,pn,ec,Yf,n,Cn,Br,Ma,xs,f,"Throttled",-0,0),h);break t}wy(o,s,pn,ec,Yf,n,Cn,Br,Ma,xs,f,null,-0,0)}}break}while(!0);Ci(e)}function wy(e,n,s,o,h,f,g,E,R,P,H,K,z,B){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},yy(n,f,K);var at=(f&62914560)===f?Wu-ln():(f&4194048)===f?Ty-ln():0;if(at=nS(K,at),at!==null){es=f,e.cancelPendingCommit=at(Vy.bind(null,e,n,f,s,o,h,g,E,R,H,K,null,z,B)),Ps(e,f,g,!P);return}}Vy(e,n,f,s,o,h,g,E,R)}function _1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Sn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ps(e,n,s,o){n&=~Kf,n&=~Br,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ye(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&pr(e,s,n)}function nc(){return(Bt&6)===0?(rl(0),!1):!0}function Zf(){if(Rt!==null){if(Qt===0)var e=Rt.return;else e=Rt,Gi=Mr=null,mf(e),ba=null,Bo=0,e=Rt;for(;e!==null;)ny(e.alternate,e),e=e.return;Rt=null}}function xa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,P1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),es=0,Zf(),ee=e,Rt=s=qi(e.current,null),Dt=n,Qt=0,Rn=null,xs=!1,Oa=Kn(e,n),Qf=!1,Ma=Cn=Kf=Br=ks=pe=0,pn=il=null,Yf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ye(o),f=1<<h;n|=e[h],o&=~f}return ts=n,Au(),s}function Ry(e,n){bt=null,q.H=Xo,n===Aa||n===Ou?(n=qg(),Qt=3):n===ef?(n=qg(),Qt=4):Qt=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,Rt===null&&(pe=1,Fu(e,Un(n,e.current)))}function Cy(){var e=bn.current;return e===null?!0:(Dt&4194048)===Dt?jn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===jn:!1}function Iy(){var e=q.H;return q.H=Xo,e===null?Xo:e}function Dy(){var e=q.A;return q.A=p1,e}function ic(){pe=4,xs||(Dt&4194048)!==Dt&&bn.current!==null||(Oa=!0),(ks&134217727)===0&&(Br&134217727)===0||ee===null||Ps(ee,Dt,Cn,!1)}function Wf(e,n,s){var o=Bt;Bt|=2;var h=Iy(),f=Dy();(ee!==e||Dt!==n)&&(ec=null,xa(e,n)),n=!1;var g=pe;t:do try{if(Qt!==0&&Rt!==null){var E=Rt,R=Rn;switch(Qt){case 8:Zf(),g=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var P=Qt;if(Qt=0,Rn=null,ka(e,E,R,P),s&&Oa){g=0;break t}break;default:P=Qt,Qt=0,Rn=null,ka(e,E,R,P)}}v1(),g=pe;break}catch(H){Ry(e,H)}while(!0);return n&&e.shellSuspendCounter++,Gi=Mr=null,Bt=o,q.H=h,q.A=f,Rt===null&&(ee=null,Dt=0,Au()),g}function v1(){for(;Rt!==null;)Ny(Rt)}function E1(e,n){var s=Bt;Bt|=2;var o=Iy(),h=Dy();ee!==e||Dt!==n?(ec=null,tc=ln()+500,xa(e,n)):Oa=Kn(e,n);t:do try{if(Qt!==0&&Rt!==null){n=Rt;var f=Rn;e:switch(Qt){case 1:Qt=0,Rn=null,ka(e,n,f,1);break;case 2:case 9:if(jg(f)){Qt=0,Rn=null,Oy(n);break}n=function(){Qt!==2&&Qt!==9||ee!==e||(Qt=7),Ci(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:jg(f)?(Qt=0,Rn=null,Oy(n)):(Qt=0,Rn=null,ka(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?p_(g):E.stateNode.complete){Qt=0,Rn=null;var R=E.sibling;if(R!==null)Rt=R;else{var P=E.return;P!==null?(Rt=P,sc(P)):Rt=null}break e}}Qt=0,Rn=null,ka(e,n,f,5);break;case 6:Qt=0,Rn=null,ka(e,n,f,6);break;case 8:Zf(),pe=6;break t;default:throw Error(a(462))}}T1();break}catch(H){Ry(e,H)}while(!0);return Gi=Mr=null,q.H=o,q.A=h,Bt=s,Rt!==null?0:(ee=null,Dt=0,Au(),pe)}function T1(){for(;Rt!==null&&!Ih();)Ny(Rt)}function Ny(e){var n=ty(e.alternate,e,ts);e.memoizedProps=e.pendingProps,n===null?sc(e):Rt=n}function Oy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Yp(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Yp(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:mf(n);default:ny(s,n),n=Rt=Dg(n,ts),n=ty(s,n,ts)}e.memoizedProps=e.pendingProps,n===null?sc(e):Rt=n}function ka(e,n,s,o){Gi=Mr=null,mf(n),ba=null,Bo=0;var h=n.return;try{if(u1(e,h,n,s,Dt)){pe=1,Fu(e,Un(s,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;pe=1,Fu(e,Un(s,e.current)),Rt=null;return}n.flags&32768?(xt||o===1?e=!0:Oa||(Dt&536870912)!==0?e=!1:(xs=e=!0,(o===2||o===9||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),My(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){My(n,xs);return}e=n.return;var s=f1(n.alternate,n,ts);if(s!==null){Rt=s;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);pe===0&&(pe=5)}function My(e,n){do{var s=d1(e.alternate,e);if(s!==null){s.flags&=32767,Rt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=s}while(e!==null);pe=6,Rt=null}function Vy(e,n,s,o,h,f,g,E,R){e.cancelPendingCommit=null;do rc();while(Le!==0);if((Bt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=jh,Oh(e,s,f,g,E,R),e===ee&&(Rt=ee=null,Dt=0),Va=n,Ls=e,es=s,Xf=f,$f=h,Sy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,w1(ms,function(){return Py(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=et.p,et.p=2,g=Bt,Bt|=4;try{m1(e,n,s)}finally{Bt=g,et.p=h,q.T=o}}Le=1,xy(),ky(),Uy()}}function xy(){if(Le===1){Le=0;var e=Ls,n=Va,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=et.p;et.p=2;var h=Bt;Bt|=4;try{my(n,e);var f=hd,g=Eg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&vg(E.ownerDocument.documentElement,E)){if(R!==null&&kh(E)){var P=R.start,H=R.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),at=E.textContent.length,dt=Math.min(R.start,at),Wt=R.end===void 0?dt:Math.min(R.end,at);!B.extend&&dt>Wt&&(g=Wt,Wt=dt,dt=g);var x=_g(E,dt),N=_g(E,Wt);if(x&&N&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var L=K.createRange();L.setStart(x.node,x.offset),B.removeAllRanges(),dt>Wt?(B.addRange(L),B.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),B.addRange(L))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var G=K[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}yc=!!cd,hd=cd=null}finally{Bt=h,et.p=o,q.T=s}}e.current=n,Le=2}}function ky(){if(Le===2){Le=0;var e=Ls,n=Va,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=et.p;et.p=2;var h=Bt;Bt|=4;try{uy(e,n.alternate,n)}finally{Bt=h,et.p=o,q.T=s}}Le=3}}function Uy(){if(Le===4||Le===3){Le=0,Xl();var e=Ls,n=Va,s=es,o=Sy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Va=Ls=null,Ly(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Us=null),Pi(s),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=et.p,et.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,et.p=h}}(es&3)!==0&&rc(),Ci(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Jf?sl++:(sl=0,Jf=e):sl=0,rl(0)}}function Ly(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function rc(){return xy(),ky(),Uy(),Py()}function Py(){if(Le!==5)return!1;var e=Ls,n=Xf;Xf=0;var s=Pi(es),o=q.T,h=et.p;try{et.p=32>s?32:s,q.T=null,s=$f,$f=null;var f=Ls,g=es;if(Le=0,Va=Ls=null,es=0,(Bt&6)!==0)throw Error(a(331));var E=Bt;if(Bt|=4,vy(f.current),py(f,f.current,g,s),Bt=E,rl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Qn,f)}catch{}return!0}finally{et.p=h,q.T=o,Ly(e,n)}}function zy(e,n,s){n=Un(s,n),n=Df(e.stateNode,n,2),e=Ns(e,n,2),e!==null&&(gr(e,2),Ci(e))}function Kt(e,n,s){if(e.tag===3)zy(e,e,s);else for(;n!==null;){if(n.tag===3){zy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Us===null||!Us.has(o))){e=Un(s,e),s=jp(2),o=Ns(n,s,2),o!==null&&(Bp(s,o,n,e),gr(o,2),Ci(o));break}}n=n.return}}function td(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new y1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Qf=!0,h.add(s),e=S1.bind(null,e,n,s),n.then(e,e))}function S1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ee===e&&(Dt&s)===s&&(pe===4||pe===3&&(Dt&62914560)===Dt&&300>ln()-Wu?(Bt&2)===0&&xa(e,0):Kf|=s,Ma===Dt&&(Ma=0)),Ci(e)}function jy(e,n){n===0&&(n=eu()),e=Dr(e,n),e!==null&&(gr(e,n),Ci(e))}function A1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),jy(e,s)}function b1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),jy(e,s)}function w1(e,n){return se(e,n)}var ac=null,Ua=null,ed=!1,oc=!1,nd=!1,zs=0;function Ci(e){e!==Ua&&e.next===null&&(Ua===null?ac=Ua=e:Ua=Ua.next=e),oc=!0,ed||(ed=!0,C1())}function rl(e,n){if(!nd&&oc){nd=!0;do for(var s=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ye(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Gy(o,f))}else f=Dt,f=ui(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Kn(o,f)||(s=!0,Gy(o,f));o=o.next}while(s);nd=!1}}function R1(){By()}function By(){oc=ed=!1;var e=0;zs!==0&&L1()&&(e=zs);for(var n=ln(),s=null,o=ac;o!==null;){var h=o.next,f=qy(o,n);f===0?(o.next=null,s===null?ac=h:s.next=h,h===null&&(Ua=s)):(s=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=h}Le!==0&&Le!==5||rl(e),zs!==0&&(zs=0)}function qy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ye(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Nh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,s=Dt,s=ui(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ds(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Kn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ds(o),Pi(s)){case 2:case 8:s=go;break;case 32:s=ms;break;case 268435456:s=$l;break;default:s=ms}return o=Hy.bind(null,e),s=se(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ds(o),e.callbackPriority=2,e.callbackNode=null,2}function Hy(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(rc()&&e.callbackNode!==s)return null;var o=Dt;return o=ui(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(by(e,o,n),qy(e,ln()),e.callbackNode!=null&&e.callbackNode===s?Hy.bind(null,e):null)}function Gy(e,n){if(rc())return null;by(e,n,!0)}function C1(){z1(function(){(Bt&6)!==0?se(mo,R1):By()})}function id(){if(zs===0){var e=Ta;e===0&&(e=oi,oi<<=1,(oi&261888)===0&&(oi=256)),zs=e}return zs}function Fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function Qy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function I1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Fy((h[je]||null).action),g=o.submitter;g&&(n=(n=g[je]||null)?Fy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ei("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(zs!==0){var R=g?Qy(h,g):new FormData(h);Af(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Qy(h,g):new FormData(h),Af(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var sd=0;sd<zh.length;sd++){var rd=zh[sd],D1=rd.toLowerCase(),N1=rd[0].toUpperCase()+rd.slice(1);ei(D1,"on"+N1)}ei(Ag,"onAnimationEnd"),ei(bg,"onAnimationIteration"),ei(wg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(QT,"onTransitionRun"),ei(KT,"onTransitionStart"),ei(YT,"onTransitionCancel"),ei(Rg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Ky(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){Su(H)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){Su(H)}h.currentTarget=null,f=R}}}}function Ct(e,n){var s=n[ea];s===void 0&&(s=n[ea]=new Set);var o=e+"__bubble";s.has(o)||(Yy(n,e,2,!1),s.add(o))}function ad(e,n,s){var o=0;n&&(o|=4),Yy(s,e,o,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function od(e){if(!e[lc]){e[lc]=!0,_o.forEach(function(s){s!=="selectionchange"&&(O1.has(s)||ad(s,!1,e),ad(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,ad("selectionchange",!1,n))}}function Yy(e,n,s,o){switch(A_(n)){case 2:var h=rS;break;case 8:h=aS;break;default:h=Sd}s=h.bind(null,n,s,e),h=void 0,!Tr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ld(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=di(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Es(function(){var P=f,H=Mn(s),K=[];t:{var z=Cg.get(e);if(z!==void 0){var B=Ei,at=e;switch(e){case"keypress":if(Ar(s)===0)break t;case"keydown":case"keyup":B=vu;break;case"focusin":at="focus",B=wr;break;case"focusout":at="blur",B=wr;break;case"beforeblur":case"afterblur":B=wr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case Ag:case bg:case wg:B=fu;break;case Rg:B=T;break;case"scroll":case"scrollend":B=No;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Bi;break;case"toggle":case"beforetoggle":B=At}var dt=(n&4)!==0,Wt=!dt&&(e==="scroll"||e==="scrollend"),x=dt?z!==null?z+"Capture":null:z;dt=[];for(var N=P,L;N!==null;){var G=N;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||x===null||(G=Jn(N,x),G!=null&&dt.push(ol(N,G,L))),Wt)break;N=N.return}0<dt.length&&(z=new B(z,at,null,s,H),K.push({event:z,listeners:dt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&s!==Co&&(at=s.relatedTarget||s.fromElement)&&(di(at)||at[hi]))break t;if((B||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,B?(at=s.relatedTarget||s.toElement,B=P,at=at?di(at):null,at!==null&&(Wt=c(at),dt=at.tag,at!==Wt||dt!==5&&dt!==27&&dt!==6)&&(at=null)):(B=null,at=P),B!==at)){if(dt=Oo,G="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Bi,G="onPointerLeave",x="onPointerEnter",N="pointer"),Wt=B==null?z:En(B),L=at==null?z:En(at),z=new dt(G,N+"leave",B,s,H),z.target=Wt,z.relatedTarget=L,G=null,di(H)===P&&(dt=new dt(x,N+"enter",at,s,H),dt.target=L,dt.relatedTarget=Wt,G=dt),Wt=G,B&&at)e:{for(dt=M1,x=B,N=at,L=0,G=x;G;G=dt(G))L++;G=0;for(var ut=N;ut;ut=dt(ut))G++;for(;0<L-G;)x=dt(x),L--;for(;0<G-L;)N=dt(N),G--;for(;L--;){if(x===N||N!==null&&x===N.alternate){dt=x;break e}x=dt(x),N=dt(N)}dt=null}else dt=null;B!==null&&Xy(K,z,B,dt,!1),at!==null&&Wt!==null&&Xy(K,Wt,at,dt,!0)}}t:{if(z=P?En(P):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var Pt=fg;else if(cg(z))if(dg)Pt=HT;else{Pt=BT;var ot=jT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ra(P.elementType)&&(Pt=fg):Pt=qT;if(Pt&&(Pt=Pt(e,P))){hg(K,Pt,s,H);break t}ot&&ot(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&bo(z,"number",z.value)}switch(ot=P?En(P):window,e){case"focusin":(cg(ot)||ot.contentEditable==="true")&&(da=ot,Uh=P,Uo=null);break;case"focusout":Uo=Uh=da=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Tg(K,s,H);break;case"selectionchange":if(FT)break;case"keydown":case"keyup":Tg(K,s,H)}var wt;if(jt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else fa?Rr(e,s)&&(Nt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Nt="onCompositionStart");Nt&&(Ai&&s.locale!=="ko"&&(fa||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&fa&&(wt=Do()):(vi=H,Io="value"in vi?vi.value:vi.textContent,fa=!0)),ot=uc(P,Nt),0<ot.length&&(Nt=new Si(Nt,e,null,s,H),K.push({event:Nt,listeners:ot}),wt?Nt.data=wt:(wt=ha(s),wt!==null&&(Nt.data=wt)))),(wt=xn?UT(e,s):LT(e,s))&&(Nt=uc(P,"onBeforeInput"),0<Nt.length&&(ot=new Si("onBeforeInput","beforeinput",null,s,H),K.push({event:ot,listeners:Nt}),ot.data=wt)),I1(K,e,P,s,H)}Ky(K,n)})}function ol(e,n,s){return{instance:e,listener:n,currentTarget:s}}function uc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Jn(e,s),h!=null&&o.unshift(ol(e,h,f)),h=Jn(e,n),h!=null&&o.push(ol(e,h,f))),e.tag===3)return o;e=e.return}return[]}function M1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=Jn(s,f),P!=null&&g.unshift(ol(s,P,R))):h||(P=Jn(s,f),P!=null&&g.push(ol(s,P,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var V1=/\r\n?/g,x1=/\u0000|\uFFFD/g;function $y(e){return(typeof e=="string"?e:""+e).replace(V1,`
`).replace(x1,"")}function Jy(e,n){return n=$y(n),$y(e)===n}function Zt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||fn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&fn(e,""+o);break;case"className":Tn(e,"class",o);break;case"tabIndex":Tn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,s,o);break;case"style":Ro(e,o,f);break;case"data":if(n!=="object"){Tn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=aa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=aa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=$n);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=aa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),ia(e,"popover",o);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ia(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uu.get(s)||s,ia(e,s,o))}}function ud(e,n,s,o,h,f){switch(s){case"style":Ro(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?fn(e,o):(typeof o=="number"||typeof o=="bigint")&&fn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[je]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ia(e,s,o)}}}function Xe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,g,s,null)}}h&&Zt(e,n,"srcSet",s.srcSet,s,null),o&&Zt(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=g=h=null,R=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":R=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Zt(e,n,o,H,s,null)}}au(e,f,E,R,P,g,h,!1);return;case"select":Ct("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?ps(e,!!o,n,!1):s!=null&&ps(e,!!o,s,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Zt(e,n,g,E,s,null)}ys(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,n,R,o,s,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)Ct(al[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,P,o,s,null)}return;default:if(ra(n)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&ud(e,n,H,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Zt(e,n,E,o,s,null))}function k1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,P=null,H=null;for(B in s){var K=s[B];if(s.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(B)||Zt(e,n,B,null,o,K)}}for(var z in o){var B=o[z];if(K=s[z],o.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":P=B;break;case"defaultChecked":H=B;break;case"value":g=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==K&&Zt(e,n,z,B,o,K)}}sa(e,g,E,R,P,H,f,h);return;case"select":B=g=E=z=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Zt(e,n,h,f,o,R)}n=E,s=g,o=B,z!=null?ps(e,!!s,z,!1):!!o!=!!s&&(n!=null?ps(e,!!s,n,!0):ps(e,!!s,s?[]:"",!1));return;case"textarea":B=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}ou(e,z,B);return;case"option":for(var at in s)z=s[at],s.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Zt(e,n,at,null,o,z));for(R in o)z=o[R],B=s[R],o.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Zt(e,n,R,z,o,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)z=s[dt],s.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&Zt(e,n,dt,null,o,z);for(P in o)if(z=o[P],B=s[P],o.hasOwnProperty(P)&&z!==B&&(z!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Zt(e,n,P,z,o,B)}return;default:if(ra(n)){for(var Wt in s)z=s[Wt],s.hasOwnProperty(Wt)&&z!==void 0&&!o.hasOwnProperty(Wt)&&ud(e,n,Wt,void 0,o,z);for(H in o)z=o[H],B=s[H],!o.hasOwnProperty(H)||z===B||z===void 0&&B===void 0||ud(e,n,H,z,o,B);return}}for(var x in s)z=s[x],s.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Zt(e,n,x,null,o,z);for(K in o)z=o[K],B=s[K],!o.hasOwnProperty(K)||z===B||z==null&&B==null||Zt(e,n,K,z,o,B)}function Zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Zy(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],P=R.startTime;if(P>E)break;var H=R.transferSize,K=R.initiatorType;H&&Zy(K)&&(R=R.responseEnd,g+=H*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,hd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Wy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function L1(){var e=window.event;return e&&e.type==="popstate"?e===dd?!1:(dd=e,!0):(dd=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,P1=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,z1=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(e){return n_.resolve(null).then(e).catch(j1)}:e_;function j1(e){setTimeout(function(){throw e})}function js(e){return e==="head"}function i_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),ja(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ll(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ll(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[fi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ll(e.ownerDocument.body);s=h}while(s);ja(n)}function s_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function md(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),na(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function B1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[fi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function q1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Bn(e.nextSibling),e===null))return null;return e}function r_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function gd(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var yd=null;function a_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Bn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function o_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function l_(e,n,s){switch(n=cc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);na(e)}var qn=new Map,u_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ns=et.d;et.d={f:G1,r:F1,D:Q1,C:K1,L:Y1,m:X1,X:J1,S:$1,M:Z1};function G1(){var e=ns.f(),n=nc();return e||n}function F1(e){var n=On(e);n!==null&&n.tag===5&&n.type==="form"?Rp(n):ns.r(e)}var La=typeof document>"u"?null:document;function c_(e,n,s){var o=La;if(o&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),u_.has(h)||(u_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Xe(n,"link",e),Re(n),o.head.appendChild(n)))}}function Q1(e){ns.D(e),c_("dns-prefetch",e,null)}function K1(e,n){ns.C(e,n),c_("preconnect",e,n)}function Y1(e,n,s){ns.L(e,n,s);var o=La;if(o&&e&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+hn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+hn(s.imageSizes)+'"]')):h+='[href="'+hn(e)+'"]';var f=h;switch(n){case"style":f=Pa(e);break;case"script":f=za(e)}qn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),qn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),Xe(n,"link",e),Re(n),o.head.appendChild(n)))}}function X1(e,n){ns.m(e,n);var s=La;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!qn.has(f)&&(e=b({rel:"modulepreload",href:e},n),qn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cl(f)))return}o=s.createElement("link"),Xe(o,"link",e),Re(o),s.head.appendChild(o)}}}function $1(e,n,s){ns.S(e,n,s);var o=La;if(o&&e){var h=mi(o).hoistableStyles,f=Pa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ul(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=qn.get(f))&&_d(e,s);var R=g=o.createElement("link");Re(R),Xe(R,"link",e),R._p=new Promise(function(P,H){R.onload=P,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function J1(e,n){ns.X(e,n);var s=La;if(s&&e){var o=mi(s).hoistableScripts,h=za(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=b({src:e,async:!0},n),(n=qn.get(h))&&vd(e,n),f=s.createElement("script"),Re(f),Xe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Z1(e,n){ns.M(e,n);var s=La;if(s&&e){var o=mi(s).hoistableScripts,h=za(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=qn.get(h))&&vd(e,n),f=s.createElement("script"),Re(f),Xe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function h_(e,n,s,o){var h=(h=Et.current)?hc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Pa(s.href),s=mi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Pa(s.href);var f=mi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ul(e)))&&!f._p&&(g.instance=f,g.state.loading=5),qn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},qn.set(e,s),f||W1(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(s),s=mi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Pa(e){return'href="'+hn(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function f_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function W1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Xe(n,"link",s),Re(n),e.head.appendChild(n))}function za(e){return'[src="'+hn(e)+'"]'}function cl(e){return"script[async]"+e}function d_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+hn(s.href)+'"]');if(o)return n.instance=o,Re(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Re(o),Xe(o,"style",h),fc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Pa(s.href);var f=e.querySelector(ul(h));if(f)return n.state.loading|=4,n.instance=f,Re(f),f;o=f_(s),(h=qn.get(h))&&_d(o,h),f=(e.ownerDocument||e).createElement("link"),Re(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Xe(f,"link",o),n.state.loading|=4,fc(f,s.precedence,e),n.instance=f;case"script":return f=za(s.src),(h=e.querySelector(cl(f)))?(n.instance=h,Re(h),h):(o=s,(h=qn.get(f))&&(o=b({},s),vd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Re(h),Xe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,s.precedence,e));return n.instance}function fc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function m_(e,n,s){if(dc===null){var o=new Map,h=dc=new Map;h.set(s,o)}else h=dc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[fi]||f[we]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function g_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function tS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Pa(o.href),f=n.querySelector(ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Re(f);return}f=n.ownerDocument||n,o=f_(o),(h=qn.get(h))&&_d(o,h),f=f.createElement("link"),Re(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Xe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=mc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ed=0;function nS(e,n){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ed===0&&(Ed=62500*U1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ed?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(iS,e),gc=null,mc.call(e))}function iS(e,n){if(!(n.state.loading&4)){var s=gc.get(e);if(s)var o=s.get(null);else{s=new Map,gc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var hl={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function sS(e,n,s,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function y_(e,n,s,o,h,f,g,E,R,P,H,K){return e=new sS(e,n,s,g,R,P,H,K,E),n=1,f===!0&&(n|=24),f=An(3,null,null,n),e.current=f,f.stateNode=e,n=Zh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},nf(f),e}function __(e){return e?(e=pa,e):pa}function v_(e,n,s,o,h,f){h=__(h),o.context===null?o.context=h:o.pendingContext=h,o=Ds(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ns(e,o,n),s!==null&&(yn(s,e,n),Ho(s,e,n))}function E_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Td(e,n){E_(e,n),(e=e.alternate)&&E_(e,n)}function T_(e){if(e.tag===13||e.tag===31){var n=Dr(e,67108864);n!==null&&yn(n,e,67108864),Td(e,67108864)}}function S_(e){if(e.tag===13||e.tag===31){var n=In();n=yr(n);var s=Dr(e,n);s!==null&&yn(s,e,n),Td(e,n)}}var yc=!0;function rS(e,n,s,o){var h=q.T;q.T=null;var f=et.p;try{et.p=2,Sd(e,n,s,o)}finally{et.p=f,q.T=h}}function aS(e,n,s,o){var h=q.T;q.T=null;var f=et.p;try{et.p=8,Sd(e,n,s,o)}finally{et.p=f,q.T=h}}function Sd(e,n,s,o){if(yc){var h=Ad(o);if(h===null)ld(e,n,o,_c,s),b_(e,o);else if(lS(h,e,n,s,o))o.stopPropagation();else if(b_(e,o),n&4&&-1<oS.indexOf(e)){for(;h!==null;){var f=On(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=li(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ye(g);E.entanglements[1]|=R,g&=~R}Ci(f),(Bt&6)===0&&(tc=ln()+500,rl(0))}}break;case 31:case 13:E=Dr(f,2),E!==null&&yn(E,f,2),nc(),Td(f,2)}if(f=Ad(o),f===null&&ld(e,n,o,_c,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ld(e,n,o,null,s)}}function Ad(e){return e=Mn(e),bd(e)}var _c=null;function bd(e){if(_c=null,e=di(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function A_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case mo:return 2;case go:return 8;case ms:case Dh:return 32;case $l:return 268435456;default:return 32}default:return 32}}var wd=!1,Bs=null,qs=null,Hs=null,fl=new Map,dl=new Map,Gs=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(e,n){switch(e){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function ml(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=On(n),n!==null&&T_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function lS(e,n,s,o,h){switch(n){case"focusin":return Bs=ml(Bs,e,n,s,o,h),!0;case"dragenter":return qs=ml(qs,e,n,s,o,h),!0;case"mouseover":return Hs=ml(Hs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,ml(fl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,ml(dl.get(f)||null,e,n,s,o,h)),!0}return!1}function w_(e){var n=di(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Yn(e.priority,function(){S_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Yn(e.priority,function(){S_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ad(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Co=o,s.target.dispatchEvent(o),Co=null}else return n=On(s),n!==null&&T_(n),e.blockedOn=s,!1;n.shift()}return!0}function R_(e,n,s){vc(e)&&s.delete(n)}function uS(){wd=!1,Bs!==null&&vc(Bs)&&(Bs=null),qs!==null&&vc(qs)&&(qs=null),Hs!==null&&vc(Hs)&&(Hs=null),fl.forEach(R_),dl.forEach(R_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uS)))}var Tc=null;function C_(e){Tc!==e&&(Tc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(bd(o||s)===null)continue;break}var f=On(s);f!==null&&(e.splice(n,3),n-=3,Af(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function ja(e){function n(R){return Ec(R,e)}Bs!==null&&Ec(Bs,e),qs!==null&&Ec(qs,e),Hs!==null&&Ec(Hs,e),fl.forEach(n),dl.forEach(n);for(var s=0;s<Gs.length;s++){var o=Gs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Gs.length&&(s=Gs[0],s.blockedOn===null);)w_(s),s.blockedOn===null&&Gs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[je]||null;if(typeof f=="function")g||C_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[je]||null)E=g.formAction;else if(bd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),C_(s)}}}function I_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(e){this._internalRoot=e}Sc.prototype.render=Rd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=In();v_(s,o,e,n,null,null)},Sc.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;v_(e.current,2,null,e,null,null),nc(),n[hi]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Gs.length&&n!==0&&n<Gs[s].priority;s++);Gs.splice(s,0,e),s===0&&w_(e)}};var D_=t.version;if(D_!=="19.2.4")throw Error(a(527,D_,"19.2.4"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var cS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Qn=Ac.inject(cS),Ge=Ac}catch{}}return pl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Up,f=Lp,g=Pp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=y_(e,1,!1,null,null,s,o,null,h,f,g,I_),e[hi]=n.current,od(e),new Rd(n)},pl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Up,g=Lp,E=Pp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=y_(e,1,!0,n,s??null,o,h,R,f,g,E,I_),n.context=__(null),s=n.current,o=In(),o=yr(o),h=Ds(o),h.callback=null,Ns(s,h,o),s=o,n.current.lanes=s,gr(n,s),Ci(n),e[hi]=n.current,od(e),new Sc(n)},pl.version="19.2.4",pl}var z_;function TS(){if(z_)return Dd.exports;z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Dd.exports=ES(),Dd.exports}var SS=TS();const AS=d0(SS),bS=()=>{};var j_={};const m0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},wS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},g0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,v=l+2<r.length,y=v?r[l+2]:0,S=c>>2,b=(c&3)<<4|p>>4;let D=(p&15)<<2|y>>6,Q=y&63;v||(Q=64,d||(D=64)),a.push(i[S],i[b],i[D],i[Q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(m0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):wS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new RS;const D=c<<2|p>>4;if(a.push(D),y!==64){const Q=p<<4&240|y>>2;if(a.push(Q),b!==64){const Z=y<<6&192|b;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class RS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CS=function(r){const t=m0(r);return g0.encodeByteArray(t,!0)},qc=function(r){return CS(r).replace(/\./g,"")},p0=function(r){try{return g0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function IS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const DS=()=>IS().__FIREBASE_DEFAULTS__,NS=()=>{if(typeof process>"u"||typeof j_>"u")return;const r=j_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},OS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&p0(r[1]);return t&&JSON.parse(t)},lh=()=>{try{return bS()||DS()||NS()||OS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},y0=r=>lh()?.emulatorHosts?.[r],MS=r=>{const t=y0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},_0=()=>lh()?.config,v0=r=>lh()?.[`_${r}`];class VS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function ao(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E0(r){return(await fetch(r,{credentials:"include"})).ok}function xS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Sl={};function kS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?r.emulator.push(t):r.prod.push(t);return r}function US(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let B_=!1;function T0(r,t){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||Sl[r]===t||Sl[r]||B_)return;Sl[r]=t;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",c=kS().prod.length>0;function d(){const D=document.getElementById(a);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function v(D,Q){D.setAttribute("width","24"),D.setAttribute("id",Q),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{B_=!0,d()},D}function S(D,Q){D.setAttribute("id",Q),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function b(){const D=US(a),Q=i("text"),Z=document.getElementById(Q)||document.createElement("span"),it=i("learnmore"),tt=document.getElementById(it)||document.createElement("a"),ft=i("preprendIcon"),yt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const _t=D.element;p(_t),S(tt,it);const te=y();v(yt,ft),_t.append(yt,Z,tt,te),document.body.appendChild(_t)}c?(Z.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function PS(){const r=lh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function BS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qS(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function HS(){return!PS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GS(){try{return typeof indexedDB=="object"}catch{return!1}}function FS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const QS="FirebaseError";class fs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=QS,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?KS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new fs(l,p,a)}}function KS(r,t){return r.replace(YS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const YS=/\{\$([^}]+)}/g;function XS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Qr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(q_(c)&&q_(d)){if(!Qr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function q_(r){return r!==null&&typeof r=="object"}function Pl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function $S(r,t){const i=new JS(r,t);return i.subscribe.bind(i)}class JS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");ZS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Vd),l.error===void 0&&(l.error=Vd),l.complete===void 0&&(l.complete=Vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Vd(){}function an(r){return r&&r._delegate?r._delegate:r}class Kr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qr="[DEFAULT]";class WS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new VS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eA(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:tA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tA(r){return r===qr?void 0:r}function eA(r){return r.instantiationMode==="EAGER"}class nA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new WS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const iA={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},sA=Ot.INFO,rA={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},aA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=rA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tm{constructor(t){this.name=t,this._logLevel=sA,this._logHandler=aA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const oA=(r,t)=>t.some(i=>r instanceof i);let H_,G_;function lA(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uA(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,$d=new WeakMap,A0=new WeakMap,xd=new WeakMap,Sm=new WeakMap;function cA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(tr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&S0.set(i,r)}).catch(()=>{}),Sm.set(t,r),t}function hA(r){if($d.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});$d.set(r,t)}let Jd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return $d.get(r);if(t==="objectStoreNames")return r.objectStoreNames||A0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return tr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function fA(r){Jd=r(Jd)}function dA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(kd(this),t,...i);return A0.set(a,t.sort?t.sort():[t]),tr(a)}:uA().includes(r)?function(...t){return r.apply(kd(this),t),tr(S0.get(this))}:function(...t){return tr(r.apply(kd(this),t))}}function mA(r){return typeof r=="function"?dA(r):(r instanceof IDBTransaction&&hA(r),oA(r,lA())?new Proxy(r,Jd):r)}function tr(r){if(r instanceof IDBRequest)return cA(r);if(xd.has(r))return xd.get(r);const t=mA(r);return t!==r&&(xd.set(r,t),Sm.set(t,r)),t}const kd=r=>Sm.get(r);function gA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=tr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(tr(d.result),v.oldVersion,v.newVersion,tr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const pA=["get","getKey","getAll","getAllKeys","count"],yA=["put","add","delete","clear"],Ud=new Map;function F_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ud.get(t))return Ud.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=yA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||pA.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&v.done]))[0]};return Ud.set(t,c),c}fA(r=>({...r,get:(t,i,a)=>F_(t,i)||r.get(t,i,a),has:(t,i)=>!!F_(t,i)||r.has(t,i)}));class _A{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(vA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function vA(r){return r.getComponent()?.type==="VERSION"}const Zd="@firebase/app",Q_="0.14.7";const as=new Tm("@firebase/app"),EA="@firebase/app-compat",TA="@firebase/analytics-compat",SA="@firebase/analytics",AA="@firebase/app-check-compat",bA="@firebase/app-check",wA="@firebase/auth",RA="@firebase/auth-compat",CA="@firebase/database",IA="@firebase/data-connect",DA="@firebase/database-compat",NA="@firebase/functions",OA="@firebase/functions-compat",MA="@firebase/installations",VA="@firebase/installations-compat",xA="@firebase/messaging",kA="@firebase/messaging-compat",UA="@firebase/performance",LA="@firebase/performance-compat",PA="@firebase/remote-config",zA="@firebase/remote-config-compat",jA="@firebase/storage",BA="@firebase/storage-compat",qA="@firebase/firestore",HA="@firebase/ai",GA="@firebase/firestore-compat",FA="firebase",QA="12.8.0";const Wd="[DEFAULT]",KA={[Zd]:"fire-core",[EA]:"fire-core-compat",[SA]:"fire-analytics",[TA]:"fire-analytics-compat",[bA]:"fire-app-check",[AA]:"fire-app-check-compat",[wA]:"fire-auth",[RA]:"fire-auth-compat",[CA]:"fire-rtdb",[IA]:"fire-data-connect",[DA]:"fire-rtdb-compat",[NA]:"fire-fn",[OA]:"fire-fn-compat",[MA]:"fire-iid",[VA]:"fire-iid-compat",[xA]:"fire-fcm",[kA]:"fire-fcm-compat",[UA]:"fire-perf",[LA]:"fire-perf-compat",[PA]:"fire-rc",[zA]:"fire-rc-compat",[jA]:"fire-gcs",[BA]:"fire-gcs-compat",[qA]:"fire-fst",[GA]:"fire-fst-compat",[HA]:"fire-vertex","fire-js":"fire-js",[FA]:"fire-js-all"};const Hc=new Map,YA=new Map,tm=new Map;function K_(r,t){try{r.container.addComponent(t)}catch(i){as.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Wa(r){const t=r.name;if(tm.has(t))return as.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,r);for(const i of Hc.values())K_(i,r);for(const i of YA.values())K_(i,r);return!0}function Am(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Hn(r){return r==null?!1:r.settings!==void 0}const XA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new Ll("app","Firebase",XA);class $A{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const oo=QA;function b0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Wd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw er.create("bad-app-name",{appName:String(l)});if(i||(i=_0()),!i)throw er.create("no-options");const c=Hc.get(l);if(c){if(Qr(i,c.options)&&Qr(a,c.config))return c;throw er.create("duplicate-app",{appName:l})}const d=new nA(l);for(const v of tm.values())d.addComponent(v);const p=new $A(i,a,d);return Hc.set(l,p),p}function w0(r=Wd){const t=Hc.get(r);if(!t&&r===Wd&&_0())return b0();if(!t)throw er.create("no-app",{appName:r});return t}function nr(r,t,i){let a=KA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),as.warn(d.join(" "));return}Wa(new Kr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const JA="firebase-heartbeat-database",ZA=1,Il="firebase-heartbeat-store";let Ld=null;function R0(){return Ld||(Ld=gA(JA,ZA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Il)}catch(i){console.warn(i)}}}}).catch(r=>{throw er.create("idb-open",{originalErrorMessage:r.message})})),Ld}async function WA(r){try{const i=(await R0()).transaction(Il),a=await i.objectStore(Il).get(C0(r));return await i.done,a}catch(t){if(t instanceof fs)as.warn(t.message);else{const i=er.create("idb-get",{originalErrorMessage:t?.message});as.warn(i.message)}}}async function Y_(r,t){try{const a=(await R0()).transaction(Il,"readwrite");await a.objectStore(Il).put(t,C0(r)),await a.done}catch(i){if(i instanceof fs)as.warn(i.message);else{const a=er.create("idb-set",{originalErrorMessage:i?.message});as.warn(a.message)}}}function C0(r){return`${r.name}!${r.options.appId}`}const tb=1024,eb=30;class nb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new sb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>eb){const l=rb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){as.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X_(),{heartbeatsToSend:i,unsentEntries:a}=ib(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return as.warn(t),""}}}function X_(){return new Date().toISOString().substring(0,10)}function ib(r,t=tb){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),$_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),$_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class sb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GS()?FS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await WA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function $_(r){return qc(JSON.stringify({version:2,heartbeats:r})).length}function rb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function ab(r){Wa(new Kr("platform-logger",t=>new _A(t),"PRIVATE")),Wa(new Kr("heartbeat",t=>new nb(t),"PRIVATE")),nr(Zd,Q_,r),nr(Zd,Q_,"esm2020"),nr("fire-js","")}ab("");var ob="firebase",lb="12.8.0";nr(ob,lb,"app");function I0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ub=I0,D0=new Ll("auth","Firebase",I0());const Gc=new Tm("@firebase/auth");function cb(r,...t){Gc.logLevel<=Ot.WARN&&Gc.warn(`Auth (${oo}): ${r}`,...t)}function Oc(r,...t){Gc.logLevel<=Ot.ERROR&&Gc.error(`Auth (${oo}): ${r}`,...t)}function os(r,...t){throw bm(r,...t)}function Di(r,...t){return bm(r,...t)}function N0(r,t,i){const a={...ub(),[t]:i};return new Ll("auth","Firebase",a).create(t,{appName:r.name})}function rs(r){return N0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return D0.create(r,...t)}function pt(r,t,...i){if(!r)throw bm(t,...i)}function is(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Oc(t),new Error(t)}function ls(r,t){r||is(t)}function em(){return typeof self<"u"&&self.location?.href||""}function hb(){return J_()==="http:"||J_()==="https:"}function J_(){return typeof self<"u"&&self.location?.protocol||null}function fb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hb()||jS()||"connection"in navigator)?navigator.onLine:!0}function db(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ls(i>t,"Short delay should be less than long delay!"),this.isMobile=LS()||BS()}get(){return fb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wm(r,t){ls(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class O0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const gb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pb=new zl(3e4,6e4);function jl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function lo(r,t,i,a,l={}){return M0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Pl({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return zS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ao(r.emulatorConfig.host)&&(y.credentials="include"),O0.fetch()(await V0(r,r.config.apiHost,i,p),y)})}async function M0(r,t,i){r._canInitEmulator=!1;const a={...mb,...t};try{const l=new yb(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw bc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw bc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw bc(r,"user-disabled",d);const S=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw N0(r,S,y);os(r,S)}}catch(l){if(l instanceof fs)throw l;os(r,"network-request-failed",{message:String(l)})}}async function Rm(r,t,i,a,l={}){const c=await lo(r,t,i,a,l);return"mfaPendingCredential"in c&&os(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function V0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?wm(r.config,l):`${r.config.apiScheme}://${l}`;return gb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class yb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Di(this.auth,"network-request-failed")),pb.get())})}}function bc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Di(r,t,a);return l.customData._tokenResponse=i,l}async function _b(r,t){return lo(r,"POST","/v1/accounts:delete",t)}async function Fc(r,t){return lo(r,"POST","/v1/accounts:lookup",t)}function Al(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vb(r,t=!1){const i=an(r),a=await i.getIdToken(t),l=Cm(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Al(Pd(l.auth_time)),issuedAtTime:Al(Pd(l.iat)),expirationTime:Al(Pd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pd(r){return Number(r)*1e3}function Cm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const l=p0(i);return l?JSON.parse(l):(Oc("Failed to decode base64 JWT payload"),null)}catch(l){return Oc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Z_(r){const t=Cm(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Dl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof fs&&Eb(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Eb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Tb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(r){const t=r.auth,i=await r.getIdToken(),a=await Dl(r,Fc(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?x0(l.providerUserInfo):[],d=Ab(r.providerData,c),p=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,y=p?v:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,S)}async function Sb(r){const t=an(r);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Ab(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function x0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function bb(r,t){const i=await M0(r,{},async()=>{const a=Pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await V0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return r.emulatorConfig&&ao(r.emulatorConfig.host)&&(v.credentials="include"),O0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function wb(r,t){return lo(r,"POST","/v2/accounts:revokeToken",jl(r,t))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Z_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=Z_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await bb(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ka;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return is("not implemented")}}function Qs(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class si{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Tb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Dl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return vb(this,t)}reload(){return Sb(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(rs(this.auth));const t=await this.getIdToken();return await Dl(this,_b(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:D,isAnonymous:Q,providerData:Z,stsTokenManager:it}=i;pt(b&&it,t,"internal-error");const tt=Ka.fromJSON(this.name,it);pt(typeof b=="string",t,"internal-error"),Qs(a,t.name),Qs(l,t.name),pt(typeof D=="boolean",t,"internal-error"),pt(typeof Q=="boolean",t,"internal-error"),Qs(c,t.name),Qs(d,t.name),Qs(p,t.name),Qs(v,t.name),Qs(y,t.name),Qs(S,t.name);const ft=new si({uid:b,auth:t,email:l,emailVerified:D,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:y,lastLoginAt:S});return Z&&Array.isArray(Z)&&(ft.providerData=Z.map(yt=>({...yt}))),v&&(ft._redirectEventId=v),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ka;l.updateFromServerResponse(i);const c=new si({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?x0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ka;p.updateFromIdToken(a);const v=new si({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const W_=new Map;function ss(r){ls(r instanceof Function,"Expected a class definition");let t=W_.get(r);return t?(ls(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,W_.set(r,t),t)}class k0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}k0.type="NONE";const tv=k0;function Mc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ya{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Mc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Fc(this.auth,{idToken:t}).catch(()=>{});return i?si._fromGetAccountInfoResponse(this.auth,i,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ya(ss(tv),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ss(tv);const d=Mc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const S=await y._get(d);if(S){let b;if(typeof S=="string"){const D=await Fc(t,{idToken:S}).catch(()=>{});if(!D)break;b=await si._fromGetAccountInfoResponse(t,D,S)}else b=si._fromJSON(t,S);y!==c&&(p=b),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ya(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ya(c,t,a))}}function ev(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(z0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(U0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(B0(t))return"Blackberry";if(q0(t))return"Webos";if(L0(t))return"Safari";if((t.includes("chrome/")||P0(t))&&!t.includes("edge/"))return"Chrome";if(j0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function U0(r=rn()){return/firefox\//i.test(r)}function L0(r=rn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function P0(r=rn()){return/crios\//i.test(r)}function z0(r=rn()){return/iemobile/i.test(r)}function j0(r=rn()){return/android/i.test(r)}function B0(r=rn()){return/blackberry/i.test(r)}function q0(r=rn()){return/webos/i.test(r)}function Im(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Rb(r=rn()){return Im(r)&&!!window.navigator?.standalone}function Cb(){return qS()&&document.documentMode===10}function H0(r=rn()){return Im(r)||j0(r)||q0(r)||B0(r)||/windows phone/i.test(r)||z0(r)}function G0(r,t=[]){let i;switch(r){case"Browser":i=ev(rn());break;case"Worker":i=`${ev(rn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${oo}/${a}`}class Ib{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Db(r,t={}){return lo(r,"GET","/v2/passwordPolicy",jl(r,t))}const Nb=6;class Ob{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Nb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Mb{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nv(this),this.idTokenSubscription=new nv(this),this.beforeStateQueue=new Ib(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ss(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Fc(this,{idToken:t}),a=await si._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Hn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=db()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Hn(this.app))return Promise.reject(rs(this));const i=t?an(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Hn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Db(this),i=new Ob(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ll("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await wb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ss(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[ss(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=G0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&cb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Bl(r){return an(r)}class nv{constructor(t){this.auth=t,this.observer=null,this.addObserver=$S(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vb(r){Dm=r}function xb(r){return Dm.loadJS(r)}function kb(){return Dm.gapiScript}function Ub(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Lb(r,t){const i=Am(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Qr(c,t??{}))return l;os(l,"already-initialized")}return i.initialize({options:t})}function Pb(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ss);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function zb(r,t,i){const a=Bl(r);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=F0(t),{host:d,port:p}=jb(t),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Qr(y,a.config.emulator)&&Qr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,ao(d)?(E0(`${c}//${d}${v}`),T0("Auth",!0)):Bb()}function F0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function jb(r){const t=F0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:iv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:iv(d)}}}function iv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Bb(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Q0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return is("not implemented")}_getIdTokenResponse(t){return is("not implemented")}_linkToIdToken(t,i){return is("not implemented")}_getReauthenticationResolver(t){return is("not implemented")}}async function Xa(r,t){return Rm(r,"POST","/v1/accounts:signInWithIdp",jl(r,t))}const qb="http://localhost";class Yr extends Q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Yr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):os("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Yr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Xa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Xa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Xa(t,i)}buildRequest(){const t={requestUri:qb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Pl(i)}return t}}class K0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ql extends K0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Xs extends ql{constructor(){super("facebook.com")}static credential(t){return Yr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";class $s extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Yr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return $s.credential(i,a)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";class Js extends ql{constructor(){super("github.com")}static credential(t){return Yr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";class Zs extends ql{constructor(){super("twitter.com")}static credential(t,i){return Yr._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Zs.credential(i,a)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";async function Hb(r,t){return Rm(r,"POST","/v1/accounts:signUp",jl(r,t))}class us{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await si._fromIdTokenResponse(t,a,l),d=sv(a);return new us({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=sv(a);return new us({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function sv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function Gb(r){if(Hn(r.app))return Promise.reject(rs(r));const t=Bl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new us({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Hb(t,{returnSecureToken:!0}),a=await us._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Kc extends fs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Kc(t,i,a,l)}}function Y0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,c,t,a):c})}async function Fb(r,t,i=!1){const a=await Dl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return us._forOperation(r,"link",a)}async function Qb(r,t,i=!1){const{auth:a}=r;if(Hn(a.app))return Promise.reject(rs(a));const l="reauthenticate";try{const c=await Dl(r,Y0(a,l,t,r),i);pt(c.idToken,a,"internal-error");const d=Cm(c.idToken);pt(d,a,"internal-error");const{sub:p}=d;return pt(r.uid===p,a,"user-mismatch"),us._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&os(a,"user-mismatch"),c}}async function Kb(r,t,i=!1){if(Hn(r.app))return Promise.reject(rs(r));const a="signIn",l=await Y0(r,a,t),c=await us._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function Yb(r,t){return Rm(r,"POST","/v1/accounts:signInWithCustomToken",jl(r,t))}async function Xb(r,t){if(Hn(r.app))return Promise.reject(rs(r));const i=Bl(r),a=await Yb(i,{token:t,returnSecureToken:!0}),l=await us._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function $b(r,t,i,a){return an(r).onIdTokenChanged(t,i,a)}function Jb(r,t,i){return an(r).beforeAuthStateChanged(t,i)}function Zb(r,t,i,a){return an(r).onAuthStateChanged(t,i,a)}const Yc="__sak";class X0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Wb=1e3,tw=10;class $0 extends X0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Cb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,tw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Wb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}$0.type="LOCAL";const ew=$0;class J0 extends X0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}J0.type="SESSION";const Z0=J0;function nw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class uh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new uh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await nw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];function Nm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class iw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=Nm("",20);l.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const D=b;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(D.data.response);break;default:clearTimeout(S),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function sw(r){Ni().location.href=r}function W0(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function rw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aw(){return navigator?.serviceWorker?.controller||null}function ow(){return W0()?self:null}const tE="firebaseLocalStorageDb",lw=1,Xc="firebaseLocalStorage",eE="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ch(r,t){return r.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function uw(){const r=indexedDB.deleteDatabase(tE);return new Hl(r).toPromise()}function im(){const r=indexedDB.open(tE,lw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Xc,{keyPath:eE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Xc)?t(a):(a.close(),await uw(),t(await im()))})})}async function rv(r,t,i){const a=ch(r,!0).put({[eE]:t,value:i});return new Hl(a).toPromise()}async function cw(r,t){const i=ch(r,!1).get(t),a=await new Hl(i).toPromise();return a===void 0?null:a.value}function av(r,t){const i=ch(r,!0).delete(t);return new Hl(i).toPromise()}const hw=800,fw=3;class nE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>fw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(ow()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rw(),!this.activeServiceWorker)return;this.sender=new iw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||aw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await im();return await rv(t,Yc,"1"),await av(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>rv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>cw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>av(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ch(l,!1).getAll();return new Hl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nE.type="LOCAL";const dw=nE;new zl(3e4,6e4);function mw(r,t){return t?ss(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Om extends Q0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function gw(r){return Kb(r.auth,new Om(r),r.bypassAuthState)}function pw(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),Qb(i,new Om(r),r.bypassAuthState)}async function yw(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),Fb(i,new Om(r),r.bypassAuthState)}class iE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gw;case"linkViaPopup":case"linkViaRedirect":return yw;case"reauthViaPopup":case"reauthViaRedirect":return pw;default:os(this.auth,"internal-error")}}resolve(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _w=new zl(2e3,1e4);class Qa extends iE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const t=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_w.get())};t()}}Qa.currentPopupAction=null;const vw="pendingRedirect",Vc=new Map;class Ew extends iE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const a=await Tw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Tw(r,t){const i=bw(t),a=Aw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Sw(r,t){Vc.set(r._key(),t)}function Aw(r){return ss(r._redirectPersistence)}function bw(r){return Mc(vw,r.config.apiKey,r.name)}async function ww(r,t,i=!1){if(Hn(r.app))return Promise.reject(rs(r));const a=Bl(r),l=mw(a,t),d=await new Ew(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Rw=600*1e3;class Cw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Iw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!sE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Di(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Rw&&this.cachedEventUids.clear(),this.cachedEventUids.has(ov(t))}saveEventToCache(t){this.cachedEventUids.add(ov(t)),this.lastProcessedEventTime=Date.now()}}function ov(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function sE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Iw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sE(r);default:return!1}}async function Dw(r,t={}){return lo(r,"GET","/v1/projects",t)}const Nw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ow=/^https?/;async function Mw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Dw(r);for(const i of t)try{if(Vw(i))return}catch{}os(r,"unauthorized-domain")}function Vw(r){const t=em(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Ow.test(i))return!1;if(Nw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const xw=new zl(3e4,6e4);function lv(){const r=Ni().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function kw(r){return new Promise((t,i)=>{function a(){lv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lv(),i(Di(r,"network-request-failed"))},timeout:xw.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)a();else{const l=Ub("iframefcb");return Ni()[l]=()=>{gapi.load?a():i(Di(r,"network-request-failed"))},xb(`${kb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw xc=null,t})}let xc=null;function Uw(r){return xc=xc||kw(r),xc}const Lw=new zl(5e3,15e3),Pw="__/auth/iframe",zw="emulator/auth/iframe",jw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qw(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?wm(t,zw):`https://${r.config.authDomain}/${Pw}`,a={apiKey:t.apiKey,appName:r.name,v:oo},l=Bw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Pl(a).slice(1)}`}async function Hw(r){const t=await Uw(r),i=Ni().gapi;return pt(i,r,"internal-error"),t.open({where:document.body,url:qw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Di(r,"network-request-failed"),p=Ni().setTimeout(()=>{c(d)},Lw.get());function v(){Ni().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const Gw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fw=500,Qw=600,Kw="_blank",Yw="http://localhost";class uv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xw(r,t,i,a=Fw,l=Qw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...Gw,width:a.toString(),height:l.toString(),top:c,left:d},y=rn().toLowerCase();i&&(p=P0(y)?Kw:i),U0(y)&&(t=t||Yw,v.scrollbars="yes");const S=Object.entries(v).reduce((D,[Q,Z])=>`${D}${Q}=${Z},`,"");if(Rb(y)&&p!=="_self")return $w(t||"",p),new uv(null);const b=window.open(t||"",p,S);pt(b,r,"popup-blocked");try{b.focus()}catch{}return new uv(b)}function $w(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Jw="__/auth/handler",Zw="emulator/auth/handler",Ww=encodeURIComponent("fac");async function cv(r,t,i,a,l,c){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:oo,eventId:l};if(t instanceof K0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",XS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof ql){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const v=await r._getAppCheckToken(),y=v?`#${Ww}=${encodeURIComponent(v)}`:"";return`${tR(r)}?${Pl(p).slice(1)}${y}`}function tR({config:r}){return r.emulator?wm(r,Zw):`https://${r.authDomain}/${Jw}`}const zd="webStorageSupport";class eR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z0,this._completeRedirectFn=ww,this._overrideRedirectResult=Sw}async _openPopup(t,i,a,l){ls(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await cv(t,i,a,em(),l);return Xw(t,c,Nm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await cv(t,i,a,em(),l);return sw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ls(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Hw(t),a=new Cw(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},l=>{const c=l?.[0]?.[zd];c!==void 0&&i(!!c),os(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Mw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return H0()||L0()||Im()}}const nR=eR;var hv="@firebase/auth",fv="1.12.0";class iR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rR(r){Wa(new Kr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G0(r)},y=new Mb(a,l,c,v);return Pb(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Wa(new Kr("auth-internal",t=>{const i=Bl(t.getProvider("auth").getImmediate());return(a=>new iR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(hv,fv,sR(r)),nr(hv,fv,"esm2020")}const aR=300,oR=v0("authIdTokenMaxAge")||aR;let dv=null;const lR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>oR)return;const l=i?.token;dv!==l&&(dv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function uR(r=w0()){const t=Am(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Lb(r,{popupRedirectResolver:nR,persistence:[dw,ew,Z0]}),a=v0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=lR(c.toString());Jb(i,d,()=>d(i.currentUser)),$b(i,p=>d(p))}}const l=y0("auth");return l&&zb(i,`http://${l}`),i}function cR(){return document.getElementsByTagName("head")?.[0]??document}Vb({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Di("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",cR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rR("Browser");var mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ir,rE;(function(){var r;function t(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,O,k){for(var w=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)w[Xt-2]=arguments[Xt];return A.prototype[O].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,C){C||(C=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(O=0;O<16;++O)V[O]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],O=I.g[2];let k=I.g[3],w;w=A+(k^C&(O^k))+V[0]+3614090360&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(O^A&(C^O))+V[1]+3905402710&4294967295,k=A+(w<<12&4294967295|w>>>20),w=O+(C^k&(A^C))+V[2]+606105819&4294967295,O=k+(w<<17&4294967295|w>>>15),w=C+(A^O&(k^A))+V[3]+3250441966&4294967295,C=O+(w<<22&4294967295|w>>>10),w=A+(k^C&(O^k))+V[4]+4118548399&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(O^A&(C^O))+V[5]+1200080426&4294967295,k=A+(w<<12&4294967295|w>>>20),w=O+(C^k&(A^C))+V[6]+2821735955&4294967295,O=k+(w<<17&4294967295|w>>>15),w=C+(A^O&(k^A))+V[7]+4249261313&4294967295,C=O+(w<<22&4294967295|w>>>10),w=A+(k^C&(O^k))+V[8]+1770035416&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(O^A&(C^O))+V[9]+2336552879&4294967295,k=A+(w<<12&4294967295|w>>>20),w=O+(C^k&(A^C))+V[10]+4294925233&4294967295,O=k+(w<<17&4294967295|w>>>15),w=C+(A^O&(k^A))+V[11]+2304563134&4294967295,C=O+(w<<22&4294967295|w>>>10),w=A+(k^C&(O^k))+V[12]+1804603682&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(O^A&(C^O))+V[13]+4254626195&4294967295,k=A+(w<<12&4294967295|w>>>20),w=O+(C^k&(A^C))+V[14]+2792965006&4294967295,O=k+(w<<17&4294967295|w>>>15),w=C+(A^O&(k^A))+V[15]+1236535329&4294967295,C=O+(w<<22&4294967295|w>>>10),w=A+(O^k&(C^O))+V[1]+4129170786&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^O&(A^C))+V[6]+3225465664&4294967295,k=A+(w<<9&4294967295|w>>>23),w=O+(A^C&(k^A))+V[11]+643717713&4294967295,O=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(O^k))+V[0]+3921069994&4294967295,C=O+(w<<20&4294967295|w>>>12),w=A+(O^k&(C^O))+V[5]+3593408605&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^O&(A^C))+V[10]+38016083&4294967295,k=A+(w<<9&4294967295|w>>>23),w=O+(A^C&(k^A))+V[15]+3634488961&4294967295,O=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(O^k))+V[4]+3889429448&4294967295,C=O+(w<<20&4294967295|w>>>12),w=A+(O^k&(C^O))+V[9]+568446438&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^O&(A^C))+V[14]+3275163606&4294967295,k=A+(w<<9&4294967295|w>>>23),w=O+(A^C&(k^A))+V[3]+4107603335&4294967295,O=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(O^k))+V[8]+1163531501&4294967295,C=O+(w<<20&4294967295|w>>>12),w=A+(O^k&(C^O))+V[13]+2850285829&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^O&(A^C))+V[2]+4243563512&4294967295,k=A+(w<<9&4294967295|w>>>23),w=O+(A^C&(k^A))+V[7]+1735328473&4294967295,O=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(O^k))+V[12]+2368359562&4294967295,C=O+(w<<20&4294967295|w>>>12),w=A+(C^O^k)+V[5]+4294588738&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^O)+V[8]+2272392833&4294967295,k=A+(w<<11&4294967295|w>>>21),w=O+(k^A^C)+V[11]+1839030562&4294967295,O=k+(w<<16&4294967295|w>>>16),w=C+(O^k^A)+V[14]+4259657740&4294967295,C=O+(w<<23&4294967295|w>>>9),w=A+(C^O^k)+V[1]+2763975236&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^O)+V[4]+1272893353&4294967295,k=A+(w<<11&4294967295|w>>>21),w=O+(k^A^C)+V[7]+4139469664&4294967295,O=k+(w<<16&4294967295|w>>>16),w=C+(O^k^A)+V[10]+3200236656&4294967295,C=O+(w<<23&4294967295|w>>>9),w=A+(C^O^k)+V[13]+681279174&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^O)+V[0]+3936430074&4294967295,k=A+(w<<11&4294967295|w>>>21),w=O+(k^A^C)+V[3]+3572445317&4294967295,O=k+(w<<16&4294967295|w>>>16),w=C+(O^k^A)+V[6]+76029189&4294967295,C=O+(w<<23&4294967295|w>>>9),w=A+(C^O^k)+V[9]+3654602809&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^O)+V[12]+3873151461&4294967295,k=A+(w<<11&4294967295|w>>>21),w=O+(k^A^C)+V[15]+530742520&4294967295,O=k+(w<<16&4294967295|w>>>16),w=C+(O^k^A)+V[2]+3299628645&4294967295,C=O+(w<<23&4294967295|w>>>9),w=A+(O^(C|~k))+V[0]+4096336452&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~O))+V[7]+1126891415&4294967295,k=A+(w<<10&4294967295|w>>>22),w=O+(A^(k|~C))+V[14]+2878612391&4294967295,O=k+(w<<15&4294967295|w>>>17),w=C+(k^(O|~A))+V[5]+4237533241&4294967295,C=O+(w<<21&4294967295|w>>>11),w=A+(O^(C|~k))+V[12]+1700485571&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~O))+V[3]+2399980690&4294967295,k=A+(w<<10&4294967295|w>>>22),w=O+(A^(k|~C))+V[10]+4293915773&4294967295,O=k+(w<<15&4294967295|w>>>17),w=C+(k^(O|~A))+V[1]+2240044497&4294967295,C=O+(w<<21&4294967295|w>>>11),w=A+(O^(C|~k))+V[8]+1873313359&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~O))+V[15]+4264355552&4294967295,k=A+(w<<10&4294967295|w>>>22),w=O+(A^(k|~C))+V[6]+2734768916&4294967295,O=k+(w<<15&4294967295|w>>>17),w=C+(k^(O|~A))+V[13]+1309151649&4294967295,C=O+(w<<21&4294967295|w>>>11),w=A+(O^(C|~k))+V[4]+4149444226&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~O))+V[11]+3174756917&4294967295,k=A+(w<<10&4294967295|w>>>22),w=O+(A^(k|~C))+V[2]+718787259&4294967295,O=k+(w<<15&4294967295|w>>>17),w=C+(k^(O|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,V=this.C;let O=this.h,k=0;for(;k<A;){if(O==0)for(;k<=C;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<A;)if(V[O++]=I.charCodeAt(k++),O==this.blockSize){l(this,V),O=0;break}}else for(;k<A;)if(V[O++]=I[k++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[A++]=this.g[C]>>>V&255;return I};function c(I,A){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function d(I,A){this.h=A;const C=[];let V=!0;for(let O=I.length-1;O>=0;O--){const k=I[O]|0;V&&k==A||(C[O]=k,V=!1)}this.g=C}var p={};function v(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return tt(y(-I));const A=[];let C=1;for(let V=0;I>=C;V++)A[V]=I/C|0,C*=4294967296;return new d(A,0)}function S(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return tt(S(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let V=b;for(let k=0;k<I.length;k+=8){var O=Math.min(8,I.length-k);const w=parseInt(I.substring(k,k+O),A);O<8?(O=y(Math.pow(A,O)),V=V.j(O).add(y(w))):(V=V.j(C),V=V.add(y(w)))}return V}var b=v(0),D=v(1),Q=v(16777216);r=d.prototype,r.m=function(){if(it(this))return-tt(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*A,A*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(it(this))return"-"+tt(this).toString(I);const A=y(Math.pow(I,6));var C=this;let V="";for(;;){const O=te(C,A).g;C=ft(C,O.j(A));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=O,Z(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function it(I){return I.h==-1}r.l=function(I){return I=ft(this,I),it(I)?-1:Z(I)?0:1};function tt(I){const A=I.g.length,C=[];for(let V=0;V<A;V++)C[V]=~I.g[V];return new d(C,~I.h).add(D)}r.abs=function(){return it(this)?tt(this):this},r.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let O=0;O<=A;O++){let k=V+(this.i(O)&65535)+(I.i(O)&65535),w=(k>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);V=w>>>16,k&=65535,w&=65535,C[O]=w<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ft(I,A){return I.add(tt(A))}r.j=function(I){if(Z(this)||Z(I))return b;if(it(this))return it(I)?tt(this).j(tt(I)):tt(tt(this).j(I));if(it(I))return tt(this.j(tt(I)));if(this.l(Q)<0&&I.l(Q)<0)return y(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<I.g.length;O++){const k=this.i(V)>>>16,w=this.i(V)&65535,Xt=I.i(O)>>>16,me=I.i(O)&65535;C[2*V+2*O]+=w*me,yt(C,2*V+2*O),C[2*V+2*O+1]+=k*me,yt(C,2*V+2*O+1),C[2*V+2*O+1]+=w*Xt,yt(C,2*V+2*O+1),C[2*V+2*O+2]+=k*Xt,yt(C,2*V+2*O+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new d(C,0)};function yt(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function _t(I,A){this.g=I,this.h=A}function te(I,A){if(Z(A))throw Error("division by zero");if(Z(I))return new _t(b,b);if(it(I))return A=te(tt(I),A),new _t(tt(A.g),tt(A.h));if(it(A))return A=te(I,tt(A)),new _t(tt(A.g),A.h);if(I.g.length>30){if(it(I)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var C=D,V=A;V.l(I)<=0;)C=fe(C),V=fe(V);var O=kt(C,1),k=kt(V,1);for(V=kt(V,2),C=kt(C,2);!Z(V);){var w=k.add(V);w.l(I)<=0&&(O=O.add(C),k=w),V=kt(V,1),C=kt(C,1)}return A=ft(I,O.j(A)),new _t(O,A)}for(O=b;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(C),w=k.j(A);it(w)||w.l(I)>0;)C-=V,k=y(C),w=k.j(A);Z(k)&&(k=D),O=O.add(k),I=ft(I,w)}return new _t(O,I)}r.B=function(I){return te(this,I).h},r.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},r.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},r.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function fe(I){const A=I.g.length+1,C=[];for(let V=0;V<A;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function kt(I,A){const C=A>>5;A%=32;const V=I.g.length-C,O=[];for(let k=0;k<V;k++)O[k]=A>0?I.i(k+C)>>>A|I.i(k+C+1)<<32-A:I.i(k+C);return new d(O,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,rE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,ir=d}).apply(typeof mv<"u"?mv:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var aE,_l,oE,kc,sm,lE,uE,cE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in _))break t;_=_[U]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function S(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,U,j){for(var W=Array(arguments.length-2),At=2;At<arguments.length;At++)W[At-2]=arguments[At];return m.prototype[U].apply(T,W)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const j=U.length||0;u.length=_+j;for(let W=0;W<j;W++)u[_+W]=U[W]}else u.push(U)}}class it{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,_){const T=_t.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var _t=new it(()=>new te,u=>u.reset());class te{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,kt=!1,I=new yt,A=()=>{const u=Promise.resolve(void 0);fe=()=>{u.then(C)}};function C(){for(var u;u=ft();){try{u.h.call(u.g)}catch(_){tt(_)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Xt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(Xt,O),Xt.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Xt.Z.h.call(this)},Xt.prototype.h=function(){Xt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),q=0;function et(u,m,_,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=U,this.key=++q,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function qt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function M(u){const m={};for(const _ in u)m[_]=u[_];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)u[_]=T[_];for(let j=0;j<F.length;j++)_=F[j],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,_,T,U){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const W=Et(u,m,T,U);return W>-1?(m=u[W],_||(m.fa=!1)):(m=new et(m,this.src,j,!!T,U),m.fa=_,u.push(m)),m};function gt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],U=Array.prototype.indexOf.call(T,m,void 0),j;(j=U>=0)&&Array.prototype.splice.call(T,U,1),j&&(ct(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Et(u,m,_,T){for(let U=0;U<u.length;++U){const j=u[U];if(!j.da&&j.listener==m&&j.capture==!!_&&j.ha==T)return U}return-1}var It="closure_lm_"+(Math.random()*1e6|0),ue={};function ne(u,m,_,T,U){if(Array.isArray(m)){for(let j=0;j<m.length;j++)ne(u,m[j],_,T,U);return null}return _=Ue(_),u&&u[me]?u.J(m,_,p(T)?!!T.capture:!1,U):Li(u,m,_,!1,T,U)}function Li(u,m,_,T,U,j){if(!m)throw Error("Invalid event type");const W=p(U)?!!U.capture:!!U;let At=ke(u);if(At||(u[It]=At=new st(u)),_=At.add(m,_,T,W,j),_.proxy)return _;if(T=J(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)k||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Ae(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function J(){function u(_){return m.call(u.src,u.listener,_)}const m=on;return u}function Ht(u,m,_,T,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)Ht(u,m[j],_,T,U);else T=p(T)?!!T.capture:!!T,_=Ue(_),u&&u[me]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],_=Et(m,_,T,U),_>-1&&(ct(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=ke(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Et(m,_,T,U)),(_=u>-1?m[u]:null)&&Se(_))}function Se(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[me])gt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Ae(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=ke(m))?(gt(_,u),_.h==0&&(_.src=null,m[It]=null)):ct(u)}}}function Ae(u){return u in ue?ue[u]:ue[u]="on"+u}function on(u,m){if(u.da)u=!0;else{m=new Xt(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Se(u),u=_.call(T,m)}return u}function ke(u){return u=u[It],u instanceof st?u:null}var We="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ue(u){return typeof u=="function"?u:(u[We]||(u[We]=function(m){return u.handleEvent(m)}),u[We])}function ie(){V.call(this),this.i=new st(this),this.M=this,this.G=null}b(ie,V),ie.prototype[me]=!0,ie.prototype.removeEventListener=function(u,m,_,T){Ht(this,u,m,_,T)};function se(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(T,u),nt(m,U)}U=!0;let j,W;if(_)for(W=_.length-1;W>=0;W--)j=m.g=_[W],U=ds(j,T,!0,m)&&U;if(j=m.g=u,U=ds(j,T,!0,m)&&U,U=ds(j,T,!1,m)&&U,_)for(W=0;W<_.length;W++)j=m.g=_[W],U=ds(j,T,!1,m)&&U}ie.prototype.N=function(){if(ie.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ct(_[T]);delete u.g[m],u.h--}}this.G=null},ie.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ie.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function ds(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let j=0;j<m.length;++j){const W=m[j];if(W&&!W.da&&W.capture==_){const At=W.listener,_e=W.ha||W.src;W.fa&&gt(u.i,W),U=At.call(_e,T)!==!1&&U}}return U&&!T.defaultPrevented}function Ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xl(u){u.g=Ih(()=>{u.g=null,u.i&&(u.i=!1,Xl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ln extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(u){V.call(this),this.h=u,this.g={}}b(dr,V);var mo=[];function go(u){Ut(u.g,function(m,_){this.g.hasOwnProperty(_)&&Se(m)},u),u.g={}}dr.prototype.N=function(){dr.Z.N.call(this),go(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ms=d.JSON.stringify,Dh=d.JSON.parse,$l=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jl(){}function Zl(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){O.call(this,"d")}b(Ge,O);function Nn(){O.call(this,"c")}b(Nn,O);var ye={},Wl=null;function ta(){return Wl=Wl||new ie}ye.Ia="serverreachability";function tu(u){O.call(this,ye.Ia,u)}b(tu,O);function oi(u){const m=ta();se(m,new tu(m))}ye.STAT_EVENT="statevent";function mr(u,m){O.call(this,ye.STAT_EVENT,u),this.stat=m}b(mr,O);function be(u){const m=ta();se(m,new mr(m,u))}ye.Ja="timingevent";function li(u,m){O.call(this,ye.Ja,u),this.size=m}b(li,O);function ui(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Nh(u,m,_,T,U,j){u.info(function(){if(u.g)if(j){var W="",At=j.split("&");for(let jt=0;jt<At.length;jt++){var _e=At[jt].split("=");if(_e.length>1){const ce=_e[0];_e=_e[1];const xn=ce.split("_");W=xn.length>=2&&xn[1]=="type"?W+(ce+"="+_e+"&"):W+(ce+"=redacted&")}}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+_+`
`+W})}function eu(u,m,_,T,U,j,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+_+`
`+j+" "+W})}function ci(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,_)+(T?" "+T:"")})}function gr(u,m){u.info(function(){return"TIMEOUT: "+m})}Kn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var _=j[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return ms(j)}catch{return m}}var pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yo;function yr(){}b(yr,Jl),yr.prototype.g=function(){return new XMLHttpRequest},yo=new yr;function Pi(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Yn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var we={},je={};function hi(u,m,_){u.M=1,u.A=_r(Ce(m)),u.u=_,u.R=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),fi(u),u.B=Ce(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ra(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Xn,u.g=yu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new ln(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(mo[0]=U.toString()),U=mo);for(let j=0;j<U.length;j++){const W=ne(_,U[j],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),oi(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}Yn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Zn(u)==3?m.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Zn(this.g),_e=this.g.ya(),jt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Fe(this.g)))){this.K||At!=4||_e==7||(_e==8||jt<=0?oi(3):oi(2)),di(this);var m=this.g.ca();this.X=m;var _=Mh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var j=T;break e}}j=null}if(u=j)ci(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,u);else{this.o=!1,this.m=3,be(12),En(this),On(this);break t}}if(this.R){u=!0;let ce;for(;!this.K&&this.C<_.length;)if(ce=su(this,_),ce==je){At==4&&(this.m=4,be(14),u=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==we){this.m=4,be(15),ci(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ci(this.i,this.l,ce,null),mi(this,ce);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||_.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)ci(this.i,this.l,_,"[Invalid Chunked Response]"),En(this),On(this);else if(_.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Mo(W),W.P=!0,be(11))}}else ci(this.i,this.l,_,null),mi(this,_);At==4&&En(this),this.o&&!this.K&&(At==4?du(this.j,this):(this.o=!1,fi(this)))}else ji(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),En(this),On(this)}}}catch{}};function Mh(u){if(!iu(u))return u.g.la();const m=Fe(u.g);if(m==="")return"";let _="";const T=m.length,U=Zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),On(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,_+=u.h.i.decode(m[j],{stream:!(U&&j==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?je:(_=Number(m.substring(_,T)),isNaN(_)?we:(T+=1,T+_>m.length?je:(m=m.slice(T,T+_),u.C=T+_,m)))}Yn.prototype.cancel=function(){this.K=!0,En(this)};function fi(u){u.T=Date.now()+u.H,na(u,u.H)}function na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ui(y(u.aa,u),m)}function di(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(gr(this.i,this.B),this.M!=2&&(oi(),be(17)),En(this),this.m=2,On(this)):na(this,this.T-u)};function On(u){u.j.I==0||u.K||du(u.j,u)}function En(u){di(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,go(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function mi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||pi(_.h,u))){if(!u.L&&pi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ca(_),Ss(_);else break t;wr(_),be(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ui(y(_.Va,_),6e3));gi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Si(_,11)}else if((u.L||_.g==u)&&ca(_),!w(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let jt=U[m];const ce=jt[0];if(!(ce<=_.K))if(_.K=ce,jt=jt[1],_.I==2)if(jt[0]=="c"){_.M=jt[1],_.ba=jt[2];const xn=jt[3];xn!=null&&(_.ka=xn,_.j.info("VER="+_.ka));const Ai=jt[4];Ai!=null&&(_.za=Ai,_.j.info("SVER="+_.za));const Wn=jt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(T=1.5*Wn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const ti=u.g;if(ti){const Rr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var j=T.h;j.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Eo(j,j.h),j.h=null))}if(T.G){const ha=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(T.wa=ha,Ft(T.J,T.G,ha))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var W=u;if(T.na=pu(T,T.L?T.ba:null,T.W),W.L){To(T.h,W);var At=W,_e=T.O;_e&&(At.H=_e),At.D&&(di(At),fi(At)),T.g=W}else hu(T);_.i.length>0&&Ti(_)}else jt[0]!="stop"&&jt[0]!="close"||Si(_,7);else _.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Si(_,7):No(_):jt[0]!="noop"&&_.l&&_.l.qa(jt),_.A=0)}}oi(4)}catch{}}var Re=class{constructor(u,m){this.g=u,this.map=m}};function _o(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function pi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Eo(u,m){u.g?u.g.add(m):u.h=m}function To(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_o.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function So(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return Q(u.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let U,j=null;T>=0?(U=u[_].substring(0,T),j=u[_].substring(T+1)):U=u[_],m(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Tn?(this.l=u.l,Be(this,u.j),this.o=u.o,this.g=u.g,gs(this,u.u),this.h=u.h,Ao(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(ru))?(this.l=!1,Be(this,m[1]||"",!0),this.o=yi(m[2]||""),this.g=yi(m[3]||"",!0),gs(this,m[4]),this.h=yi(m[5]||"",!0),Ao(this,m[6]||"",!0),this.m=yi(m[7]||"")):(this.l=!1,this.i=new ys(null,this.l))}Tn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(vr(m,sa,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(vr(m,sa,!0),"@"),u.push(Pi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(vr(_,_.charAt(0)=="/"?bo:au,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",vr(_,ou)),u.join("")},Tn.prototype.resolve=function(u){const m=Ce(this);let _=!!u.j;_?Be(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)gs(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const j=[];for(let W=0;W<U.length;){const At=U[W++];At=="."?T&&W==U.length&&j.push(""):At==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&W==U.length&&j.push("")):(j.push(At),T=!0)}T=j.join("/")}else T=U}return _?m.h=T:_=u.i.toString()!=="",_?Ao(m,uu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ce(u){return new Tn(u)}function Be(u,m,_){u.j=_?yi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function gs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ao(u,m,_){m instanceof ys?(u.i=m,aa(u.i,u.l)):(_||(m=vr(m,ps)),u.i=new ys(m,u.l))}function Ft(u,m,_){u.i.set(m,_)}function _r(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function yi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sa=/[#\/\?@]/g,au=/[#\?:]/g,bo=/[#\?]/g,ps=/[#\?@]/g,ou=/#/g;function ys(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=ys.prototype,r.add=function(u,m){fn(this),this.i=null,u=_s(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function lu(u,m){fn(u),m=_s(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wo(u,m){return fn(u),m=_s(u,m),u.g.has(m)}r.forEach=function(u,m){fn(this),this.g.forEach(function(_,T){_.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Ro(u,m){fn(u);let _=[];if(typeof m=="string")wo(u,m)&&(_=_.concat(u.g.get(_s(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return fn(this),this.i=null,u=_s(this,u),wo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ro(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,_){lu(u,m),_.length>0&&(u.i=null,u.g.set(_s(u,m),Q(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const U=Pi(_);_=Ro(this,_);for(let j=0;j<_.length;j++){let W=U;_[j]!==""&&(W+="="+Pi(_[j])),u.push(W)}}return this.i=u.join("&")};function uu(u){const m=new ys;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function _s(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aa(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(_,T){const U=T.toLowerCase();T!=U&&(lu(this,T),ra(this,U,_))},u)),u.j=m}function $n(u,m){const _=new Kn;if(d.Image){const T=new Image;T.onload=S(Mn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Mn,_,"TestLoadImage: error",!1,m,T),T.onabort=S(Mn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Mn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Co(u,m){const _=new Kn,T=new AbortController,U=setTimeout(()=>{T.abort(),Mn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(U),j.ok?Mn(_,"TestPingServer: ok",!0,m):Mn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Mn(_,"TestPingServer: error",!1,m)})}function Mn(u,m,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function vs(){this.g=new $l}function _i(u){this.i=u.Sb||null,this.h=u.ab||!1}b(_i,Jl),_i.prototype.g=function(){return new Er(this.i,this.h)};function Er(u,m){ie.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Er,ie),r=Er.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Es(this):Jn(this),this.readyState==3&&oa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Es(this))},r.Na=function(u){this.g&&(this.response=u,Es(this))},r.ga=function(){this.g&&Es(this)};function Es(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Jn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vn(u){let m="";return Ut(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Tr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Vn(_),typeof u=="string"?_!=null&&Pi(_):Ft(u,m,_))}function $t(u){ie.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b($t,ie);var vi=/^https?$/i,Io=["POST","PUT"];r=$t.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yo.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Sr(this,j);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())_.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of _)this.g.setRequestHeader(j,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){Sr(this,j)}};function Sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Do(u),zi(u)}function Do(u){u.A||(u.A=!0,se(u,"complete"),se(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,se(this,"complete"),se(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},r.Xa=function(){Ar(this)};function Ar(u){if(u.h&&typeof c<"u"){if(u.v&&Zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(se(u,"readystatechange"),Zn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=j===0){let W=String(u.D).match(ru)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!vi.test(W?W.toLowerCase():"")}_=T}if(_)se(u,"complete"),se(u,"success");else{u.o=6;try{var U=Zn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Do(u)}}finally{zi(u)}}}}function zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||se(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Zn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dh(m)}};function Fe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(u){const m={};u=(u.g&&Zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=nu(u[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=m[U]||[];m[U]=j,j.push(_)}qt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ts(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,u),this.Za=Ei("retryDelaySeedMs",1e4,u),this.Ta=Ei("forwardChannelMaxRetries",2,u),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(u&&u.concurrentRequestLimit),this.Ba=new vs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ts.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){be(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=pu(this,null,this.W),Ti(this)};function No(u){if(la(u),u.I==3){var m=u.V++,_=Ce(u.J);if(Ft(_,"SID",u.M),Ft(_,"RID",m),Ft(_,"TYPE","terminate"),br(u,_),m=new Yn(u,u.j,m),m.M=2,m.A=_r(Ce(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}gu(u)}function Ss(u){u.g&&(Mo(u),u.g.cancel(),u.g=null)}function la(u){Ss(u),u.v&&(d.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ti(u){if(!vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;fe||A(),kt||(fe(),kt=!0),I.add(m,u),u.D=0}}function ua(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ui(y(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Yn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=M(j),nt(j,this.U)):j=this.U),this.u!==null||this.R||(U.J=j,j=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=cu(this,U,m),_=Ce(this.J),Ft(_,"RID",u),Ft(_,"CVER",22),this.G&&Ft(_,"X-HTTP-Session-Id",this.G),br(this,_),j&&(this.R?m="headers="+Pi(Vn(j))+"&"+m:this.u&&Tr(_,this.u,j)),Eo(this.h,U),this.Ra&&Ft(_,"TYPE","init"),this.S?(Ft(_,"$req",m),Ft(_,"SID","null"),U.U=!0,hi(U,_,null)):hi(U,_,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||vo(this.h)||Oo(this))};function Oo(u,m){var _;m?_=m.l:_=u.V++;const T=Ce(u.J);Ft(T,"SID",u.M),Ft(T,"RID",_),Ft(T,"AID",u.K),br(u,T),u.u&&u.o&&Tr(T,u.u,u.o),_=new Yn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Eo(u.h,_),hi(_,T,m)}function br(u,m){u.H&&Ut(u.H,function(_,T){Ft(m,T,_)}),u.l&&Ut({},function(_,T){Ft(m,T,_)})}function cu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let At=-1;for(;;){const _e=["count="+_];At==-1?_>0?(At=U[0].g,_e.push("ofs="+At)):At=0:_e.push("ofs="+At);let jt=!0;for(let ce=0;ce<_;ce++){var j=U[ce].g;const xn=U[ce].map;if(j-=At,j<0)At=Math.max(0,U[ce].g-100),jt=!1;else try{j="req"+j+"_"||"";try{var W=xn instanceof Map?xn:Object.entries(xn);for(const[Ai,Wn]of W){let ti=Wn;p(Wn)&&(ti=ms(Wn)),_e.push(j+Ai+"="+encodeURIComponent(ti))}}catch(Ai){throw _e.push(j+"type="+encodeURIComponent("_badmap")),Ai}}catch{T&&T(xn)}}if(jt){W=_e.join("&");break t}}W=void 0}return u=u.i.splice(0,_),m.G=u,W}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;fe||A(),kt||(fe(),kt=!0),I.add(m,u),u.A=0}}function wr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ui(y(u.Da,u),mu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ui(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Ss(this),fu(this))};function Mo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),br(u,m),u.u&&u.o&&Tr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=_r(Ce(m)),_.u=null,_.R=!0,ea(_,u)}r.Va=function(){this.C!=null&&(this.C=null,Ss(this),wr(this),be(19))};function ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var _=null;if(u.g==m){ca(u),Mo(u),u.g=null;var T=2}else if(pi(u.h,m))_=m.G,To(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=ta(),se(T,new li(T,_)),Ti(u)}else hu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ua(u,m)||T==2&&wr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function mu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const U=!T;T=new Tn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Be(T,"https"),_r(T),U?$n(T.toString(),_):Co(T.toString(),_)}else be(2);u.I=0,u.l&&u.l.pa(m),gu(u),la(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=So(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,_){var T=_ instanceof Tn?Ce(_):new Tn(_);if(T.g!="")m&&(T.g=m+"."+T.g),gs(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const j=new Tn(null);T&&Be(j,T),m&&(j.g=m),U&&gs(j,U),_&&(j.h=_),T=j}return _=u.G,m=u.wa,_&&m&&Ft(T,_,m),Ft(T,"VER",u.ka),br(u,T),T}function yu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new _i({ab:_})):new $t(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function As(){}As.prototype.g=function(u,m){return new un(u,m)};function un(u,m){ie.call(this),this.g=new Ts(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Bi(this)}b(un,ie),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){No(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ms(u),u=_);m.i.push(new Re(m.Ya++,u)),m.I==3&&Ti(m)},un.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,un.Z.N.call(this)};function vu(u){Ge.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(vu,Ge);function Eu(){Nn.call(this),this.status=1}b(Eu,Nn);function Bi(u){this.g=u}b(Bi,_u),Bi.prototype.ra=function(){se(this.g,"a")},Bi.prototype.qa=function(u){se(this.g,new vu(u))},Bi.prototype.pa=function(u){se(this.g,new Eu)},Bi.prototype.oa=function(){se(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,cE=function(){return new As},uE=function(){return ta()},lE=ye,sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,kc=pr,po.COMPLETE="complete",oE=po,Zl.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",ie.prototype.listen=ie.prototype.J,_l=Zl,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,aE=$t}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let uo="12.8.0";function hR(r){uo=r}const Xr=new Tm("@firebase/firestore");function qa(){return Xr.logLevel}function rt(r,...t){if(Xr.logLevel<=Ot.DEBUG){const i=t.map(Mm);Xr.debug(`Firestore (${uo}): ${r}`,...i)}}function cs(r,...t){if(Xr.logLevel<=Ot.ERROR){const i=t.map(Mm);Xr.error(`Firestore (${uo}): ${r}`,...i)}}function to(r,...t){if(Xr.logLevel<=Ot.WARN){const i=t.map(Mm);Xr.warn(`Firestore (${uo}): ${r}`,...i)}}function Mm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function mt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,hE(r,a,i)}function hE(r,t,i){let a=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw cs(a),new Error(a)}function Gt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||hE(t,l,a)}function St(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends fs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class fE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class fR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(nn.UNAUTHENTICATED)))}shutdown(){}}class dR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class mR{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Gr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Gr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string",31837,{l:a}),new fE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class gR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class pR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new gR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function _R(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=_R(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function rm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return jd(l)===jd(c)?Mt(l,c):jd(l)?1:-1}return Mt(r.length,t.length)}const vR=55296,ER=57343;function jd(r){const t=r.charCodeAt(0);return t>=vR&&t<=ER}function eo(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const pv="__name__";class Ii{constructor(t,i,a){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&mt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ii.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ii?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ii.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=Ii.isNumericId(t),l=Ii.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ii.extractNumericId(t).compare(Ii.extractNumericId(i)):rm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ir.fromString(t.substring(4,t.length-2))}}class oe extends Ii{construct(t,i,a){return new oe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new oe(i)}static emptyPath(){return new oe([])}}const TR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Ii{construct(t,i,a){return new Je(t,i,a)}static isValidIdentifier(t){return TR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pv}static keyField(){return new Je([pv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new lt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(oe.fromString(t))}static fromName(t){return new ht(oe.fromString(t).popFirst(5))}static empty(){return new ht(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new oe(t.slice()))}}function dE(r,t,i){if(!i)throw new lt($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function SR(r,t,i,a){if(t===!0&&a===!0)throw new lt($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function yv(r){if(!ht.isDocumentKey(r))throw new lt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function _v(r){if(ht.isDocumentKey(r))throw new lt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function mE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function xm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function Oi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xm(r);throw new lt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ve(r,t){const i={typeString:r};return t&&(i.value=t),i}function Gl(r,t){if(!mE(r))throw new lt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt($.INVALID_ARGUMENT,i);return!0}const vv=-62135596800,Ev=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Ev);return new le(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<vv)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ev}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gl(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-vv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Ve("string",le._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new le(0,0))}static max(){return new vt(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nl=-1;function AR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new le(i+1,0):new le(i,a));return new rr(l,ht.empty(),t)}function bR(r){return new rr(r.readTime,r.key,Nl)}class rr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new rr(vt.min(),ht.empty(),Nl)}static max(){return new rr(vt.max(),ht.empty(),Nl)}}function wR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const RR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function co(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==RR)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((S=>{d[y]=S,++p,p===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function IR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ho(r){return r.name==="IndexedDbTransactionError"}class hh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hh.ce=-1;const km=-1;function fh(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function DR(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const gE="";function NR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Tv(t)),t=OR(r.get(i),t);return Tv(t)}function OR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case gE:i+="";break;default:i+=c}}return i}function Tv(r){return r+gE+""}function Sv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function hr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function pE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class de{constructor(t,i){this.comparator=t,this.root=i||$e.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??$e.RED,this.left=l??$e.EMPTY,this.right=c??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new $e(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return $e.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new $e(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Av(this.data.getIterator())}getIteratorFrom(t){return new Av(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class Av{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new Dn([])}unionWith(t){let i=new ze(Je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Dn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class yE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new yE("Invalid base64 string: "+c):c}})(t);return new Ze(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ze(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const MR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(r){if(Gt(!!r,39018),typeof r=="string"){let t=0;const i=MR.exec(r);if(Gt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Te(r.seconds),nanos:Te(r.nanos)}}function Te(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function or(r){return typeof r=="string"?Ze.fromBase64String(r):Ze.fromUint8Array(r)}const _E="server_timestamp",vE="__type__",EE="__previous_value__",TE="__local_write_time__";function Um(r){return(r?.mapValue?.fields||{})[vE]?.stringValue===_E}function dh(r){const t=r.mapValue.fields[EE];return Um(t)?dh(t):t}function Ol(r){const t=ar(r.mapValue.fields[TE].timestampValue);return new le(t.seconds,t.nanos)}class VR{constructor(t,i,a,l,c,d,p,v,y,S,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=S,this.apiKey=b}}const Jc="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}function xR(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new lt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(r.options.projectId,t)}const SE="__type__",kR="__max__",Cc={mapValue:{}},AE="__vector__",Zc="value";function lr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Um(r)?4:LR(r)?9007199254740991:UR(r)?10:11:mt(28295,{value:r})}function ki(r,t){if(r===t)return!0;const i=lr(r);if(i!==lr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ol(r).isEqual(Ol(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ar(l.timestampValue),p=ar(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return or(l.bytesValue).isEqual(or(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Te(l.geoPointValue.latitude)===Te(c.geoPointValue.latitude)&&Te(l.geoPointValue.longitude)===Te(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Te(l.integerValue)===Te(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Te(l.doubleValue),p=Te(c.doubleValue);return d===p?$c(d)===$c(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return eo(r.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Sv(d)!==Sv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!ki(d[v],p[v])))return!1;return!0})(r,t);default:return mt(52216,{left:r})}}function Vl(r,t){return(r.values||[]).find((i=>ki(i,t)))!==void 0}function no(r,t){if(r===t)return 0;const i=lr(r),a=lr(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Te(c.integerValue||c.doubleValue),v=Te(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,t);case 3:return bv(r.timestampValue,t.timestampValue);case 4:return bv(Ol(r),Ol(t));case 5:return rm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=or(c),v=or(d);return p.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const S=Mt(p[y],v[y]);if(S!==0)return S}return Mt(p.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Mt(Te(c.latitude),Te(d.latitude));return p!==0?p:Mt(Te(c.longitude),Te(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return wv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[Zc]?.arrayValue,S=v[Zc]?.arrayValue,b=Mt(y?.values?.length||0,S?.values?.length||0);return b!==0?b:wv(y,S)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},S=Object.keys(y);v.sort(),S.sort();for(let b=0;b<v.length&&b<S.length;++b){const D=rm(v[b],S[b]);if(D!==0)return D;const Q=no(p[v[b]],y[S[b]]);if(Q!==0)return Q}return Mt(v.length,S.length)})(r.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function bv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=ar(r),a=ar(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function wv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=no(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function io(r){return am(r)}function am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ar(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return or(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ht.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=am(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${am(i.fields[d])}`;return l+"}"})(r.mapValue):mt(61005,{value:r})}function Uc(r){switch(lr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dh(r);return t?16+Uc(t):16;case 5:return 2*r.stringValue.length;case 6:return or(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return hr(a.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(r.mapValue);default:throw mt(13486,{value:r})}}function om(r){return!!r&&"integerValue"in r}function Lm(r){return!!r&&"arrayValue"in r}function Rv(r){return!!r&&"nullValue"in r}function Cv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function UR(r){return(r?.mapValue?.fields||{})[SE]?.stringValue===AE}function bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return hr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=bl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bl(r.arrayValue.values[i]);return t}return{...r}}function LR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===kR}class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(i)}setAll(t){let i=Je.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=bl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){hr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new vn(bl(this.value))}}function bE(r){const t=[];return hr(r.fields,((i,a)=>{const l=new Je([i]);if(Lc(a)){const c=bE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Dn(t)}class sn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new sn(t,0,vt.min(),vt.min(),vt.min(),vn.empty(),0)}static newFoundDocument(t,i,a,l){return new sn(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new sn(t,2,i,vt.min(),vt.min(),vn.empty(),0)}static newUnknownDocument(t,i){return new sn(t,3,i,vt.min(),vt.min(),vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function Iv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=no(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Dv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ki(r.position[i],t.position[i]))return!1;return!0}class th{constructor(t,i="asc"){this.field=t,this.dir=i}}function PR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class wE{}class Pe extends wE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new jR(t,i,a):i==="array-contains"?new HR(t,a):i==="in"?new GR(t,a):i==="not-in"?new FR(t,a):i==="array-contains-any"?new QR(t,a):new Pe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new BR(t,a):new qR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(no(i,this.value)):i!==null&&lr(this.value)===lr(i)&&this.matchesComparison(no(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends wE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ui(t,i)}matches(t){return RE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RE(r){return r.op==="and"}function CE(r){return zR(r)&&RE(r)}function zR(r){for(const t of r.filters)if(t instanceof Ui)return!1;return!0}function lm(r){if(r instanceof Pe)return r.field.canonicalString()+r.op.toString()+io(r.value);if(CE(r))return r.filters.map((t=>lm(t))).join(",");{const t=r.filters.map((i=>lm(i))).join(",");return`${r.op}(${t})`}}function IE(r,t){return r instanceof Pe?(function(a,l){return l instanceof Pe&&a.op===l.op&&a.field.isEqual(l.field)&&ki(a.value,l.value)})(r,t):r instanceof Ui?(function(a,l){return l instanceof Ui&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&IE(d,l.filters[p])),!0):!1})(r,t):void mt(19439)}function DE(r){return r instanceof Pe?(function(i){return`${i.field.canonicalString()} ${i.op} ${io(i.value)}`})(r):r instanceof Ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(DE).join(" ,")+"}"})(r):"Filter"}class jR extends Pe{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class BR extends Pe{constructor(t,i){super(t,"in",i),this.keys=NE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class qR extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=NE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function NE(r,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class HR extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Lm(i)&&Vl(i.arrayValue,this.value)}}class GR extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class FR extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class QR extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Lm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vl(this.value.arrayValue,a)))}}class KR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Nv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new KR(r,t,i,a,l,c,d)}function Pm(r){const t=St(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>lm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),fh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>io(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>io(a))).join(",")),t.Te=i}return t.Te}function zm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!PR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!IE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Dv(r.startAt,t.startAt)&&Dv(r.endAt,t.endAt)}function um(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class mh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function YR(r,t,i,a,l,c,d,p){return new mh(r,t,i,a,l,c,d,p)}function jm(r){return new mh(r)}function Ov(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function XR(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function $R(r){return r.collectionGroup!==null}function wl(r){const t=St(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ze(Je.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new th(c,a))})),i.has(Je.keyField().canonicalString())||t.Ie.push(new th(Je.keyField(),a))}return t.Ie}function Mi(r){const t=St(r);return t.Ee||(t.Ee=JR(t,wl(r))),t.Ee}function JR(r,t){if(r.limitType==="F")return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new th(l.field,c)}));const i=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function cm(r,t,i){return new mh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function gh(r,t){return zm(Mi(r),Mi(t))&&r.limitType===t.limitType}function OE(r){return`${Pm(Mi(r))}|lt:${r.limitType}`}function Ha(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>DE(l))).join(", ")}]`),fh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>io(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>io(l))).join(",")),`Target(${a})`})(Mi(r))}; limitType=${r.limitType})`}function ph(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of wl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const y=Iv(d,p,v);return d.inclusive?y<=0:y<0})(a.startAt,wl(a),l)||a.endAt&&!(function(d,p,v){const y=Iv(d,p,v);return d.inclusive?y>=0:y>0})(a.endAt,wl(a),l))})(r,t)}function ZR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ME(r){return(t,i)=>{let a=!1;for(const l of wl(r)){const c=WR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function WR(r,t,i){const a=r.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?no(v,y):mt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return mt(19790,{direction:r.dir})}}class Zr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){hr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return pE(this.inner)}size(){return this.innerSize}}const t2=new de(ht.comparator);function hs(){return t2}const VE=new de(ht.comparator);function vl(...r){let t=VE;for(const i of r)t=t.insert(i.key,i);return t}function xE(r){let t=VE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Hr(){return Rl()}function kE(){return Rl()}function Rl(){return new Zr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const e2=new de(ht.comparator),n2=new ze(ht.comparator);function Vt(...r){let t=n2;for(const i of r)t=t.add(i);return t}const i2=new ze(Mt);function s2(){return i2}function Bm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function UE(r){return{integerValue:""+r}}function r2(r,t){return DR(t)?UE(t):Bm(r,t)}class yh{constructor(){this._=void 0}}function a2(r,t,i){return r instanceof eh?(function(l,c){const d={fields:{[vE]:{stringValue:_E},[TE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Um(c)&&(c=dh(c)),c&&(d.fields[EE]=c),{mapValue:d}})(i,t):r instanceof xl?PE(r,t):r instanceof kl?zE(r,t):(function(l,c){const d=LE(l,c),p=Mv(d)+Mv(l.Ae);return om(d)&&om(l.Ae)?UE(p):Bm(l.serializer,p)})(r,t)}function o2(r,t,i){return r instanceof xl?PE(r,t):r instanceof kl?zE(r,t):i}function LE(r,t){return r instanceof nh?(function(a){return om(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class eh extends yh{}class xl extends yh{constructor(t){super(),this.elements=t}}function PE(r,t){const i=jE(t);for(const a of r.elements)i.some((l=>ki(l,a)))||i.push(a);return{arrayValue:{values:i}}}class kl extends yh{constructor(t){super(),this.elements=t}}function zE(r,t){let i=jE(t);for(const a of r.elements)i=i.filter((l=>!ki(l,a)));return{arrayValue:{values:i}}}class nh extends yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Mv(r){return Te(r.integerValue||r.doubleValue)}function jE(r){return Lm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function l2(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof xl&&l instanceof xl||a instanceof kl&&l instanceof kl?eo(a.elements,l.elements,ki):a instanceof nh&&l instanceof nh?ki(a.Ae,l.Ae):a instanceof eh&&l instanceof eh})(r.transform,t.transform)}class u2{constructor(t,i){this.version=t,this.transformResults=i}}class Fn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Fn}static exists(t){return new Fn(void 0,t)}static updateTime(t){return new Fn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class _h{}function BE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new qm(r.key,Fn.none()):new Fl(r.key,r.data,Fn.none());{const i=r.data,a=vn.empty();let l=new ze(Je.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new fr(r.key,a,new Dn(l.toArray()),Fn.none())}}function c2(r,t,i){r instanceof Fl?(function(l,c,d){const p=l.value.clone(),v=xv(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof fr?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=xv(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(qE(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Cl(r,t,i,a){return r instanceof Fl?(function(c,d,p,v){if(!Pc(c.precondition,d))return p;const y=c.value.clone(),S=kv(c.fieldTransforms,v,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof fr?(function(c,d,p,v){if(!Pc(c.precondition,d))return p;const y=kv(c.fieldTransforms,v,d),S=d.data;return S.setAll(qE(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,p){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function h2(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=LE(a.transform,l||null);c!=null&&(i===null&&(i=vn.empty()),i.set(a.field,c))}return i||null}function Vv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&eo(a,l,((c,d)=>l2(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Fl extends _h{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class fr extends _h{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function qE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function xv(r,t,i){const a=new Map;Gt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,o2(d,p,i[l]))}return a}function kv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,a2(c,d,t))}return a}class qm extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f2 extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class d2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&c2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=kE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=BE(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,((i,a)=>Vv(i,a)))&&eo(this.baseMutations,t.baseMutations,((i,a)=>Vv(i,a)))}}class Hm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Gt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return e2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Hm(t,i,a,l)}}class m2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class g2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Me,Lt;function p2(r){switch(r){case $.OK:return mt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function HE(r){if(r===void 0)return cs("GRPC error has no .code"),$.UNKNOWN;switch(r){case Me.OK:return $.OK;case Me.CANCELLED:return $.CANCELLED;case Me.UNKNOWN:return $.UNKNOWN;case Me.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Me.INTERNAL:return $.INTERNAL;case Me.UNAVAILABLE:return $.UNAVAILABLE;case Me.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Me.NOT_FOUND:return $.NOT_FOUND;case Me.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Me.ABORTED:return $.ABORTED;case Me.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Me.DATA_LOSS:return $.DATA_LOSS;default:return mt(39323,{code:r})}}(Lt=Me||(Me={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function y2(){return new TextEncoder}const _2=new ir([4294967295,4294967295],0);function Uv(r){const t=y2().encode(r),i=new rE;return i.update(t),new Uint8Array(i.digest())}function Lv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ir([i,a],0),new ir([l,c],0)]}class Gm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new El(`Invalid padding: ${i}`);if(a<0)throw new El(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new El(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ir.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(ir.fromNumber(a)));return l.compare(_2)===1&&(l=new ir([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Uv(t),[a,l]=Lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Gm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Uv(t),[a,l]=Lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new vh(vt.min(),l,new de(Mt),hs(),Vt())}}class Ql{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ql(a,i,Vt(),Vt(),Vt())}}class zc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class GE{constructor(t,i){this.targetId=t,this.Ce=i}}class FE{constructor(t,i,a=Ze.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Pv{constructor(){this.ve=0,this.Fe=zv(),this.Me=Ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:mt(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=zv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class v2{constructor(t){this.Ge=t,this.ze=new Map,this.je=hs(),this.He=Ic(),this.Je=Ic(),this.Ze=new de(Mt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(um(c))if(a===0){const d=new ht(c.path);this.et(i,d,sn.newNoDocument(d,vt.min()))}else Gt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=or(a).toUint8Array()}catch(v){if(v instanceof yE)return to("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Gm(d,l,c)}catch(v){return to(v instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&um(p.target)){const v=new ht(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,sn.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Vt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new vh(t,i,this.Ze,this.je,a);return this.je=hs(),this.He=Ic(),this.Je=Ic(),this.Ze=new de(Mt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Pv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new ze(Mt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new ze(Mt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Pv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new de(ht.comparator)}function zv(){return new de(ht.comparator)}const E2={asc:"ASCENDING",desc:"DESCENDING"},T2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S2={and:"AND",or:"OR"};class A2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function hm(r,t){return r.useProto3Json||fh(t)?t:{value:t}}function ih(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function QE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function b2(r,t){return ih(r,t.toTimestamp())}function Vi(r){return Gt(!!r,49232),vt.fromTimestamp((function(i){const a=ar(i);return new le(a.seconds,a.nanos)})(r))}function Fm(r,t){return fm(r,t).canonicalString()}function fm(r,t){const i=(function(l){return new oe(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function KE(r){const t=oe.fromString(r);return Gt(ZE(t),10190,{key:t.toString()}),t}function dm(r,t){return Fm(r.databaseId,t.path)}function Bd(r,t){const i=KE(t);if(i.get(1)!==r.databaseId.projectId)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(XE(i))}function YE(r,t){return Fm(r.databaseId,t)}function w2(r){const t=KE(r);return t.length===4?oe.emptyPath():XE(t)}function mm(r){return new oe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function XE(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function jv(r,t,i){return{name:dm(r,t),fields:i.value.mapValue.fields}}function R2(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:mt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Gt(S===void 0||typeof S=="string",58123),Ze.fromBase64String(S||"")):(Gt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ze.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const S=y.code===void 0?$.UNKNOWN:HE(y.code);return new lt(S,y.message||"")})(d);i=new FE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Bd(r,a.document.name),c=Vi(a.document.updateTime),d=a.document.createTime?Vi(a.document.createTime):vt.min(),p=new vn({mapValue:{fields:a.document.fields}}),v=sn.newFoundDocument(l,c,d,p),y=a.targetIds||[],S=a.removedTargetIds||[];i=new zc(y,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Bd(r,a.document),c=a.readTime?Vi(a.readTime):vt.min(),d=sn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new zc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Bd(r,a.document),c=a.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new g2(l,c),p=a.targetId;i=new GE(p,d)}}return i}function C2(r,t){let i;if(t instanceof Fl)i={update:jv(r,t.key,t.value)};else if(t instanceof qm)i={delete:dm(r,t.key)};else if(t instanceof fr)i={update:jv(r,t.key,t.data),updateMask:U2(t.fieldMask)};else{if(!(t instanceof f2))return mt(16599,{dt:t.type});i={verify:dm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:b2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(r,t.precondition)),i}function I2(r,t){return r&&r.length>0?(Gt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Vi(l.updateTime):Vi(c);return d.isEqual(vt.min())&&(d=Vi(c)),new u2(d,l.transformResults||[])})(i,t)))):[]}function D2(r,t){return{documents:[YE(r,t.path)]}}function N2(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=YE(r,l);const c=(function(y){if(y.length!==0)return JE(Ui.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(D){return{field:Ga(D.field),direction:V2(D.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=hm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function O2(r){let t=w2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Gt(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(b){const D=$E(b);return D instanceof Ui&&CE(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((D=>(function(Z){return new th(Fa(Z.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let D;return D=typeof b=="object"?b.value:b,fh(D)?null:D})(i.limit));let v=null;i.startAt&&(v=(function(b){const D=!!b.before,Q=b.values||[];return new Wc(Q,D)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const D=!b.before,Q=b.values||[];return new Wc(Q,D)})(i.endAt)),YR(t,l,d,c,p,"F",v,y)}function M2(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function $E(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Fa(i.unaryFilter.field);return Pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(i.unaryFilter.field);return Pe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return Pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Pe.create(Fa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ui.create(i.compositeFilter.filters.map((a=>$E(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(r):mt(30097,{filter:r})}function V2(r){return E2[r]}function x2(r){return T2[r]}function k2(r){return S2[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Fa(r){return Je.fromServerFormat(r.fieldPath)}function JE(r){return r instanceof Pe?(function(i){if(i.op==="=="){if(Cv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(Rv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Cv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(Rv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:x2(i.op),value:i.value}}})(r):r instanceof Ui?(function(i){const a=i.getFilters().map((l=>JE(l)));return a.length===1?a[0]:{compositeFilter:{op:k2(i.op),filters:a}}})(r):mt(54877,{filter:r})}function U2(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function ZE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function WE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Ws{constructor(t,i,a,l,c=vt.min(),d=vt.min(),p=Ze.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new Ws(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class L2{constructor(t){this.yt=t}}function P2(r){const t=O2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cm(t,t.limit,"L"):t}class z2{constructor(){this.Sn=new j2}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(rr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(rr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class j2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new ze(oe.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new ze(oe.comparator)).toArray()}}const Bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tT=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(tT,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class so{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new so(0)}static ar(){return new so(-1)}}const qv="LruGarbageCollector",B2=1048576;function Hv([r,t],[i,a]){const l=Mt(r,i);return l===0?Mt(t,a):l}class q2{constructor(t){this.Pr=t,this.buffer=new ze(Hv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Hv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class H2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){rt(qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ho(i)?rt(qv,"Ignoring IndexedDB error during garbage collection: ",i):await co(i)}await this.Ar(3e5)}))}}class G2{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(hh.ce);const a=new q2(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Bv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,v,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(y=Date.now(),qa()<=Ot.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${b} documents in `+(y-v)+`ms
Total Duration: ${y-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function F2(r,t){return new G2(r,t)}class Q2{constructor(){this.changes=new Zr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class K2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Y2{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Cl(a.mutation,l,Dn.empty(),le.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=Hr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=vl();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Hr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=hs();const d=Rl(),p=(function(){return Rl()})();return i.forEach(((v,y)=>{const S=a.get(y.key);l.has(y.key)&&(S===void 0||S.mutation instanceof fr)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Cl(S.mutation,y,S.mutation.getFieldMask(),le.now())):d.set(y.key,Dn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>p.set(y,new K2(S,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Rl();let l=new de(((d,p)=>d-p)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let S=a.get(v)||Dn.empty();S=p.applyToLocalView(y,S),a.set(v,S);const b=(l.get(p.batchId)||Vt()).add(v);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,S=v.value,b=kE();S.forEach((D=>{if(!c.has(D)){const Q=BE(i.get(D),a.get(D));Q!==null&&b.set(D,Q),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return XR(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):$R(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Hr());let p=Nl,v=c;return d.next((y=>X.forEach(y,((S,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(t,S).next((D=>{v=v.insert(S,D)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Vt()))).next((S=>({batchId:p,changes:xE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let l=vl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=vl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(v=>{const y=(function(b,D){return new mh(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((S=>{S.forEach(((b,D)=>{d=d.insert(b,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,sn.newInvalidDocument(S)))}));let p=vl();return d.forEach(((v,y)=>{const S=c.get(v);S!==void 0&&Cl(S.mutation,y,Dn.empty(),le.now()),ph(i,y)&&(p=p.insert(v,y))})),p}))}}class X2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Vi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:P2(l.bundledQuery),readTime:Vi(l.readTime)}})(i)),X.resolve()}}class $2{constructor(){this.overlays=new de(ht.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Hr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Hr(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new de(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=Hr(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const p=Hr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,S)=>p.set(y,S))),!(p.size()>=l)););return X.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new m2(i,a));let c=this.Lr.get(i);c===void 0&&(c=Vt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class J2{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Qm{constructor(){this.kr=new ze(He.Kr),this.qr=new ze(He.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new He(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new He(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ht(new oe([])),a=new He(i,t),l=new He(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ht(new oe([])),a=new He(i,t),l=new He(i,t+1);let c=Vt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new He(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ht.comparator(t.key,i.key)||Mt(t.Hr,i.Hr)}static Ur(t,i){return Mt(t.Hr,i.Hr)||ht.comparator(t.key,i.key)}}class Z2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new ze(He.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new d2(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new He(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?km:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),l=new He(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ze(Mt);return i.forEach((l=>{const c=new He(l,0),d=new He(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new He(new ht(c),0);let p=new ze(Mt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(v.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new He(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new He(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class W2{constructor(t){this.ti=t,this.docs=(function(){return new de(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(i))}getEntries(t,i){let a=hs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():sn.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=hs();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:S}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||wR(bR(S),a)<=0||(l.has(S.key)||ph(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){mt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new tC(this)}getSize(t){return X.resolve(this.size)}}class tC extends Q2{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class eC{constructor(t){this.persistence=t,this.ri=new Zr((i=>Pm(i)),zm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new Qm,this.targetCount=0,this.oi=so._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new so(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class eT{constructor(t,i){this._i={},this.overlays={},this.ai=new hh(0),this.ui=!1,this.ui=!0,this.ci=new J2,this.referenceDelegate=t(this),this.li=new eC(this),this.indexManager=new z2,this.remoteDocumentCache=(function(l){return new W2(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new L2(i),this.Pi=new X2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new $2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new Z2(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new nC(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class nC extends CR{constructor(t){super(),this.currentSequenceNumber=t}}class Km{constructor(t){this.persistence=t,this.Ri=new Qm,this.Ai=null}static Vi(t){return new Km(t)}get di(){if(this.Ai)return this.Ai;throw mt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=ht.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.fi=new Zr((a=>NR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=F2(this,i)}static Vi(t,i){return new sh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Uc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ym{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ym(t,i.fromCache,a,l)}}class iC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class sC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return HS()?8:IR(rn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new iC;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(qa()<=Ot.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(qa()<=Ot.DEBUG&&rt("QueryEngine","Query:",Ha(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(qa()<=Ot.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(i))):X.resolve())}gs(t,i){if(Ov(i))return X.resolve(null);let a=Mi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=cm(i,null,"F"),a=Mi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,p);return this.Ss(i,y,d,v.readTime)?this.gs(t,cm(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,l){return Ov(i)||l.isEqual(vt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(qa()<=Ot.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ha(i)),this.Ds(t,d,i,AR(l,Nl)).next((p=>p)))}))}bs(t,i){let a=new ze(ME(t));return i.forEach(((l,c)=>{ph(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return qa()<=Ot.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.fs.getDocumentsMatchingQuery(t,i,rr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Xm="LocalStore",rC=3e8;class aC{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new de(Mt),this.Fs=new Zr((c=>Pm(c)),zm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Y2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function oC(r,t,i,a){return new aC(r,t,i,a)}async function nT(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Vt();for(const y of l){d.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}for(const y of c){p.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function lC(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,S){const b=y.batch,D=b.keys();let Q=X.resolve();return D.forEach((Z=>{Q=Q.next((()=>S.getEntry(v,Z))).next((it=>{const tt=y.docVersions.get(Z);Gt(tt!==null,48541),it.version.compareTo(tt)<0&&(b.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),S.addEntry(it)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(v,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Vt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function iT(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function uC(r,t){const i=St(r),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((S,b)=>{const D=l.get(b);if(!D)return;p.push(i.li.removeMatchingKeys(c,S.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,b))));let Q=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?Q=Q.withResumeToken(Ze.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,a)),l=l.insert(b,Q),(function(it,tt,ft){return it.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=rC?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(D,Q,S)&&p.push(i.li.updateTargetData(c,Q))}));let v=hs(),y=Vt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(cC(c,d,t.documentUpdates).next((S=>{v=S.Bs,y=S.Ls}))),!a.isEqual(vt.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function cC(r,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=hs();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(vt.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):rt(Xm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function hC(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function fC(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Ws(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function gm(r,t,i){const a=St(r),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ho(d))throw d;rt(Xm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Gv(r,t,i){const a=St(r);let l=vt.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,S){const b=St(v),D=b.Fs.get(S);return D!==void 0?X.resolve(b.vs.get(D)):b.li.getTargetData(y,S)})(a,d,Mi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Vt()))).next((p=>(dC(a,ZR(t),p),{documents:p,ks:c})))))}function dC(r,t,i){let a=r.Ms.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class Fv{constructor(){this.activeTargetIds=s2()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class mC{constructor(){this.vo=new Fv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Fv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class gC{Mo(t){}shutdown(){}}const Qv="ConnectivityMonitor";class Kv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt(Qv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){rt(Qv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function pm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const qd="RestConnection",pC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class yC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=pm(),p=this.Qo(t,i.toUriEncodedString());rt(qd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(p),S=ao(y);return this.zo(t,p,v,a,S).then((b=>(rt(qd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw to(qd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=pC[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class _C{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const en="WebChannelConnection",yl=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class $a extends yC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!$a.c_){const t=uE();yl(t,lE.STAT_EVENT,(i=>{i.stat===sm.PROXY?rt(en,"STAT_EVENT: detected buffering proxy"):i.stat===sm.NOPROXY&&rt(en,"STAT_EVENT: detected no buffering proxy")})),$a.c_=!0}}zo(t,i,a,l,c){const d=pm();return new Promise(((p,v)=>{const y=new aE;y.setWithCredentials(!0),y.listenOnce(oE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case kc.NO_ERROR:const b=y.getResponseJson();rt(en,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case kc.TIMEOUT:rt(en,`RPC '${t}' ${d} timed out`),v(new lt($.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const D=y.getStatus();if(rt(en,`RPC '${t}' ${d} failed with status:`,D,"response text:",y.getResponseText()),D>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const Z=Q?.error;if(Z&&Z.status&&Z.message){const it=(function(ft){const yt=ft.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(yt)>=0?yt:$.UNKNOWN})(Z.status);v(new lt(it,Z.message))}else v(new lt($.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new lt($.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(en,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);rt(en,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=pm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");rt(en,`Creating RPC '${t}' stream ${l}: ${y}`,p);const S=d.createWebChannel(y,p);this.I_(S);let b=!1,D=!1;const Q=new _C({Ho:Z=>{D?rt(en,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(b||(rt(en,`Opening RPC '${t}' stream ${l} transport.`),S.open(),b=!0),rt(en,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Jo:()=>S.close()});return yl(S,_l.EventType.OPEN,(()=>{D||(rt(en,`RPC '${t}' stream ${l} transport opened.`),Q.i_())})),yl(S,_l.EventType.CLOSE,(()=>{D||(D=!0,rt(en,`RPC '${t}' stream ${l} transport closed`),Q.o_(),this.E_(S))})),yl(S,_l.EventType.ERROR,(Z=>{D||(D=!0,to(en,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),Q.o_(new lt($.UNAVAILABLE,"The operation could not be completed")))})),yl(S,_l.EventType.MESSAGE,(Z=>{if(!D){const it=Z.data[0];Gt(!!it,16349);const tt=it,ft=tt?.error||tt[0]?.error;if(ft){rt(en,`RPC '${t}' stream ${l} received error:`,ft);const yt=ft.status;let _t=(function(kt){const I=Me[kt];if(I!==void 0)return HE(I)})(yt),te=ft.message;_t===void 0&&(_t=$.INTERNAL,te="Unknown error status: "+yt+" with message "+ft.message),D=!0,Q.o_(new lt(_t,te)),S.close()}else rt(en,`RPC '${t}' stream ${l} received:`,it),Q.__(it)}})),$a.u_(),setTimeout((()=>{Q.s_()}),0),Q}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return cE()}}function vC(r){return new $a(r)}function Hd(){return typeof document<"u"?document:null}function Eh(r){return new A2(r,!0)}$a.c_=!1;class sT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Yv="PersistentStream";class rT{constructor(t,i,a,l,c,d,p,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(cs(i.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new lt($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Yv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(rt(Yv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EC extends rT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=R2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Vi(d.readTime):vt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=mm(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=um(v)?{documents:D2(c,v)}:{query:N2(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=QE(c,d.resumeToken);const y=hm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=ih(c,d.snapshotVersion.toTimestamp());const y=hm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=M2(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=mm(this.serializer),i.removeTarget=t,this.K_(i)}}class TC extends rT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=I2(t.writeResults,t.commitTime),a=Vi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=mm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>C2(this.serializer,a)))};this.K_(i)}}class SC{}class AC extends SC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,fm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt($.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,fm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function bC(r,t,i,a){return new AC(r,t,i,a)}class wC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $r="RemoteStore";class RC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Wr(this)&&(rt($r,"Restarting streams for network reachability change."),await(async function(v){const y=St(v);y.Ea.add(4),await Kl(y),y.Va.set("Unknown"),y.Ea.delete(4),await Th(y)})(this))}))})),this.Va=new wC(a,l)}}async function Th(r){if(Wr(r))for(const t of r.Ra)await t(!0)}async function Kl(r){for(const t of r.Ra)await t(!1)}function aT(r,t){const i=St(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Wm(i)?Zm(i):fo(i).O_()&&Jm(i,t))}function $m(r,t){const i=St(r),a=fo(i);i.Ia.delete(t),a.O_()&&oT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Wr(i)&&i.Va.set("Unknown"))}function Jm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}fo(r).Z_(t)}function oT(r,t){r.da.$e(t),fo(r).X_(t)}function Zm(r){r.da=new v2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),fo(r).start(),r.Va.ua()}function Wm(r){return Wr(r)&&!fo(r).x_()&&r.Ia.size>0}function Wr(r){return St(r).Ea.size===0}function lT(r){r.da=void 0}async function CC(r){r.Va.set("Online")}async function IC(r){r.Ia.forEach(((t,i)=>{Jm(r,t)}))}async function DC(r,t){lT(r),Wm(r)?(r.Va.ha(t),Zm(r)):r.Va.set("Unknown")}async function NC(r,t,i){if(r.Va.set("Online"),t instanceof FE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(a){rt($r,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await rh(r,a)}else if(t instanceof zc?r.da.Xe(t):t instanceof GE?r.da.st(t):r.da.tt(t),!i.isEqual(vt.min()))try{const a=await iT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const S=c.Ia.get(v);if(!S)return;c.Ia.set(v,S.withResumeToken(Ze.EMPTY_BYTE_STRING,S.snapshotVersion)),oT(c,v);const b=new Ws(S.target,v,y,S.sequenceNumber);Jm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){rt($r,"Failed to raise snapshot:",a),await rh(r,a)}}async function rh(r,t,i){if(!ho(t))throw t;r.Ea.add(1),await Kl(r),r.Va.set("Offline"),i||(i=()=>iT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt($r,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Th(r)}))}function uT(r,t){return t().catch((i=>rh(r,i,t)))}async function Sh(r){const t=St(r),i=ur(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:km;for(;OC(t);)try{const l=await hC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,MC(t,l)}catch(l){await rh(t,l)}cT(t)&&hT(t)}function OC(r){return Wr(r)&&r.Ta.length<10}function MC(r,t){r.Ta.push(t);const i=ur(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function cT(r){return Wr(r)&&!ur(r).x_()&&r.Ta.length>0}function hT(r){ur(r).start()}async function VC(r){ur(r).ra()}async function xC(r){const t=ur(r);for(const i of r.Ta)t.ea(i.mutations)}async function kC(r,t,i){const a=r.Ta.shift(),l=Hm.from(a,t,i);await uT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Sh(r)}async function UC(r,t){t&&ur(r).Y_&&await(async function(a,l){if((function(d){return p2(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();ur(a).B_(),await uT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Sh(a)}})(r,t),cT(r)&&hT(r)}async function Xv(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),rt($r,"RemoteStore received new credentials");const a=Wr(i);i.Ea.add(3),await Kl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Th(i)}async function LC(r,t){const i=St(r);t?(i.Ea.delete(2),await Th(i)):t||(i.Ea.add(2),await Kl(i),i.Va.set("Unknown"))}function fo(r){return r.ma||(r.ma=(function(i,a,l){const c=St(i);return c.sa(),new EC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:CC.bind(null,r),Yo:IC.bind(null,r),t_:DC.bind(null,r),J_:NC.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Wm(r)?Zm(r):r.Va.set("Unknown")):(await r.ma.stop(),lT(r))}))),r.ma}function ur(r){return r.fa||(r.fa=(function(i,a,l){const c=St(i);return c.sa(),new TC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:VC.bind(null,r),t_:UC.bind(null,r),ta:xC.bind(null,r),na:kC.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Sh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt($r,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class tg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new tg(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(r,t){if(cs("AsyncQueue",`${t}: ${r}`),ho(r))return new lt($.UNAVAILABLE,`${t}: ${r}`);throw r}class Ja{static emptySet(t){return new Ja(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=vl(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ja;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class $v{constructor(){this.ga=new de(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class ro{constructor(t,i,a,l,c,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ro(t,i,Ja.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class PC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class zC{constructor(){this.queries=Jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=St(i),c=l.queries;l.queries=Jv(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new lt($.ABORTED,"Firestore shutting down"))}}function Jv(){return new Zr((r=>OE(r)),gh)}async function jC(r,t){const i=St(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new PC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=eg(d,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ng(i)}async function BC(r,t){const i=St(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function qC(r,t){const i=St(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&ng(i)}function HC(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function ng(r){r.Ca.forEach((t=>{t.next()}))}var ym,Zv;(Zv=ym||(ym={})).Ma="default",Zv.Cache="cache";class GC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new ro(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ym.Cache}}class fT{constructor(t){this.key=t}}class dT{constructor(t){this.key=t}}class FC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=ME(t),this.tu=new Ja(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new $v,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,b)=>{const D=l.get(S),Q=ph(this.query,b)?b:null,Z=!!D&&this.mutatedKeys.has(D.key),it=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let tt=!1;D&&Q?D.data.isEqual(Q.data)?Z!==it&&(a.track({type:3,doc:Q}),tt=!0):this.su(D,Q)||(a.track({type:2,doc:Q}),tt=!0,(v&&this.eu(Q,v)>0||y&&this.eu(Q,y)<0)&&(p=!0)):!D&&Q?(a.track({type:0,doc:Q}),tt=!0):D&&!Q&&(a.track({type:1,doc:D}),tt=!0,(v||y)&&(p=!0)),tt&&(Q?(d=d.add(Q),c=it?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,b)=>(function(Q,Z){const it=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:tt})}};return it(Q)-it(Z)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new ro(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $v,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new dT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new fT(a))})),i}cu(t){this.Za=t.ks,this.Ya=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ig="SyncEngine";class QC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class KC{constructor(t){this.key=t,this.hu=!1}}class YC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Zr((p=>OE(p)),gh),this.Iu=new Map,this.Eu=new Set,this.Ru=new de(ht.comparator),this.Au=new Map,this.Vu=new Qm,this.du={},this.mu=new Map,this.fu=so.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XC(r,t,i=!0){const a=vT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await mT(a,t,i,!0),l}async function $C(r,t){const i=vT(r);await mT(i,t,!0,!1)}async function mT(r,t,i,a){const l=await fC(r.localStore,Mi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await JC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&aT(r.remoteStore,l),p}async function JC(r,t,i,a,l){r.pu=(b,D,Q)=>(async function(it,tt,ft,yt){let _t=tt.view.ru(ft);_t.Ss&&(_t=await Gv(it.localStore,tt.query,!1).then((({documents:I})=>tt.view.ru(I,_t))));const te=yt&&yt.targetChanges.get(tt.targetId),fe=yt&&yt.targetMismatches.get(tt.targetId)!=null,kt=tt.view.applyChanges(_t,it.isPrimaryClient,te,fe);return t0(it,tt.targetId,kt.au),kt.snapshot})(r,b,D,Q);const c=await Gv(r.localStore,t,!0),d=new FC(t,c.ks),p=d.ru(c.documents),v=Ql.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,v);t0(r,i,y.au);const S=new QC(t,i,d);return r.Tu.set(t,S),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function ZC(r,t,i){const a=St(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!gh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await gm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&$m(a.remoteStore,l.targetId),_m(a,l.targetId)})).catch(co)):(_m(a,l.targetId),await gm(a.localStore,l.targetId,!0))}async function WC(r,t){const i=St(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),$m(i.remoteStore,a.targetId))}async function tI(r,t,i){const a=oI(r);try{const l=await(function(d,p){const v=St(d),y=le.now(),S=p.reduce(((Q,Z)=>Q.add(Z.key)),Vt());let b,D;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let Z=hs(),it=Vt();return v.xs.getEntries(Q,S).next((tt=>{Z=tt,Z.forEach(((ft,yt)=>{yt.isValidDocument()||(it=it.add(ft))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,Z))).next((tt=>{b=tt;const ft=[];for(const yt of p){const _t=h2(yt,b.get(yt.key).overlayedDocument);_t!=null&&ft.push(new fr(yt.key,_t,bE(_t.value.mapValue),Fn.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,y,ft,p)})).next((tt=>{D=tt;const ft=tt.applyToLocalDocumentSet(b,it);return v.documentOverlayCache.saveOverlays(Q,tt.batchId,ft)}))})).then((()=>({batchId:D.batchId,changes:xE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let y=d.du[d.currentUser.toKey()];y||(y=new de(Mt)),y=y.insert(p,v),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Yl(a,l.changes),await Sh(a.remoteStore)}catch(l){const c=eg(l,"Failed to persist write");i.reject(c)}}async function gT(r,t){const i=St(r);try{const a=await uC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Yl(i,a,t)}catch(a){await co(a)}}function Wv(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=St(d);v.onlineState=p;let y=!1;v.queries.forEach(((S,b)=>{for(const D of b.ba)D.va(p)&&(y=!0)})),y&&ng(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function eI(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new de(ht.comparator);d=d.insert(c,sn.newNoDocument(c,vt.min()));const p=Vt().add(c),v=new vh(vt.min(),new Map,new de(Mt),d,p);await gT(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),sg(a)}else await gm(a.localStore,t,!1).then((()=>_m(a,t,i))).catch(co)}async function nI(r,t){const i=St(r),a=t.batch.batchId;try{const l=await lC(i.localStore,t);yT(i,a,null),pT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yl(i,l)}catch(l){await co(l)}}async function iI(r,t,i){const a=St(r);try{const l=await(function(d,p){const v=St(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return v.mutationQueue.lookupMutationBatch(y,p).next((b=>(Gt(b!==null,37113),S=b.keys(),v.mutationQueue.removeMutationBatch(y,b)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,S,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>v.localDocuments.getDocuments(y,S)))}))})(a.localStore,t);yT(a,t,i),pT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Yl(a,l)}catch(l){await co(l)}}function pT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function yT(r,t,i){const a=St(r);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function _m(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||_T(r,a)}))}function _T(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&($m(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),sg(r))}function t0(r,t,i){for(const a of i)a instanceof fT?(r.Vu.addReference(a.key,t),sI(r,a)):a instanceof dT?(rt(ig,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||_T(r,a.key)):mt(19791,{wu:a})}function sI(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(rt(ig,"New document in limbo: "+i),r.Eu.add(a),sg(r))}function sg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ht(oe.fromString(t)),a=r.fu.next();r.Au.set(a,new KC(i)),r.Ru=r.Ru.insert(i,a),aT(r.remoteStore,new Ws(Mi(jm(i.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function Yl(r,t,i){const a=St(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(y){l.push(y);const S=Ym.Es(v.targetId,y);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,y){const S=St(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(y,(D=>X.forEach(D.Ts,(Q=>S.persistence.referenceDelegate.addReference(b,D.targetId,Q))).next((()=>X.forEach(D.Is,(Q=>S.persistence.referenceDelegate.removeReference(b,D.targetId,Q)))))))))}catch(b){if(!ho(b))throw b;rt(Xm,"Failed to update sequence numbers: "+b)}for(const b of y){const D=b.targetId;if(!b.fromCache){const Q=S.vs.get(D),Z=Q.snapshotVersion,it=Q.withLastLimboFreeSnapshotVersion(Z);S.vs=S.vs.insert(D,it)}}})(a.localStore,c))}async function rI(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){rt(ig,"User change. New user:",t.toKey());const a=await nT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new lt($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Yl(i,a.Ns)}}function aI(r,t){const i=St(r),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function vT(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=gT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eI.bind(null,t),t.Pu.J_=qC.bind(null,t.eventManager),t.Pu.yu=HC.bind(null,t.eventManager),t}function oI(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iI.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return oC(this.persistence,new sC,t.initialUser,this.serializer)}Cu(t){return new eT(Km.Vi,this.serializer)}Du(t){return new mC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class lI extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new H2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new eT((a=>sh.Vi(a,i)),this.serializer)}}class vm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Wv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=rI.bind(null,this.syncEngine),await LC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new zC})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),a=vC(t.databaseInfo);return bC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new RC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Wv(this.syncEngine,i,0)),(function(){return Kv.v()?new Kv:new gC})())}createSyncEngine(t,i){return(function(l,c,d,p,v,y,S){const b=new YC(l,c,d,p,v,y);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);rt($r,"RemoteStore shutting down."),a.Ea.add(5),await Kl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};class uI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):cs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const cr="FirestoreClient";class cI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=eg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Gd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(cr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await nT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function e0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await hI(r);rt(cr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Xv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Xv(t.remoteStore,l))),r._onlineComponents=t}async function hI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(cr,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;to("Error using user provided cache. Falling back to memory cache: "+i),await Gd(r,new ah)}}else rt(cr,"Using default OfflineComponentProvider"),await Gd(r,new lI(void 0));return r._offlineComponents}async function ET(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(cr,"Using user provided OnlineComponentProvider"),await e0(r,r._uninitializedComponentsProvider._online)):(rt(cr,"Using default OnlineComponentProvider"),await e0(r,new vm))),r._onlineComponents}function fI(r){return ET(r).then((t=>t.syncEngine))}async function n0(r){const t=await ET(r),i=t.eventManager;return i.onListen=XC.bind(null,t.syncEngine),i.onUnlisten=ZC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=$C.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=WC.bind(null,t.syncEngine),i}function dI(r,t,i,a){const l=new uI(a),c=new GC(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>jC(await n0(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>BC(await n0(r),c)))}}function mI(r,t){const i=new Gr;return r.asyncQueue.enqueueAndForget((async()=>tI(await fI(r),t,i))),i.promise}function TT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const gI="ComponentProvider",i0=new Map;function pI(r,t,i,a,l){return new VR(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,TT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const ST="firestore.googleapis.com",s0=!0;class r0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ST,this.ssl=s0}else this.host=t.host,this.ssl=t.ssl??s0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=tT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<B2)throw new lt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}SR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ah{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new fR;switch(a.type){case"firstParty":return new pR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=i0.get(i);a&&(rt(gI,"Removing Datastore"),i0.delete(i),a.terminate())})(this),Promise.resolve()}}function yI(r,t,i,a={}){r=Oi(r,Ah);const l=ao(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(E0(`https://${p}`),T0("Firestore",!0)),c.host!==ST&&c.host!==p&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:a};if(!Qr(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,S;if(typeof a.mockUserToken=="string")y=a.mockUserToken,S=nn.MOCK_USER;else{y=xS(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new lt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new nn(b)}r._authCredentials=new dR(new fE(y,S))}}class bh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new bh(this.firestore,t,this._query)}}class xe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Gl(i,xe._jsonSchema))return new xe(t,a||null,new ht(oe.fromString(i.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:Ve("string",xe._jsonSchemaVersion),referencePath:Ve("string")};class sr extends bh{constructor(t,i,a){super(t,i,jm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new ht(t))}withConverter(t){return new sr(this.firestore,t,this._path)}}function Ba(r,t,...i){if(r=an(r),dE("collection","path",t),r instanceof Ah){const a=oe.fromString(t,...i);return _v(a),new sr(r,null,a)}{if(!(r instanceof xe||r instanceof sr))throw new lt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(oe.fromString(t,...i));return _v(a),new sr(r.firestore,null,a)}}function jc(r,t,...i){if(r=an(r),arguments.length===1&&(t=Vm.newId()),dE("doc","path",t),r instanceof Ah){const a=oe.fromString(t,...i);return yv(a),new xe(r,null,new ht(a))}{if(!(r instanceof xe||r instanceof sr))throw new lt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(oe.fromString(t,...i));return yv(a),new xe(r.firestore,r instanceof sr?r.converter:null,new ht(a))}}const a0="AsyncQueue";class o0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sT(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&rt(a0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ho(t))throw t;rt(a0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",l0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=tg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:l0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function l0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Jr extends Ah{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new o0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new o0(t),this._firestoreClient=void 0,await t}}}function _I(r,t){const i=typeof r=="object"?r:w0(),a=typeof r=="string"?r:Jc,l=Am(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=MS("firestore");c&&yI(l,...c)}return l}function AT(r){if(r._terminated)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vI(r),r._firestoreClient}function vI(r){const t=r._freezeSettings(),i=pI(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new cI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(Ze.fromBase64String(t))}catch(i){throw new lt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Gn(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gl(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ve("string",Gn._jsonSchemaVersion),bytes:Ve("string")};class rg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ag{constructor(t){this._methodName=t}}class xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(Gl(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Ve("string",xi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class ri{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gl(t,ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ri(t.vectorValues);throw new lt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:Ve("string",ri._jsonSchemaVersion),vectorValues:Ve("object")};const EI=/^__.*__$/;class TI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new fr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(t,this.data,i,this.fieldTransforms)}}class bT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new fr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function wT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{dataSource:r})}}class og{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new og({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return oh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(wT(this.dataSource)&&EI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class SI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(t)}createContext(t,i,a,l=!1){return new og({dataSource:t,methodName:i,targetDoc:a,path:Je.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lg(r){const t=r._freezeSettings(),i=Eh(r._databaseId);return new SI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function RT(r,t,i,a,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);ug("Data must be an object, but it was:",d,a);const p=CT(a,d);let v,y;if(c.merge)v=new Dn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const b of c.mergeFields){const D=Ul(t,b,i);if(!d.contains(D))throw new lt($.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);NT(S,D)||S.push(D)}v=new Dn(S),y=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,y=d.fieldTransforms;return new TI(new vn(p),v,y)}class wh extends ag{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wh}}function AI(r,t,i,a){const l=r.createContext(1,t,i);ug("Data must be an object, but it was:",l,a);const c=[],d=vn.empty();hr(a,((v,y)=>{const S=DT(t,v,i);y=an(y);const b=l.childContextForFieldPath(S);if(y instanceof wh)c.push(S);else{const D=Rh(y,b);D!=null&&(c.push(S),d.set(S,D))}}));const p=new Dn(c);return new bT(d,p,l.fieldTransforms)}function bI(r,t,i,a,l,c){const d=r.createContext(1,t,i),p=[Ul(t,a,i)],v=[l];if(c.length%2!=0)throw new lt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)p.push(Ul(t,c[D])),v.push(c[D+1]);const y=[],S=vn.empty();for(let D=p.length-1;D>=0;--D)if(!NT(y,p[D])){const Q=p[D];let Z=v[D];Z=an(Z);const it=d.childContextForFieldPath(Q);if(Z instanceof wh)y.push(Q);else{const tt=Rh(Z,it);tt!=null&&(y.push(Q),S.set(Q,tt))}}const b=new Dn(y);return new bT(S,b,d.fieldTransforms)}function Rh(r,t){if(IT(r=an(r)))return ug("Unsupported field value:",t,r),CT(r,t);if(r instanceof ag)return(function(a,l){if(!wT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let v=Rh(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=an(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return r2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=le.fromDate(a);return{timestampValue:ih(l.serializer,c)}}if(a instanceof le){const c=new le(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(l.serializer,c)}}if(a instanceof xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Gn)return{bytesValue:QE(l.serializer,a._byteString)};if(a instanceof xe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Fm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ri)return(function(d,p){const v=d instanceof ri?d.toArray():d;return{mapValue:{fields:{[SE]:{stringValue:AE},[Zc]:{arrayValue:{values:v.map((S=>{if(typeof S!="number")throw p.createError("VectorValues must only contain numeric values.");return Bm(p.serializer,S)}))}}}}}})(a,l);if(WE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${xm(a)}`)})(r,t)}function CT(r,t){const i={};return pE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hr(r,((a,l)=>{const c=Rh(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function IT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof le||r instanceof xi||r instanceof Gn||r instanceof xe||r instanceof ag||r instanceof ri||WE(r))}function ug(r,t,i){if(!IT(i)||!mE(i)){const a=xm(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function Ul(r,t,i){if((t=an(t))instanceof rg)return t._internalPath;if(typeof t=="string")return DT(r,t);throw oh("Field path arguments must be of type string or ",r,!1,void 0,i)}const wI=new RegExp("[~\\*/\\[\\]]");function DT(r,t,i){if(t.search(wI)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new rg(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function oh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new lt($.INVALID_ARGUMENT,p+r+v)}function NT(r,t){return r.some((i=>i.isEqual(t)))}class RI{convertValue(t,i="none"){switch(lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return hr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Zc].arrayValue?.values?.map((a=>Te(a.doubleValue)));return new ri(i)}convertGeoPoint(t){return new xi(Te(t.latitude),Te(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=dh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const i=ar(t);return new le(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=oe.fromString(t);Gt(ZE(a),9688,{name:t});const l=new Ml(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||cs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class OT extends RI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,i)}}const u0="@firebase/firestore",c0="4.10.0";function h0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class MT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new CI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Ul("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class CI extends MT{data(){return super.data()}}function II(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function VT(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Tl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fr extends MT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Ul("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Fr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Fr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fr._jsonSchema={type:Ve("string",Fr._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Bc extends Fr{data(t={}){return super.data(t)}}class Za{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Tl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new Tl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,S=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:DI(p.type),doc:v,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Za._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:Ve("string",Za._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};function NI(r,t,i){r=Oi(r,xe);const a=Oi(r.firestore,Jr),l=VT(r.converter,t),c=lg(a);return Ch(a,[RT(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Fn.none())])}function OI(r,t,i,...a){r=Oi(r,xe);const l=Oi(r.firestore,Jr),c=lg(l);let d;return d=typeof(t=an(t))=="string"||t instanceof rg?bI(c,"updateDoc",r._key,t,i,a):AI(c,"updateDoc",r._key,t),Ch(l,[d.toMutation(r._key,Fn.exists(!0))])}function MI(r){return Ch(Oi(r.firestore,Jr),[new qm(r._key,Fn.none())])}function Fd(r,t){const i=Oi(r.firestore,Jr),a=jc(r),l=VT(r.converter,t),c=lg(r.firestore);return Ch(i,[RT(c,"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Fn.exists(!1))]).then((()=>a))}function Qd(r,...t){r=an(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||h0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(h0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof xe)d=Oi(r.firestore,Jr),p=jm(r._key.path),c={next:y=>{t[a]&&t[a](VI(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Oi(r,bh);d=Oi(y.firestore,Jr),p=y._query;const S=new OT(d);c={next:b=>{t[a]&&t[a](new Za(d,S,y,b))},error:t[a+1],complete:t[a+2]},II(r._query)}const v=AT(d);return dI(v,p,l,c)}function Ch(r,t){const i=AT(r);return mI(i,t)}function VI(r,t,i){const a=i.docs.get(t._key),l=new OT(r);return new Fr(r,l,t._key,a,new Tl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){hR(oo),Wa(new Kr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Jr(new mR(a.getProvider("auth-internal")),new yR(d,a.getProvider("app-check-internal")),xR(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),nr(u0,c0,t),nr(u0,c0,"esm2020")})();const xT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const xI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const kI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const f0=r=>{const t=kI(r);return t.charAt(0).toUpperCase()+t.slice(1)};var UI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const LI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const PI=Yt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},v)=>Yt.createElement("svg",{ref:v,...UI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:xT("lucide",l),...!c&&!LI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,S])=>Yt.createElement(y,S)),...Array.isArray(c)?c:[c]]));const ai=(r,t)=>{const i=Yt.forwardRef(({className:a,...l},c)=>Yt.createElement(PI,{ref:c,iconNode:t,className:xT(`lucide-${xI(f0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=f0(r),i};const zI=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Kd=ai("activity",zI);const jI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],BI=ai("chevron-left",jI);const qI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],HI=ai("chevron-right",qI);const GI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],FI=ai("log-out",GI);const QI=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],KI=ai("moon",QI);const YI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],XI=ai("plus",YI);const $I=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JI=ai("settings",$I);const ZI=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Yd=ai("sun",ZI);const WI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xd=ai("trash-2",WI);const tD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],eD=ai("users",tD);const nD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iD=ai("x",nD),sD={apiKey:"AIzaSyA8e-LozDxmHNcbuxTnh0YPiDqLNBObKVQ",authDomain:"nurse-planner-f57cd.firebaseapp.com",projectId:"nurse-planner-f57cd",storageBucket:"nurse-planner-f57cd.firebasestorage.app",messagingSenderId:"301587968755",appId:"1:301587968755:web:ee39cc1160a14eea623d86",measurementId:"G-0ETD5P9HPT"},kT=b0(sD),Nc=uR(kT),Ks=_I(kT),Ys="Nurse-Planner",rD=["bg-sky-500","bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500","bg-orange-500","bg-amber-500","bg-yellow-500","bg-emerald-500"];function aD(){const[r,t]=Yt.useState(null),[i,a]=Yt.useState(null),[l,c]=Yt.useState([]),[d,p]=Yt.useState([]),[v,y]=Yt.useState([]),[S,b]=Yt.useState(!0),[D,Q]=Yt.useState(!1),[Z,it]=Yt.useState(null),[tt,ft]=Yt.useState(new Date),[yt,_t]=Yt.useState(new Date().toISOString().split("T")[0]),[te,fe]=Yt.useState(null),[kt,I]=Yt.useState(!1),[A,C]=Yt.useState(""),[V,O]=Yt.useState(""),[k,w]=Yt.useState("voltijds"),[Xt,me]=Yt.useState(""),[q,et]=Yt.useState("bg-sky-500"),[ct,Ut]=Yt.useState(""),[qt,M]=Yt.useState("work"),[F,nt]=Yt.useState("");Yt.useEffect(()=>{(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await Xb(Nc,__initial_auth_token):await Gb(Nc)}catch(Se){console.error("Auth error:",Se)}})();const Ht=Zb(Nc,t);return()=>Ht()},[]),Yt.useEffect(()=>{if(!r)return;const J=Ba(Ks,"artifacts",Ys,"public","data","team"),Ht=Ba(Ks,"artifacts",Ys,"public","data","tours"),Se=Ba(Ks,"artifacts",Ys,"public","data","requests"),Ae=Qd(J,We=>{const Ue=We.docs.map(se=>({id:se.id,...se.data()}));c(Ue);const ie=Ue.find(se=>se.uid===r.uid);if(ie)a(ie);else if(r.isAnonymous){const se={uid:r.uid,name:"Nieuwe Gebruiker",isAdmin:Ue.length===0,regime:"voltijds"};NI(jc(J,r.uid),se)}b(!1)},We=>console.error("Team sync error:",We)),on=Qd(Ht,We=>{const Ue=We.docs.map(ie=>({id:ie.id,...ie.data()}));p(Ue),Ue.length>0&&!F&&nt(Ue[0].id)}),ke=Qd(Se,We=>{y(We.docs.map(Ue=>({id:Ue.id,...Ue.data()})))});return()=>{Ae(),on(),ke()}},[r]);const st=async()=>{if(!A)return;const J=Ba(Ks,"artifacts",Ys,"public","data","team");await Fd(J,{name:A,email:V.toLowerCase(),regime:k,isAdmin:!1,uid:crypto.randomUUID()}),C(""),O("")},gt=async()=>{if(!Xt)return;const J=Ba(Ks,"artifacts",Ys,"public","data","tours");await Fd(J,{label:Xt,color:q}),me("")},Et=async(J,Ht=null)=>{if(!i)return;const Se=Ba(Ks,"artifacts",Ys,"public","data","requests");await Fd(Se,{userId:r.uid,userName:i.name,date:yt,type:J,tourId:Ht,status:i.isAdmin?"confirmed":"pending",createdAt:Date.now()}),I(!1)},It=async J=>{const Ht=jc(Ks,"artifacts",Ys,"public","data","requests",J.id);await OI(Ht,{status:"confirmed"})},ue=async(J,Ht)=>{await MI(jc(Ks,"artifacts",Ys,"public","data",J,Ht))},ne=J=>{if(!J)return"?";const Ht=J.split(" ");return Ht.length>1?(Ht[0][0]+Ht[Ht.length-1][0]).toUpperCase():J.substring(0,2).toUpperCase()},Li=Yt.useMemo(()=>{const J=tt.getFullYear(),Ht=tt.getMonth(),Se=new Date(J,Ht+1,0).getDate(),Ae=(new Date(J,Ht,1).getDay()+6)%7,on=[];for(let ke=0;ke<Ae;ke++)on.push(null);for(let ke=1;ke<=Se;ke++){const We=`${J}-${String(Ht+1).padStart(2,"0")}-${String(ke).padStart(2,"0")}`;on.push({day:ke,date:We,items:v.filter(Ue=>Ue.date===We&&Ue.status==="confirmed")})}return on},[tt,v]);return S?Y.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50",children:Y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[Y.jsx(Kd,{className:"w-12 h-12 text-blue-600 animate-bounce"}),Y.jsx("span",{className:"font-black text-blue-600 text-[10px] uppercase tracking-widest",children:"Laden..."})]})}):Y.jsxs("div",{className:`min-h-screen pb-12 transition-colors duration-300 ${D?"bg-slate-950 text-slate-100":"bg-slate-50 text-slate-900"}`,children:[Y.jsxs("header",{className:`px-6 h-20 flex items-center justify-between sticky top-0 z-40 border-b shadow-sm ${D?"bg-slate-900 border-slate-800":"bg-white border-slate-100"}`,children:[Y.jsxs("div",{className:"flex items-center gap-3 font-black text-xl uppercase italic tracking-tighter",children:[Y.jsx("span",{className:"text-blue-600",children:Y.jsx(Kd,{size:24,strokeWidth:3})})," TEAMROOSTER"]}),Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx("button",{onClick:()=>Q(!D),className:`p-2.5 rounded-xl transition-all ${D?"bg-slate-800 text-yellow-400":"bg-slate-100 text-slate-500"}`,children:D?Y.jsx(Yd,{size:20}):Y.jsx(KI,{size:20})}),i?.isAdmin&&Y.jsxs(Y.Fragment,{children:[Y.jsx("button",{onClick:()=>it(Z==="tours"?null:"tours"),className:`p-2.5 rounded-xl ${Z==="tours"?"bg-blue-600 text-white shadow-lg":"bg-slate-100 dark:bg-slate-800 text-slate-500"}`,children:Y.jsx(JI,{size:20})}),Y.jsx("button",{onClick:()=>it(Z==="team"?null:"team"),className:`p-2.5 rounded-xl ${Z==="team"?"bg-blue-600 text-white shadow-lg":"bg-slate-100 dark:bg-slate-800 text-slate-500"}`,children:Y.jsx(eD,{size:20})})]})]})]}),Y.jsxs("main",{className:"max-w-xl mx-auto p-4 space-y-6 mt-4",children:[Z==="team"&&Y.jsxs("section",{className:`p-6 rounded-[2rem] shadow-xl border animate-in space-y-6 ${D?"bg-slate-900 border-slate-800":"bg-white border-slate-100"}`,children:[Y.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-blue-600 italic",children:"Teambeheer"}),Y.jsxs("div",{className:"space-y-3",children:[Y.jsx("input",{type:"text",placeholder:"Naam",value:A,onChange:J=>C(J.target.value),className:`w-full p-4 rounded-2xl font-bold outline-none border-2 border-transparent focus:border-blue-600 ${D?"bg-slate-800 text-white":"bg-slate-50 text-slate-900"}`}),Y.jsxs("div",{className:"flex flex-col gap-2",children:[Y.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400 px-2",children:"Regime:"}),Y.jsxs("select",{value:k,onChange:J=>w(J.target.value),className:`p-4 rounded-2xl font-bold outline-none cursor-pointer ${D?"bg-slate-800 text-white":"bg-slate-50 text-slate-900"}`,children:[Y.jsx("option",{value:"voltijds",children:"Voltijds (100%)"}),Y.jsx("option",{value:"deeltijds",children:"Deeltijds"}),Y.jsx("option",{value:"oproep",children:"Oproepbasis"}),Y.jsx("option",{value:"stagiair",children:"Stagiair"})]})]}),Y.jsx("button",{onClick:st,className:"w-full bg-blue-600 text-white py-4 rounded-2xl font-black text-[11px] uppercase shadow-lg active:scale-95 transition-all",children:"Lid Toevoegen"})]}),Y.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar",children:l.map(J=>Y.jsxs("div",{className:`p-4 rounded-2xl flex justify-between items-center ${D?"bg-slate-800":"bg-slate-50"}`,children:[Y.jsxs("div",{className:"flex flex-col",children:[Y.jsx("span",{className:"font-bold text-sm",children:J.name}),Y.jsx("span",{className:"text-[9px] bg-blue-100 dark:bg-blue-900/30 text-blue-600 px-2 py-0.5 rounded-full font-black uppercase w-fit",children:J.regime})]}),Y.jsx("button",{onClick:()=>ue("team",J.id),className:"text-red-400 p-2 hover:bg-red-500/10 rounded-xl",children:Y.jsx(Xd,{size:16})})]},J.id))})]}),Z==="tours"&&Y.jsxs("section",{className:`p-6 rounded-[2rem] shadow-xl border animate-in space-y-6 ${D?"bg-slate-900 border-slate-800":"bg-white border-slate-100"}`,children:[Y.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-blue-600 italic",children:"Rondebeheer"}),Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("input",{type:"text",placeholder:"Naam ronde",value:Xt,onChange:J=>me(J.target.value),className:`w-full p-4 rounded-2xl font-bold outline-none ${D?"bg-slate-800 text-white":"bg-slate-50 text-slate-900"}`}),Y.jsx("div",{className:"grid grid-cols-6 gap-2",children:rD.map(J=>Y.jsx("button",{onClick:()=>et(J),className:`h-10 rounded-xl transition-all ${J} ${q===J?"ring-4 ring-blue-600 ring-offset-2":"opacity-80"}`},J))}),Y.jsx("button",{onClick:gt,className:"w-full bg-blue-600 text-white py-4 rounded-2xl font-black text-[11px] uppercase",children:"Ronde Toevoegen"})]}),Y.jsx("div",{className:"space-y-2",children:d.map(J=>Y.jsxs("div",{className:`p-4 rounded-2xl flex justify-between items-center ${D?"bg-slate-800":"bg-slate-50"}`,children:[Y.jsxs("div",{className:"flex items-center gap-3",children:[Y.jsx("div",{className:`w-3 h-3 rounded-full ${J.color}`}),Y.jsx("span",{className:"font-bold text-sm",children:J.label})]}),Y.jsx("button",{onClick:()=>ue("tours",J.id),className:"text-red-400 p-2",children:Y.jsx(Xd,{size:16})})]},J.id))})]}),Y.jsxs("section",{className:`rounded-[2.5rem] shadow-2xl border overflow-hidden ${D?"bg-slate-900 border-slate-800":"bg-white border-slate-50"}`,children:[Y.jsxs("div",{className:"p-6 flex justify-between items-center",children:[Y.jsx("button",{onClick:()=>ft(new Date(tt.setMonth(tt.getMonth()-1))),className:"p-2 text-slate-400 hover:text-blue-600",children:Y.jsx(BI,{})}),Y.jsx("h2",{className:"font-black capitalize text-lg italic tracking-tight",children:tt.toLocaleString("nl-NL",{month:"long",year:"numeric"})}),Y.jsx("button",{onClick:()=>ft(new Date(tt.setMonth(tt.getMonth()+1))),className:"p-2 text-slate-400 hover:text-blue-600",children:Y.jsx(HI,{})})]}),Y.jsx("div",{className:"grid grid-cols-7 text-[9px] font-black text-slate-400 text-center pb-2 uppercase tracking-widest",children:["Ma","Di","Wo","Do","Vr","Za","Zo"].map(J=>Y.jsx("div",{children:J},J))}),Y.jsx("div",{className:`grid grid-cols-7 auto-rows-[90px] border-t ${D?"border-slate-800":"border-slate-50"}`,children:Li.map((J,Ht)=>{if(!J)return Y.jsx("div",{className:`border-r border-b ${D?"bg-slate-950/20 border-slate-800":"bg-slate-50/10 border-slate-50"}`},`empty-${Ht}`);const Se=yt===J.date;return Y.jsxs("div",{onClick:()=>_t(J.date),className:`relative p-1 flex flex-col items-center cursor-pointer transition-all border-r border-b ${D?"border-slate-800":"border-slate-50"} ${Se?"bg-blue-600/10":""}`,children:[Y.jsx("span",{className:`text-[10px] font-black mb-1 ${Se?"text-blue-600":"text-slate-400"}`,children:J.day}),Y.jsxs("div",{className:"flex flex-col gap-0.5 w-full px-0.5 overflow-hidden",children:[J.items.slice(0,3).map(Ae=>{const on=d.find(ke=>ke.id===Ae.tourId);return Y.jsx("div",{className:`${on?.color||"bg-slate-500"} text-white text-[7px] font-black px-1 py-0.5 rounded-sm truncate text-center shadow-sm`,children:ne(Ae.userName)},Ae.id)}),J.items.length>3&&Y.jsxs("div",{className:"text-[6px] text-slate-400 font-bold text-center",children:["+",J.items.length-3]})]})]},J.date)})})]}),Y.jsxs("section",{className:`rounded-[2.5rem] shadow-2xl p-8 space-y-6 border ${D?"bg-slate-900 border-slate-800":"bg-white border-slate-100"}`,children:[Y.jsxs("div",{className:"flex justify-between items-center border-b pb-4 dark:border-slate-800",children:[Y.jsx("h3",{className:"font-black text-[10px] uppercase tracking-widest italic text-slate-500",children:"Dienstoverzicht"}),Y.jsx("span",{className:"text-[11px] font-black text-blue-600 bg-blue-50 dark:bg-blue-900/20 px-4 py-1.5 rounded-full",children:new Date(yt).toLocaleDateString("nl-NL",{day:"numeric",month:"long"})})]}),Y.jsxs("div",{className:"space-y-3",children:[v.filter(J=>J.date===yt).map(J=>{const Ht=d.find(on=>on.id===J.tourId),Se=J.status==="confirmed",Ae=i?.isAdmin||J.userId===r.uid;return Y.jsxs("div",{className:`p-4 rounded-2xl flex items-center justify-between shadow-sm border transition-all ${Se?J.type==="work"?`${Ht?.color||"bg-slate-500"} text-white border-transparent`:"bg-slate-800 text-white border-transparent":D?"bg-slate-800 border-slate-700 text-slate-400":"bg-slate-50 border-slate-200 text-slate-400"}`,children:[Y.jsxs("div",{className:"flex items-center gap-3",children:[J.type==="work"?Y.jsx(Kd,{size:18}):Y.jsx(Yd,{size:18}),Y.jsxs("div",{className:"flex flex-col",children:[Y.jsx("span",{className:"font-black text-sm leading-tight",children:J.userName}),Y.jsxs("span",{className:"text-[9px] font-bold uppercase opacity-70",children:[Ht?.label||(J.type==="off"?"Verlof":"Dienst"),!Se&&" (In aanvraag)"]})]})]}),Ae&&Y.jsx("button",{onClick:()=>ue("requests",J.id),className:"p-2 hover:bg-black/10 rounded-lg text-white/80",children:Y.jsx(Xd,{size:16})})]},J.id)}),kt?Y.jsxs("div",{className:"mt-4 p-4 border-2 border-dashed rounded-2xl border-blue-200 dark:border-slate-700 animate-in",children:[Y.jsxs("div",{className:"flex justify-between items-center mb-3",children:[Y.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-blue-600",children:"Selecteer ronde:"}),Y.jsx("button",{onClick:()=>I(!1),className:"text-slate-400",children:Y.jsx(iD,{size:16})})]}),Y.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.map(J=>Y.jsx("button",{onClick:()=>Et("work",J.id),className:`p-3 border rounded-xl font-black text-[9px] uppercase transition-all ${D?"bg-slate-800 border-slate-700 hover:border-blue-500":"bg-white border-slate-200 hover:border-blue-500 text-slate-900"}`,children:J.label},J.id))})]}):Y.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[Y.jsxs("button",{onClick:()=>I(!0),className:`p-4 rounded-2xl font-black text-[10px] border flex items-center justify-center gap-2 uppercase transition-all ${D?"bg-slate-800 border-slate-700 hover:bg-slate-700":"bg-slate-50 border-slate-100 hover:bg-white"}`,children:[Y.jsx(XI,{size:16,className:"text-green-500"})," Werken"]}),Y.jsxs("button",{onClick:()=>Et("off"),className:`p-4 rounded-2xl font-black text-[10px] border flex items-center justify-center gap-2 uppercase transition-all ${D?"bg-slate-800 border-slate-700 hover:bg-slate-700":"bg-slate-50 border-slate-100 hover:bg-white"}`,children:[Y.jsx(Yd,{size:16,className:"text-orange-500"})," Verlof"]})]})]})]}),i?.isAdmin&&v.filter(J=>J.status==="pending").length>0&&Y.jsxs("section",{className:`rounded-[2.5rem] shadow-xl border-4 p-6 space-y-4 animate-in ${D?"bg-slate-900 border-blue-900/20":"bg-white border-blue-50"}`,children:[Y.jsxs("h3",{className:"font-black text-xs uppercase tracking-widest text-blue-600 italic flex items-center gap-2",children:["Aanvragen ",Y.jsx("span",{className:"bg-blue-600 text-white text-[10px] px-2 py-0.5 rounded-full not-italic",children:v.filter(J=>J.status==="pending").length})]}),v.filter(J=>J.status==="pending").map(J=>Y.jsxs("div",{className:`p-5 rounded-2xl border flex flex-col gap-4 ${D?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-100"}`,children:[Y.jsxs("div",{className:"flex justify-between items-start",children:[Y.jsxs("div",{children:[Y.jsx("div",{className:"text-base font-black leading-tight",children:J.userName}),Y.jsx("div",{className:"text-[10px] font-bold text-blue-500 uppercase",children:new Date(J.date).toLocaleDateString("nl-NL")})]}),Y.jsx("span",{className:`text-[8px] font-black px-2 py-1 rounded-lg border uppercase ${J.type==="work"?"bg-green-500/10 text-green-500 border-green-500/20":"bg-orange-500/10 text-orange-500 border-orange-500/20"}`,children:J.type==="work"?"Dienst":"Verlof"})]}),Y.jsxs("div",{className:"flex gap-2",children:[Y.jsx("button",{onClick:()=>It(J),className:"flex-1 bg-blue-600 text-white py-2.5 rounded-xl font-black text-[10px] uppercase shadow-md active:scale-95",children:"Accepteren"}),Y.jsx("button",{onClick:()=>ue("requests",J.id),className:"flex-1 bg-white dark:bg-slate-700 border dark:border-slate-600 py-2.5 rounded-xl font-black text-red-500 uppercase",children:"Weigeren"})]})]},J.id))]})]}),Y.jsxs("footer",{className:"max-w-xl mx-auto px-6 py-4 flex items-center justify-between text-[10px] font-bold text-slate-400",children:[Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),Y.jsxs("span",{children:["Ingelogd als: ",i?.name||"Laden..."]})]}),Y.jsxs("button",{onClick:()=>Nc.signOut(),className:"flex items-center gap-1 hover:text-red-500 transition-colors uppercase",children:[Y.jsx(FI,{size:12})," Afmelden"]})]})]})}AS.createRoot(document.getElementById("root")).render(Y.jsx(gS.StrictMode,{children:Y.jsx(aD,{})}));
